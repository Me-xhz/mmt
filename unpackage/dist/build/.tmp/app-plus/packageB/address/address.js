(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageB/address/address"],{2894:function(e,s,t){"use strict";t.r(s);var d=t("bed5"),a=t.n(d);for(var i in d)"default"!==i&&function(e){t.d(s,e,function(){return d[e]})}(i);s["default"]=a.a},"70bf":function(e,s,t){"use strict";var d=t("e6c3"),a=t.n(d);a.a},b118:function(e,s,t){"use strict";t.r(s);var d=t("c952"),a=t("2894");for(var i in a)"default"!==i&&function(e){t.d(s,e,function(){return a[e]})}(i);t("70bf");var n=t("2877"),r=Object(n["a"])(a["default"],d["a"],d["b"],!1,null,null,null);s["default"]=r.exports},bed5:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var d,a=getApp().globalData,i=t("28c1"),n=[],r=[],o={data:function(){return{hidden:!0,cartId:0,textNum:120,defaulAddress:!1,is_default:"0",scrollTop:0,thisAdd:[],consignee:"",address_id:"",mobile:"",address:"",chooseAdd:"",regions:"",disabled:"",addressArr:"",shengArr:"",thischooseAdd:"",showType:!1}},components:{},props:{},onLoad:function(e){if(void 0!=e&&void 0!=e.addressData){var s=this,t=JSON.parse(e.addressData),r="1"==t.is_default,o=t.address?t.address.length:0;if(t.regions){var u=[];for(var c in t.regions)u.push(t.regions[c].id)}-1!=t.address_id?s.setData({consignee:t.consignee,address_id:t.address_id,mobile:t.mobile,address:t.address,is_default:String(t.is_default),chooseAdd:t.regions,regions:u,textNum:120-o,defaulAddress:r,disabled:e.disabled}):s.setData({address_id:t.address_id,is_default:String(t.is_default),disabled:t.is_default,defaulAddress:1==t.is_default});var f=a.getPath.getRegionList;i.ApiGateWayTest(f,"",!0,function(e){if(e&&1==e.data.success){for(var t in d=e.data.result.regions,e.data.result.regions)n.push({name:d[t].name,id:d[t].id,type:1});s.setData({addressArr:n,shengArr:n})}})}else i.toast("请求参数错误")},methods:{formSubmit:function(e){var s=e.detail.value,t=new RegExp(/^1[0-9]{10}$/),d=t.test(s.phone);if(s.consignee)if(d)if(this.regions&&s.address){var n,r={address:s.address,is_default:this.is_default,mobile:s.phone,consignee:s.consignee,region:this.regions,tel:"",zip_code:""};-1==this.address_id?n=a.getPath.addAddress:(n=a.getPath.alterAddress,r.address_id=this.address_id),i.ApiGateWayTest(n,r,!0,function(e){e&&1==e.data.success?(i.toast("保存成功!"),wx.navigateBack(1)):i.toast(e.data.msg)})}else i.toast("地址不能为空");else i.toast("请输入正确的手机号");else i.toast("收货人不能为空")},chooseAdd:function(e){var s=[],t=e.currentTarget.dataset.item;r.push({name:t.name,id:t.id});var a=d;for(var i in a)for(var n in a[i].regions)if(t.id==a[i].id)s.push({name:a[i].regions[n].name,id:a[i].regions[n].id,type:2});else if(t.id==a[i].regions[n].id)for(var o in a[i].regions[n].regions)s.push({name:a[i].regions[n].regions[o].name,id:a[i].regions[n].regions[o].id,type:3});if(this.setData({addressArr:s,scrollTop:0,chooseAdd:r,thischooseAdd:r}),3==t.type){var u=[];for(var i in r)u.push(r[i].id);this.setData({chooseAdd:r,regions:u}),this.hiddendrop()}},cancelChoose:function(e){this.setData({showType:!1})},addressNumber:function(e){var s=e.detail.value.length;this.setData({textNum:120-s})},switchChecked:function(e){var s,t=e.detail.value;s=t?"1":"0",this.setData({is_default:s})},showScrollView:function(e){this.setData({hidden:!1,addressArr:this.shengArr,thischooseAdd:""})},hiddendrop:function(){r=[],this.setData({hidden:!0})},deleteAdd:function(e){var s="是否要删除该地址？",t="确定";i.showModal(s,t,function(e){if(e.confirm){var s=a.getPath.delAddress,t={address_ids:this.address_id};i.ApiGateWayTest(s,t,!0,function(e){1==e.data.success&&(wx.navigateBack(1),i.toast("地址删除成功"))})}})},setData:function(e){var s=this,t=[];Object.keys(e).forEach(function(d){t=d.split("."),e[d],s.$data,t.forEach(function(t,a){s[d]=e[d]})})}}};s.default=o},c952:function(e,s,t){"use strict";var d=function(){var e=this,s=e.$createElement;e._self._c},a=[];t.d(s,"a",function(){return d}),t.d(s,"b",function(){return a})},e6c3:function(e,s,t){}},[["939d","common/runtime","common/vendor"]]]);