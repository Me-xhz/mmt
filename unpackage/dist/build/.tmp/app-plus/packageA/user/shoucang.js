(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/user/shoucang"],{"0299":function(t,a,e){},"2b87":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=getApp().globalData,n=1,c=!0,i=e("28c1"),s={data:function(){return{iconURL:o.dataBase.iconURL,page:1,page_size:10,productData:[],editType:!0,left:!1,choose:"",loaded:!1,showEmpty:!1,attentionNum:"",showIcon:!1,checkbox:""}},components:{},props:{},onLoad:function(t){this.setData({productData:[],page:1}),this.loadProductData(1)},onShow:function(){},onPullDownRefresh:function(){this.setData({productData:[],loaded:!1}),n=1,this.loadProductData(n,"downRefresh")},onReachBottom:function(){c&&(n++,this.loadProductData(n))},methods:{loadProductData:function(t,a){var e=this,n=o.getPath.getGoodsLike,s={page:t,page_size:this.page_size};i.ApiGateWayTest(n,s,!0,function(t){if(t&&t.data&&1==t.data.success){var o=t.data.result.data,n=t.data.result.total;if("downRefresh"==a&&wx.stopPullDownRefresh(),o.length>0){for(var i in o.length<10?(c=!1,e.setData({loaded:!0})):c=!0,o)o[i].checked=!1;e.setData({productData:e.productData.concat(o),attentionNum:n})}else e.setData({showIcon:!0});e.productData.length<=0&&e.setData({left:!1,showEmpty:!0})}})},initProductData:function(t){for(var a in t){var e=t[a];e.Price=e.Price/100,e.ImgUrl=o.dataBase.hostImg+e.ImgUrl}},ChooseActive:function(t,a,e){var o,n=0;if(0==this.editType){for(var c in a)e==a[c].goods_id&&(a[c].checked=!a[c].checked),0==a[c].checked&&n++;o=n<=0,t.setData({checkbox:o,productData:a})}},edit:function(){this.editType=!this.editType,this.left=!this.left;var t=this.productData;this.ChooseActive(this,t),this.setData({left:this.left,editType:this.editType})},choose:function(t){var a=t.currentTarget.dataset.id;if(this.editType)wx.navigateTo({url:"../../pages/product/product?entryType=external&productId="+a});else{var e=this.productData;this.ChooseActive(this,e,a)}},chooseAll:function(){var t,a=0,e=this.productData;for(var o in e)0==e[o].checked&&a++;if(a>0){for(var o in e)e[o].checked=!0;t=!0}else{for(var o in e)e[o].checked=!1;t=!1}this.setData({productData:e,checkbox:t})},removeFavorites:function(){var t=this,a=[],e=this.productData;for(var n in e)1==e[n].checked&&a.push(e[n].goods_id);var c="确定取消收藏吗？",s="确定";i.showModal(c,s,function(e){var n=o.getPath.goodsUnlike,c={goods_id:a};i.ApiGateWayTest(n,c,!0,function(a){a&&a.data&&1==a.data.success&&(t.onLoad(),i.toast("取消收藏成功"))})})},setData:function(t){var a=this,e=[];Object.keys(t).forEach(function(o){e=o.split("."),t[o],a.$data,e.forEach(function(e,n){a[o]=t[o]})})}}};a.default=s},"34e5":function(t,a,e){"use strict";e.r(a);var o=e("2b87"),n=e.n(o);for(var c in o)"default"!==c&&function(t){e.d(a,t,function(){return o[t]})}(c);a["default"]=n.a},"4ea2":function(t,a,e){"use strict";var o=e("0299"),n=e.n(o);n.a},"58b8":function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement;t._self._c},n=[];e.d(a,"a",function(){return o}),e.d(a,"b",function(){return n})},"80e7":function(t,a,e){"use strict";e.r(a);var o=e("58b8"),n=e("34e5");for(var c in n)"default"!==c&&function(t){e.d(a,t,function(){return n[t]})}(c);e("4ea2");var i=e("2877"),s=Object(i["a"])(n["default"],o["a"],o["b"],!1,null,null,null);a["default"]=s.exports}},[["bc51","common/runtime","common/vendor"]]]);