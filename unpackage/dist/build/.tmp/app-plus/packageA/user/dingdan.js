(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/user/dingdan"],{"62b9":function(t,e,r){"use strict";r.r(e);var a=r("6d27"),o=r.n(a);for(var n in a)"default"!==n&&function(t){r.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},"6d27":function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=getApp().globalData,o=r("28c1"),n={data:function(){return{iconURL:a.dataBase.iconURL,ORDER_STATUS:a.ORDER_STATUS,TAB_ALL:0,TAB_CREATED:1,TAB_PAID:2,TAB_DELIVERING:3,TAB_DELIVERIED:4,currentTab:"0",page_size:5,page:1,reasons:["商品质量问题","商品漏发/错发","其他"],orders:[],isShowGoHome:!1}},components:{},props:{},onLoad:function(e){void 0!=e&&void 0!=e.currentTab?(console.log(t("欢迎进入我的订单页面"," at packageA\\user\\dingdan.vue:154")),this.setData({currentTab:String(e.currentTab)}),e&&e.entryType&&"external"==e.entryType?this.setData({isShowGoHome:!1}):this.setData({isShowGoHome:!0})):o.toast("请求参数错误")},onShow:function(){this.page=1,this.page_size=5,this.orders=[],wx.pageScrollTo({scrollTop:0,duration:100}),this.loadOrderList()},onReachBottom:function(){var t=this;t.orders&&t.orders.length%t.page_size==0&&(t.page=t.orders.length/t.page_size+1,t.loadOrderList())},onPullDownRefresh:function(){var t=this;t.orders=[],t.page=1,t.page_size=5,t.loadOrderList()},methods:{gotoHome:function(){wx.switchTab({url:"/pages/index/index"})},loadOrderList:function(){var t=this;o.showLoad(this);var e=a.getPath.orderList;0==t.currentTab&&(t.currentTab="0");var r={page:t.page,page_size:t.page_size,status:t.currentTab};o.ApiGateWayTest(e,r,!0,function(e){var r=e.data.result.data;r&&1!=e.data.errorCode?(t.orders=t.orders?t.orders.concat(r):r,t.setData({orders:t.orders}),o.hideLoad(t),wx.stopPullDownRefresh()):o.toast(e.data.msg)})},swichNav:function(t){var e=this;if(e.currentTab===t.currentTarget.dataset.current)return!1;var r=t.currentTarget.dataset.current;e.getOrderStatus(),e.setData({currentTab:r}),e.onPullDownRefresh()},getOrderStatus:function(){return 0==this.currentTab?1:2==this.currentTab?2:3==this.currentTab?3:4==this.currentTab?4:0},touchCancel:function(t){var e=this,r=t.currentTarget.dataset.orderId,n=a.getPath.cancelOrder,s={order_id:r},d="是否取消该订单？",i="确定";o.showModal(d,i,function(t){t.confirm&&o.ApiGateWayTest(n,s,!0,function(t){1==t.data.success?(wx.pageScrollTo({scrollTop:0,duration:100}),o.toast(t.data.msg),e.onPullDownRefresh()):o.toast(t.data.msg)})})},touchConfirm:function(t){var e=this,r=t.currentTarget.dataset.orderId,n=a.getPath.confirmReceive,s={order_id:r},d="你确定已收到宝贝吗？",i="确定";o.showModal(d,i,function(t){t.confirm&&o.ApiGateWayTest(n,s,!0,function(t){1==t.data.success?(wx.pageScrollTo({scrollTop:0,duration:100}),o.toast(t.data.msg),e.onPullDownRefresh()):o.toast(t.data.msg)})})},touchPay:function(t){var e=t.currentTarget.dataset.orderId,r=a.getPath.doPay,n={order_id:e,payment_code:"wxpay"};o.ApiGateWayTest(r,n,!0,function(t){if(1==t.data.success){var e=t.data.result;o.doWechatPay(e,function(t){o.toast("支付成功"),wx.navigateTo({url:"/pages/confirm/paymentStatus/paymentStatus?order_id="+n.order_id+"&payment_code="+n.payment_code})},function(t){o.toast("支付失败"),wx.pageScrollTo({scrollTop:0,duration:100})})}})},checkPay:function(t){var e=this,r=a.getPath.checkPay,n={order_id:t};o.ApiGateWayTest(r,n,!0,function(t){wx.pageScrollTo({scrollTop:0,duration:100}),e.onPullDownRefresh()})},goOrderDetail:function(t){var e=t.currentTarget.dataset.orderid;wx.navigateTo({url:"../user/detail?entryType=external&orderId="+e})},touchExpress:function(t){var e=t.currentTarget.dataset;wx.navigateTo({url:"../user/order-express?order="+e.order.order_id+"&delivery_id="+e.delivery_id})},touchComment:function(t){var e=t.currentTarget.dataset.orderId;wx.navigateTo({url:"../user/order-review?order="+e})},touchSubComment:function(t){var e=t.currentTarget.dataset.orderId;wx.navigateTo({url:"../user/add-order-review?order="+e})},setData:function(t){var e=this,r=[];Object.keys(t).forEach(function(a){r=a.split("."),t[a],e.$data,r.forEach(function(r,o){e[a]=t[a]})})}}};e.default=n}).call(this,r("0de9")["default"])},"846a":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},o=[];r.d(e,"a",function(){return a}),r.d(e,"b",function(){return o})},d37d:function(t,e,r){"use strict";var a=r("ef3d"),o=r.n(a);o.a},ef3d:function(t,e,r){},fbb6:function(t,e,r){"use strict";r.r(e);var a=r("846a"),o=r("62b9");for(var n in o)"default"!==n&&function(t){r.d(e,t,function(){return o[t]})}(n);r("d37d");var s=r("2877"),d=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,null,null);e["default"]=d.exports}},[["ed59","common/runtime","common/vendor"]]]);