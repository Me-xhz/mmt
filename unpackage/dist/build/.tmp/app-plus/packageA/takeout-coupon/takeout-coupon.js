(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["packageA/takeout-coupon/takeout-coupon"],{1413:function(t,e,a){},"4aff":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=getApp().globalData,n=a("28c1"),r={data:function(){return{iconURL:o.dataBase.iconURL,vou:[],couponlist:[],currentTab:0,page:1,page_size:10,refresh:!0,couponType:!0,loading:!0,ac_load_btn:!0,isShowGoHome:!1,now_time:(new Date).getTime(),content:""}},components:{},props:{},onLoad:function(t){t&&t.entryType&&"external"==t.entryType?this.setData({isShowGoHome:!1}):this.setData({isShowGoHome:!0})},onShow:function(){var t=this.currentTab;this.setData({vou:[],refresh:!0,page:1}),this.getCouponList(t)},onPullDownRefresh:function(){var t=this.currentTap;this.setData({vou:[],refresh:!0,page:1}),this.getCouponList(t)},onReachBottom:function(){var t=this;if(t.refresh){t.setData({page:t.page+1});var e=t.currentTab;t.getCouponList(e)}},methods:{goShop:function(t){wx.navigateTo({url:"../takeout-shop/takeout-shop?entryType=external&shop_id="+t.currentTarget.dataset.shop_id})},swichNav:function(t){var e=this;if(!e.ac_load_btn)return!1;var a=t.currentTarget.dataset.current;e.setData({currentTab:a,vou:[],refresh:!0,page:1}),wx.pageScrollTo({scrollTop:0,duration:0}),e.getCouponList(a)},gotoHome:function(){wx.switchTab({url:"/pages/index/index"})},getCouponList:function(t,e){var a=this;n.showLoad(this),a.ac_load_btn=!1;var r=o.getPath.shopCouponList,s={page:a.page,page_size:a.page_size,status:t};n.ApiGateWayTest(r,s,!0,function(t){if(t&&t.data&&1==t.data.success){var e=t.data.result.data;if(e.length>0){for(var o in e)e[o]["checked"]=0;a.setData({vou:a.vou.concat(e),couponType:!0}),e.length<a.page_size&&a.setData({refresh:!1})}else a.setData({couponType:!1,refresh:!1});wx.stopPullDownRefresh()}else t&&t.data&&0==t.data.success&&a.setData({couponType:!1,content:t.data.msg});a.ac_load_btn=!0,n.hideLoad(a)})},setData:function(t){var e=this,a=[];Object.keys(t).forEach(function(o){a=o.split("."),t[o],e.$data,a.forEach(function(a,n){e[o]=t[o]})})}}};e.default=r},"5bf0":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return n})},bb61:function(t,e,a){"use strict";a.r(e);var o=a("4aff"),n=a.n(o);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);e["default"]=n.a},c4af:function(t,e,a){"use strict";var o=a("1413"),n=a.n(o);n.a},fccb:function(t,e,a){"use strict";a.r(e);var o=a("5bf0"),n=a("bb61");for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a("c4af");var s=a("2877"),u=Object(s["a"])(n["default"],o["a"],o["b"],!1,null,null,null);e["default"]=u.exports}},[["4855","common/runtime","common/vendor"]]]);