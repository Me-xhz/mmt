<view><block wx:if="{{showPage}}"><view class="page"><view class="container cart-list"><block wx:if="{{groups.goods&&groups.goods.length<=0}}"><view class="empty"><view class="empty-item mt_10"><image class="item-logo" src="{{iconURL+'/icon_cart_empty02.png'}}"></image><view class="item-text font-w t7 mt_48">您还没有添加商品~</view><button class="goHome t4 empty_color" type="default" data-event-opts="{{[['tap',[['goHome',['$event']]]]]}}" bindtap="__e">去添加<view class="iconfont icon-btn_sanjiaoxiaojiantoux1"></view></button></view></view></block><view class="cart-group cart-bg-yellow"><block wx:for="{{groups.goods}}" wx:for-item="good" wx:for-index="index" wx:key="index"><view class="mt_16"><block wx:if="{{good.tips.is_show==1}}"><view class="remind_header"><view class="remind_headers" data-activity_id="{{good.tips.activity_id}}" data-event-opts="{{[['tap',[['load_select',['$event']]]]]}}" catchtap="__e"><block wx:if="{{good.tips.is_done==1}}"><block><view class="select_btn"><text>{{good.tips.activity_type_desc}}</text></view><text class="ml_24">{{good.tips.desc}}</text><view class="to_add" style="color:#555;"><text class="font_26">查看活动</text><view class="iconfont icon-btn_xiangyoudajiantoux icon-right-arrow font_color_555"></view></view></block></block><block wx:else><block><view class="select_btn"><text>{{good.tips.activity_type_desc}}</text></view><text class="ml_24">{{good.tips.desc}}</text><view class="to_add"><text class="font_26">去凑单</text><view class="iconfont icon-btn_xiangyoudajiantoux icon-right-arrow"></view></view></block></block></view></view></block><block wx:for="{{good.list}}" wx:for-item="goods" wx:for-index="index2" wx:key="index2"><view><block wx:if="{{goods.is_on_sale==1&&goods.is_enough==1&&goods.is_disable==0}}"><view class="row list-item cart-bg-white"><view class="item-prev"><view class="item-checkbox" data-goods="{{goods}}" data-index="{{index}}" data-tips="{{good.tips}}" data-event-opts="{{[['tap',[['touchSelect',['$event']]]]]}}" bindtap="__e"><image src="{{iconURL+'/gouxuan03.png'}}" hidden="{{!goods.selected}}"></image><image src="{{iconURL+'/weixuanzhong.svg'}}" hidden="{{goods.selected}}"></image></view><block wx:if="{{goods.is_disable==1}}"><view class="item-disable is-tip" hidden="{{edit_mode}}"></view></block></view><view class="item-box row" hidden="{{edit_mode}}"><view class="item-photo" data-product="{{goods}}" data-event-opts="{{[['tap',[['touchProduct',['$event']]]]]}}" bindtap="__e"><label style="{{('background-image: url('+goods.header_img+');')}}" class="_span"></label></view><view class="item-info col"><view class="good_name"><text data-product="{{goods}}" data-event-opts="{{[['tap',[['touchProduct',['$event']]]]]}}" bindtap="__e">{{goods.goods_name}}</text></view><view class="info-attr no-padding-top">{{goods.sku_key_name}}</view><view class="info-price" data-product="{{goods}}" data-event-opts="{{[['tap',[['touchProduct',['$event']]]]]}}" bindtap="__e"><text class="price-normal font-face-ios_Avenir"><text class="price-val"><text class="icon_rmb">¥</text>{{goods.shop_price+''}}</text></text><block wx:if="{{goods.shop_price!=goods.market_price}}"><text class="price-n">{{"¥"+goods.market_price}}</text></block></view></view><form class="item-del" data-product="{{goods}}" report-submit="true" data-event-opts="{{[['submit',[['touchDel',['$event']]]]]}}" bindsubmit="__e"><button formType="submit"><text class="iconfont icon-lajitong"></text></button></form><view data-event-opts="{{[['tap',[['stopBubbling',['$event']]]]]}}" class="info-amount" bindtap="__e"><form class="amount-button left" report-submit="true" data-goods="{{goods}}" data-index="{{index}}" data-g_index="{{g_index}}" data-event-opts="{{[['submit',[['touchAmountSub',['$event']]]]]}}" bindsubmit="__e"><button class="{{['amount-icon base-font-color '+(goods.amount<=goods.min_buy_amount?'cant-del':'')]}}" form-type="submit">-</button></form><input class="amount-input" type="number" disabled="disabled" value="{{goods.amount}}"/><form class="amount-button right" report-submit="true" data-goods="{{goods}}" data-index="{{index}}" data-g_index="{{g_index}}" data-event-opts="{{[['submit',[['touchAmountAdd',['$event']]]]]}}" bindsubmit="__e"><button class="{{['amount-icon base-font-color '+(goods.amount<0?'cant-del':'')]}}" form-type="submit">+</button></form></view></view></view></block><block wx:if="{{goods.is_on_sale==0||goods.is_enough==0||goods.is_disable==1}}"><view class="row list-item cart-bg-white"><view class="item-prev"><block wx:if="{{goods.is_on_sale==0}}"><view class="item-false" style="{{('background-image:url('+iconURL+'/is_on_sale.png)')}}" hidden="{{edit_mode}}"></view></block><block wx:if="{{goods.is_enough==0}}"><view class="item-false" style="{{('background-image:url('+iconURL+'/is_enough.png)')}}" hidden="{{edit_mode}}"></view></block><block wx:if="{{goods.is_disable==1}}"><view class="item-false" style="{{('background-image:url('+iconURL+'/is_disable.png)')}}" hidden="{{edit_mode}}"></view></block><view class="{{['item-checkbox '+(goods.selected?'radio-icon-active':'')]}}" hidden="{{!edit_mode}}" data-goods="{{goods}}" data-index="{{index}}" data-g_index="{{g_index}}" data-event-opts="{{[['tap',[['touchSelect',['$event']]]]]}}" bindtap="__e"></view></view><view class="item-box row" hidden="{{edit_mode}}"><view class="item-photo" data-product="{{goods}}" data-event-opts="{{[['tap',[['touchProduct',['$event']]]]]}}" bindtap="__e"><view class="hide_white"></view><label style="{{('background-image: url('+goods.header_img+');')}}" class="_span"></label></view><view class="item-info col"><view class="info-name color" data-product="{{goods}}" data-event-opts="{{[['tap',[['touchProduct',['$event']]]]]}}" bindtap="__e">{{goods.goods_name}}</view><view class="info-attr color">{{goods.sku_key_name}}</view><view class="info-price color" data-product="{{goods}}" data-event-opts="{{[['tap',[['touchProduct',['$event']]]]]}}" bindtap="__e"><text class="font-face-ios_Avenir"><text class="price-coin font-face-ios_Arial">¥</text><text class="price-val">{{goods.shop_price}}</text></text></view></view></view></view></block><view class="bottom_border"></view></view></block></view></block></view><block wx:if="{{hasInvalid}}"><view data-event-opts="{{[['tap',[['delAllInvalidGoods',['$event']]]]]}}" class="cart-del-button" bindtap="__e">一键删除失效商品</view></block></view><block wx:if="{{groups.goods&&groups.goods.length>0}}"><view class="cart-submit row"><view data-event-opts="{{[['tap',[['touchSelectAll',['$event']]]]]}}" class="submit-select" bindtap="__e"><view class="select-checkbox"><image src="{{iconURL+'/gouxuan03.png'}}" hidden="{{!isSelectedAll}}"></image><image src="{{iconURL+'/weixuanzhong.svg'}}" hidden="{{isSelectedAll}}"></image></view>全选</view><view class="{{['submit-total '+(selectedGoods&&selectedGoods.length?' active':'')]}}" hidden="{{edit_mode}}"><view class="total-price"><view class="price_all"><text class="i">合计：</text><view class="icon_rmb font_26 _i">¥</view><text class="font_36">{{totalPrice==null?0:totalPrice}}</text></view><block wx:if="{{totalShare!='0.00'}}"><view class="price_sale"><view><text class="font_color_555">已优惠:</text>{{'￥'+totalShare}}</view></view></block></view></view><form report-submit="true" data-event-opts="{{[['submit',[['toNowpay',['$event']]]]]}}" bindsubmit="__e"><button class="col toPay" formType="submit"><label class="_span">结算<label class="num _span">{{"("+selectedAmount+")"}}</label></label></button></form></view></block></view></block><notice vue-id="1" type="2" bind:__l="__l"></notice><block wx:if="{{loadingShow}}"><loading vue-id="2" bind:__l="__l"></loading></block></view>