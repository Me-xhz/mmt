(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pickup2/pickup2"],{"3bee":function(t,i,e){"use strict";(function(t,s){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=getApp().globalData,c=e("28c1"),n={data:function(){return{iconURL:a.dataBase.iconURL,cityName:"",list:[],pList:[],wordArr:[],isTips:!0,isNull:!1,chacheList:[],inpValue:"",warehouse_id:"",city:{},isAuthorization:!1,switch:""}},onLoad:function(i){var e=this,s=c.getStorageSync("city");s.city_id&&(console.log(t("已选择有货的城市",s.cityName," at pages\\pickup2\\pickup2.vue:89")),e.warehouse_id=s.warehouse_id,e.getpickuplistr(e.warehouse_id),e.isTips=!0),1==i.switch&&(e.switch=i.switch)},onShow:function(){var t=this;t.setData({city:c.getStorageSync("city"),isAuthorization:c.getStorageSync("authSetting")["scope.userLocation"]}),c.setStorageSync("reLoad",!0)},created:function(){},methods:{navIndex:function(t,i){var e=this;s.$emit("update",{pickup_name:t,showPage:!0});var a=e.chacheList.filter(function(i){return i.cityName==t})[0];c.setStorageSync("getpickup",a),e.switch?wx.navigateTo({url:"/pages/address/address"}):s.switchTab({url:"/pages/index/index"})},cancelClick:function(){this.inpValue="",this.isNull=!1,this.getpickuplistr()},onKeyInput:function(i){for(var e=[],s=0;s<this.chacheList.length;s++)-1!=this.chacheList[s].cityName.indexOf(i.detail.value)&&e.push(this.chacheList[s]);console.log(t("searchData:",e," at pages\\pickup2\\pickup2.vue:157")),this.transform(e)},transform:function(t){this.list=[],this.wordArr=[],this.pList=[];for(var i=0;i<t.length;i++){var e=t[i].py.charAt(0).toUpperCase(),s=t[i].cityName,a={letter:"",data:[]};if(a.letter=e,a.data.push(s),0==this.list.length||-1==this.wordArr.indexOf(e))this.list.push(a),this.wordArr.push(e);else for(var c=0;c<this.list.length;c++)this.list[c].letter==e&&this.list[c].data.push(s)}this.wordArr.sort();for(i=0;i<this.wordArr.length;i++){var n=this.wordArr[i];for(c=0;c<this.list.length;c++)n==this.list[c].letter&&this.pList.push(this.list[c])}0==this.pList.length?this.isNull=!0:this.isNull=!1},getpickuplistr:function(i){var e=this,s=a.getPath.pickuplistr,n={warehouse_id:i||e.warehouse_id};c.ApiGateWayTest(s,n,!0,function(i){console.log(t(i.data.result.cities," at pages\\pickup2\\pickup2.vue:210")),e.chacheList=i.data.result.cities,e.transform(e.chacheList)})},setStorage:function(i){console.log(t("获取提货点城市",i," at pages\\pickup2\\pickup2.vue:218"));var e=this,n=a.getPath.pickupregionlist;c.ApiGateWayTest(n,{},!0,function(a){if(console.log(t(a.data.result," at pages\\pickup2\\pickup2.vue:224")),a&&a.data&&1==a.data.success){var c=a.data.result.cities,n=c.filter(function(t){return t.warehouse_id==i})[0];e.cityName=n.cityName,e.warehouse_id=n.cityName,s.setStorage({key:"cities2",data:n})}})},getStorageSync:function(t){return wx.getStorageSync(t)},forkclick:function(){this.isTips=!1},goToCity:function(){s.navigateTo({url:"./citys2/citys2"})},openSet:function(){var i=this;wx.openSetting({success:function(e){console.log(t(e," at pages\\pickup2\\pickup2.vue:260")),c.getpickup(function(){i.setData({isAuthorization:e.authSetting["scope.userLocation"],city:c.getStorageSync("city")})})},fail:function(i){console.log(t(i," at pages\\pickup2\\pickup2.vue:269"))}})},setData:function(t){var i=this,e=[];Object.keys(t).forEach(function(s){e=s.split("."),t[s],i.$data,e.forEach(function(e,a){i[s]=t[s]})})}}};i.default=n}).call(this,e("0de9")["default"],e("6e42")["default"])},"44bc":function(t,i,e){"use strict";e.r(i);var s=e("3bee"),a=e.n(s);for(var c in s)"default"!==c&&function(t){e.d(i,t,function(){return s[t]})}(c);i["default"]=a.a},5283:function(t,i,e){"use strict";var s=e("b551"),a=e.n(s);a.a},b551:function(t,i,e){},b87f:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement;t._self._c},a=[];e.d(i,"a",function(){return s}),e.d(i,"b",function(){return a})},cbfc:function(t,i,e){"use strict";e.r(i);var s=e("b87f"),a=e("44bc");for(var c in a)"default"!==c&&function(t){e.d(i,t,function(){return a[t]})}(c);e("5283");var n=e("2877"),o=Object(n["a"])(a["default"],s["a"],s["b"],!1,null,null,null);i["default"]=o.exports}},[["9809","common/runtime","common/vendor"]]]);