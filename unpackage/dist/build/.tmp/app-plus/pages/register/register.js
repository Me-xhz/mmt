(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"0480":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=getApp().globalData,s=n("28c1"),r=n("b6a1"),o={data:function(){return{iconURL:a.dataBase.iconURL,rBtn:!0}},components:{},props:{},onLoad:function(e){this.setData(e)},methods:{onGotUserInfo:function(e){var t=this,n={encrypted_data:e.detail.encryptedData,iv:e.detail.iv,signature:e.detail.signature};s.getUserSessionKey().then(function(){var o=s.getStorageSync("isOldUser");if(e.detail.userInfo){if(t.rBtn){if(t.rBtn=!1,2===o)t.updateUserInfo(n);else if(0===o)wx.navigateBack({delta:1});else{if(a.checkSessionKey)return wx.navigateBack({delta:1}),!1;s.register(function(e){1==e.data.success?(s.setStorageSync("token",e.data.result.token),a.checkSessionKey=!0,r.emit("checkSessionKey",!0),wx.navigateBack({delta:1})):(s.toast(e.data.msg),t.rBtn=!0)},n)}o=wx.removeStorageSync("isOldUser");var i=s.getStorageSync("shareTicket_info");i&&""!=i&&s.setStorageSync("reLoad",!0),a.checkSessionKey=!0}}else s.toast("拒绝授权将无法体验完整功能，建议重新点击进行授权!")})},updateUserInfo:function(e){var t=this,n=a.getPath.getWXUserInfo;s.ApiGateWayTest(n,e,!0,function(e){1==e.data.success?(a.checkSessionKey=!0,r.emit("checkSessionKey",!0),s.setStorageSync("isOldUser",0),wx.navigateBack({delta:1})):(s.toast(e.data.msg),t.rBtn=!0)})},routerOut:function(){wx.navigateBack({delta:1})},setData:function(e){var t=this,n=[];Object.keys(e).forEach(function(a){n=a.split("."),e[a],t.$data,n.forEach(function(n,s){t[a]=e[a]})})}}};t.default=o},"04ab":function(e,t,n){},"0b70":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s})},"4e94":function(e,t,n){"use strict";n.r(t);var a=n("0b70"),s=n("f7c9");for(var r in s)"default"!==r&&function(e){n.d(t,e,function(){return s[e]})}(r);n("5f4e");var o=n("2877"),i=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,null,null);t["default"]=i.exports},"5f4e":function(e,t,n){"use strict";var a=n("04ab"),s=n.n(a);s.a},f7c9:function(e,t,n){"use strict";n.r(t);var a=n("0480"),s=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);t["default"]=s.a}},[["d8dc","common/runtime","common/vendor"]]]);