(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/listdetail/listdetail"],{"0794":function(t,a,e){"use strict";var i=e("ed38"),s=e.n(i);s.a},"18bc":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement;t._self._c},s=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return s})},"45f1":function(t,a,e){"use strict";e.r(a);var i=e("ac3f"),s=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(a,t,function(){return i[t]})}(o);a["default"]=s.a},"7ab8":function(t,a,e){"use strict";e.r(a);var i=e("18bc"),s=e("45f1");for(var o in s)"default"!==o&&function(t){e.d(a,t,function(){return s[t]})}(o);e("0794");var n=e("2877"),d=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,null,null);a["default"]=d.exports},ac3f:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,s=getApp().globalData,o=e("28c1"),n={data:function(){return{iconURL:s.dataBase.iconURL,current:0,ptype:"",page_size:10,page:1,catId:0,brandId:0,scrollTop:0,showBackTop:!1,isEmpty:!1,isLoaded:!1,limitWords:"展开",shopList:[],is_top:"0",activeid:"",objectId:"",showTitleType:"",titleList:"",animationData:"",showModalStatus:!1}},components:{},props:{},onLoad:function(t){if(void 0!=t.brand_id){var a=this,e=t.cat_id?t.cat_id:"",s=t.data_id?t.data_id:"",n=t.ptype?t.ptype:"",d=t.brand_id?t.brand_id:"";a.setData({ptype:n,catId:e,brandId:d,activeid:s,objectId:t.title}),i=t.brand_id&&""!=t.brand_id?1:0,a.setData({showTitleType:i}),a.getBrandHeader(),a.getBrandList()}else o.toast("请求参数错误")},onReachBottom:function(){var t=this;t.shopLists&&t.shopLists.length%t.page_size==0&&(t.page=t.shopLists.length/t.page_size+1,t.getBrandList())},methods:{getBrandHeader:function(){var t=this;if(o.showLoad(t),1==t.showTitleType){var a=s.getPath.brandHeader,e={brand_id:t.brandId};o.ApiGateWayTest(a,e,!0,function(a){if(200==a.statusCode&&0!=a.data.success){var e=a.data.result;e.desc.length>50?(e.words=!0,e.wordsCut=!0):(e.words=!1,e.wordsCut=!1),t.setData({titleList:e}),wx.setNavigationBarTitle({title:t.titleList.name})}else o.toast(a.data.msg)})}else{a=s.getPath.goodsCategory,e={page:1,page_size:100,cat_id:t.catId};o.ApiGateWayTest(a,e,!0,function(a){if(200==a.statusCode){a=a.data.result;t.setData({titleList:a.data})}})}},getBrandList:function(){var t=this;if(o.showLoad(t),1==t.showTitleType){var a=s.getPath.brandProducts,e={brand_id:t.brandId,page:t.page,page_size:t.page_size};o.ApiGateWayTest(a,e,!0,function(a){if(a.data.result&&a.data.result.brands.length>0){var e=[],i=[],s=a.data.result.brands;for(var n in t.shopLists=t.shopLists?t.shopLists.concat(s):s,t.shopLists)e.push(t.shopLists[n]),n%2==1&&(i.push(e),e=[]);e.length>0&&i.push(e),o.hideLoad(t),t.setData({shopList:i,isLoaded:!0})}else o.toast("已经是最后一页了！"),o.hideLoad(t)})}else{a=s.getPath.cateGoodsList,e={page:t.page,page_size:t.page_size,cat_id:t.activeid,is_top:t.is_top};o.ApiGateWayTest(a,e,!0,function(a){if(a.data.result&&a.data.result.data.length>0){var e=[],i=[],s=a.data.result.data;for(var n in t.shopLists=t.shopLists?t.shopLists.concat(s):s,t.shopLists)e.push(t.shopLists[n]),n%2==1&&(i.push(e),e=[]);e.length>0&&i.push(e),t.setData({shopList:i,isLoaded:!0}),o.hideLoad(t)}else o.toast("已经是最后一页了！"),o.hideLoad(t)})}},showModal:function(){var t=wx.createAnimation({duration:200,timingFunction:"linear",delay:0});this.animation=t,t.translateY(300).step(),this.setData({animationData:t.export(),showModalStatus:!0}),setTimeout(function(){t.translateY(0).step(),this.setData({animationData:t.export()})}.bind(this),200)},hideModal:function(){var t=wx.createAnimation({duration:200,timingFunction:"linear",delay:0});this.animation=t,t.translateY(300).step(),this.setData({animationData:t.export()}),setTimeout(function(){t.translateY(0).step(),this.setData({animationData:t.export(),showModalStatus:!1})}.bind(this),200)},switchSlider:function(t){this.setData({current:t.currentTarget.dataset.index})},changeSlider:function(t){this.setData({current:t.detail.current})},titleTap:function(t){var a=this,e=t.currentTarget.dataset.titleid;a.shopLists=[],0==e?(a.is_top=1,a.setData({activeid:a.catId,shopList:[]})):(a.is_top="0",a.setData({activeid:e,shopList:[]})),a.getBrandList()},limitWord:function(t){var a=t.currentTarget.dataset.iscut;this.titleList.wordsCut=!a,a?this.setData({titleList:this.titleList,limitWords:"收起"}):this.setData({titleList:this.titleList,limitWords:"展开"})},onPageScroll:function(t){var a=this;t.scrollTop>500?a.setData({showBackTop:!0}):a.setData({showBackTop:!1})},gotoPagetop:function(t){wx.pageScrollTo({scrollTop:0})},gotoHome:function(){wx.switchTab({url:"../index/index"})},setData:function(t){var a=this,e=[];Object.keys(t).forEach(function(i){e=i.split("."),t[i],a.$data,e.forEach(function(e,s){a[i]=t[i]})})}}};a.default=n},ed38:function(t,a,e){}},[["ed40","common/runtime","common/vendor"]]]);