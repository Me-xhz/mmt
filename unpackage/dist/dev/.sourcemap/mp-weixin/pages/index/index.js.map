{"version":3,"sources":["webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue?a49f","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue?024d","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue?f548","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue?b394","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue?b6ef","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue?0f50"],"names":["app","getApp","globalData","app2","common","require","event","data","switch_index","pickup","cityName","navBarHeight","showTissue","listScroll","showAdver","indicatorDots","autoplay","buy_now","showSearchBG","scrollTop","duration","interval","singleAdcurrent","indexAdcurrent","indicatorColor","indicatorActiveColor","circular","adList","service_title","barList","acticity_new_person","acticity_buy","page_size","shopList","page","refresh","checkSessionKey","iconURL","dataBase","showCouponList","flashSale_title","ac_load_btn","actived_idx","activity_id","activitylist","good_list","total","timer_btn","singleAd","advertisementAd","AdClickBtn","isGoodListBool","productId","itemData","showSKUstatus","optionalAttrs","skuImages","bannerItem","buynum","firstIndex","choosed_sku","cartAmount","undel","unadd","isPriceEqual","canPurchase","indexModel","newFactoryList","share_data","share_title","share_img","showOfficial","showTips","pickUpActivity","takeoutAnimation","choosePickupShow","chooseSelectIndex","choosePickupList","showMoreTips","shop_id","showPacketAd","showPacketCoupon","subjectAdList","packetModal","teamNum","teamGoodsList","team_page","team_page_size","bargain_page","bargain_page_size","be_team_page","be_team_page_size","bargainList","teamList","beTeamList","sliderBarFixed","showCouponsSuccess","showPhoneModal","getRemind","checkShowBottom","showBottomLoading","homeSituation","showRedEnvel","showRedEnvelType","confirmData","entryData","recommendList","height","isAuthorization","signcheckStatus","showCloseImg","popupCouponsList","to_top","animationData","showModalStatus","productid","showfwModalStatus","showShareModalStatus","showBonusModal","brandID","skuSvipCurrent","skuCurrent","sku_price","min_sku_price","sku_svip_price","min_sku_svip_price","currentStock","hasDefaultSKU","sumbitName","indexModel2","loadingShow","showPage","city","components","countDown","goodList","subject","configuremodel","no_warehouse","pickupgoods","loadingbottom","props","onLoad","options","console","log","than","getNewFactory","uni","$on","showLoad","wx","showShareMenu","withShareTicket","setStorageSync","pickupId","getStorageSync","setData","on","res","getPacketModal","onReady","hideLoad","onShow","that2","that","setInviteShareLogin","pickup_type","signcheck","pickup_id","undefined","loadData","getPickUpAcitivity","getHomeSituation","tissue","atitude","getExternal","then","firstlaunchApp","local","warehouse_id","showAddTips","getAdvertisement","getIndexShareInfo","getShopPickUp","getSystemInfo","success","windowWidth","onReachBottom","getIndexProducts","length","getBargainActivity","getTeamList","getBeTeamList","onPullDownRefresh","onShareAppMessage","entry_share_info","target","dataset","shareinfo","shareInfo","fromButton","title","urge_share_text","path","user_id","imageUrl","urge_share_img","invite_share_text","invite_share_img","created","methods","navPick2","navigateTo","url","value","type","uri","getPath","getpickup","Promise","resolve","reject","ApiGateWayTest","result","cities","pick_up","setStorage","key","city_name","pickup_name","pickup_address","pickup_contact","pickup_phone","closeTips","setTimeout","toShowTips","closeAllTips","all","getpickuplistr","getAd","getBar","getsingleAd","$options","stopPullDownRefresh","createSelectorQuery","select","boundingClientRect","rect","top","exec","showModal","content","getNewAd","getSubjectAd","newFactory","resData","toast","msg","indexShareInfo","callback","choose_pickup","openSet","e","detail","isRefresh","goCategory","switchTab","status","to_sign","isOldUser","adlist","pid","goWebView","item","currentTarget","media_type","goAdWebView","adclose","ad_id","goRegister","getCoupons","getDate","timer","setInterval","timestamp","Math","floor","Date","getTime","btn1","progress","start_time","btn2","end_time","getActivitylist","actived","d","getActivitygoodslist","lists","btn","i","state","activitygoodslist","statusCode","nowState","concat","refreshFun","getCoupon","coupon_id","take_type","addCoupon","addAdCoupon","couponInfo","state_desc","is_close","constructor","Array","ad_code","advertisementOut","formIdUpdate","position","id","goBar","index","getActivitynewperson","activitynewperson","getActivityindex","activityindex","goodsRecommend","list","products","goSearch","keyWord","tap_to_top","pageScrollTo","onPageScroll","query","endScroll","clearTimeout","scroll","bind","goToProduct","goodsid","goodsId","goodsName","name","setModalStatus","animation","createAnimation","timingFunction","delay","translateY","opacity","step","export","addShopCart","addCart","loadProductDetail","checkCanPurchase","product","currentAttrs","properties","product_id","stock","split","sort","a","b","join","attrs","invurl","pre_info","is_pre","invdata","goods_id","sku_key","amount","ret","cart_num","nowPurchase","nowPurchaseSub","skuEnough","is_enough","goodsInfo","skuAmounturi","getSkuAmount","productlist","goods_content","introContent","detail_explain","islike","is_liked","current_price","shop_price","price","market_price","gallery","min_buy_amount","cat_id","setDefaultSKU","isPriceEqualFun","defaultAttrIds","defaultAttrStock","maybeStock","effectiveStock","property","is_multiselect","j","push","multiCartesian","_goods_attr","_min_sku_price","_min_sku_svip_price","hasDefaultFlag","ids","is_goods_number","is_on_sale","ind","len","parseInt","_thisStock","Object","parseFloat","toFixed","set_choosed_sku","isin_count","k","isin","RegExp","test","header_img","setAttrsClass","goods_name","sku_key_name","sku_img","attrValueselest","attr","indexOf","splice","inStock","String","filter","self","class","attrArr","currentAyyrsJn","stockDisplyKey","s","required","pre_time","svip_price","changeNum","alphaBeta","max_buy_amount","num","gzhBindload","getConfigureIndexModel2","indexmodel","getConfigureIndexModel","getAllActivity","choosePickupChange","choosePickupSubmit","goTissue","pageUrl","goWebview","goTakeoutShop","getPacket","hide_packet_ad","hide_packet_coupon","change_team_tab","compareVersion","selector","getTeamActivity","map","newSwiperChange","current","sureHomeSituation","rule_img","getEnvelopes","closePhoneModal","toShowPhoneModal","inviteShareLogin","shareTicket_info","getShareInfo","shareTicket","wx_scene","scene","encrypted_data","JSON","stringify","fail","getPhone","encryptedData","iv","mobileUri","getWXMobile","login","Mobiledata","code","pickupInfo","obj","keys","val","forEach","$data","key2"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACc;;;AAGlE;AACoJ;AACpJ,gBAAgB,sJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA+qB,CAAgB,gpBAAG,EAAC,C;;;;;;;;;;;;4pBCAnsB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,GAAG,GAAGC,MAAM,GAAGC,UAAnB;AACA,IAAIC,IAAI,GAAGF,MAAM,EAAjB;AACA,IAAIG,MAAM,GAAGC,mBAAO,CAAC,+BAAD,CAApB;AACA,IAAIC,KAAK,GAAGD,mBAAO,CAAC,8BAAD,CAAnB,C;;;;;;;;AAQe;;AAEdE,MAFc,kBAEP;AACN,WAAO;AACN;AACAC,kBAAY,EAAE,IAFR;AAGN;AACAC,YAAM,EAAE;AACPC,gBAAQ,EAAE,QADH,EAJF;;AAONC,kBAAY,EAAEX,GAAG,CAACW,YAPZ;AAQNC,gBAAU,EAAE,KARN;AASNC,gBAAU,EAAE,IATN;AAUNC,eAAS,EAAE,KAVL;AAWNC,mBAAa,EAAE,KAXT;AAYNC,cAAQ,EAAE,KAZJ;AAaNC,aAAO,EAAE,CAbH;AAcNC,kBAAY,EAAE,KAdR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EAAb;;AAKAsH,cAAI,CAACkI,eAAL;AACA;AACD,OAhCuB,EAgCrB,IAhCqB,CAAxB;AAiCA,KA9cO;AA+cR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,WAAO,EAAE,iBAASjC,CAAT,EAAY;AACpB,UAAIlG,IAAI,GAAG,IAAX;AACA,UAAIoI,CAAC,GAAGlC,CAAC,CAACY,aAAF,CAAgB7E,OAAxB;;AAEA,UAAI,CAACjC,IAAI,CAAC5H,WAAV,EAAuB;AACtB,eAAO,KAAP;AACA;;AAED4H,UAAI,CAACR,OAAL,CAAa;AACZlH,mBAAW,EAAE8P,CAAC,CAAC9P,WADH;AAEZD,mBAAW,EAAE+P,CAAC,CAAC/P,WAFH;AAGZR,YAAI,EAAE,CAHM;AAIZW,iBAAS,EAAE,EAJC,EAAb;;AAMAwH,UAAI,CAACqI,oBAAL;AACA,KA/lBO;;AAimBR;AACAH,mBAlmBQ,6BAkmBU;AACjB,UAAIlI,IAAI,GAAG,IAAX;AACA,UAAIoD,GAAG,GAAGzN,GAAG,CAAC0N,OAAJ,CAAY9K,YAA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","file":"pages/index/index.js","sourcesContent":["import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=dfa76ffc&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('dfa76ffc', component.options)\n    } else {\n      api.reload('dfa76ffc', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=dfa76ffc&\", function () {\n      api.rerender('dfa76ffc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=dfa76ffc&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar app = getApp().globalData;\nvar app2 = getApp()\nvar common = require(\"../../utils/common.js\");\nvar event = require(\"../../utils/event.js\");\nimport countDown from \"../../components/countDown/countDown\";\nimport goodList from \"../../components/goodList/goodList\";\nimport subject from \"../../components/subject/subject\";\nimport configuremodel from \"./configureModel/configureModel\";\nimport no_warehouse from \"../../components/no_warehouse/no_warehouse\";\nimport pickupgoods from \"../../components/pickUpActivity/pickUpActivity\";\nimport loadingbottom from \"../../components/loadingBottom/loadingBottom\";\nexport default {\n\n\tdata() {\n\t\treturn {\n\t\t\t//有工厂后显示index\n\t\t\tswitch_index: true,\n\t\t\t// 自提点\n\t\t\tpickup: {\n\t\t\t\tcityName: '请选择提货点'\n\t\t\t},\n\t\t\tnavBarHeight: app.navBarHeight,\n\t\t\tshowTissue: false,\n\t\t\tlistScroll: true,\n\t\t\tshowAdver: false,\n\t\t\tindicatorDots: false,\n\t\t\tautoplay: false,\n\t\t\tbuy_now: 0,\n\t\t\tshowSearchBG: false,\n\t\t\tscrollTop: 0,\n\t\t\tduration: 500,\n\t\t\tinterval: 5000,\n\t\t\tsingleAdcurrent: 0,\n\t\t\tindexAdcurrent: 0,\n\t\t\tindicatorColor: \"#fff\",\n\t\t\tindicatorActiveColor: \"#eb3c39\",\n\t\t\tcircular: true,\n\t\t\tadList: [],\n\t\t\tservice_title: [],\n\t\t\tbarList: [],\n\t\t\tacticity_new_person: [],\n\t\t\tacticity_buy: {},\n\t\t\tpage_size: 10,\n\t\t\tshopList: [],\n\t\t\tpage: 1,\n\t\t\trefresh: true,\n\t\t\tcheckSessionKey: app.checkSessionKey,\n\t\t\ticonURL: app.dataBase.iconURL,\n\t\t\t// showCloseImg: false,\n\t\t\tshowCouponList: false,\n\t\t\t// 限时抢购\n\t\t\tflashSale_title: '',\n\t\t\tac_load_btn: true,\n\t\t\tactived_idx: 1,\n\t\t\tactivity_id: 0,\n\t\t\tactivitylist: [],\n\t\t\tgood_list: [],\n\t\t\ttotal: 0,\n\t\t\ttimer_btn: false,\n\t\t\tsingleAd: [],\n\t\t\tadvertisementAd: [],\n\t\t\tAdClickBtn: true,\n\t\t\tisGoodListBool: false,\n\t\t\t// 商详\n\t\t\tproductId: 0,\n\t\t\titemData: {},\n\t\t\tshowSKUstatus: 0,\n\t\t\toptionalAttrs: {},\n\t\t\tskuImages: '',\n\t\t\tbannerItem: [],\n\t\t\tbuynum: 1,\n\t\t\t// 属性选择\n\t\t\tfirstIndex: -1,\n\t\t\tchoosed_sku: '',\n\t\t\tcartAmount: 0,\n\t\t\t// 弹窗SKU，不能减不能加\n\t\t\tundel: true,\n\t\t\tunadd: false,\n\t\t\t// SKU的VIP价格和非SVIP是否相同\n\t\t\tisPriceEqual: false,\n\t\t\tcanPurchase: false,\n\t\t\t//模块\n\t\t\tindexModel: null,\n\t\t\t// 新厂图片数据\n\t\t\tnewFactoryList: [],\n\t\t\t// 分享信息\n\t\t\tshare_data: {\n\t\t\t\tshare_title: \"\",\n\t\t\t\tshare_img: \"\"\n\t\t\t},\n\t\t\t// 公众号组件显示\n\t\t\tshowOfficial: true,\n\t\t\tshowTips: true,\n\t\t\tpickUpActivity: {},\n\t\t\ttakeoutAnimation: false,\n\t\t\tchoosePickupShow: false,\n\t\t\tchooseSelectIndex: 0,\n\t\t\tchoosePickupList: [],\n\t\t\tshowMoreTips: false,\n\t\t\tshop_id: 0,\n\t\t\tshowPacketAd: true,\n\t\t\tshowPacketCoupon: false,\n\t\t\tsubjectAdList: [],\n\t\t\tpacketModal: [],\n\t\t\tteamNum: 0,\n\t\t\tteamGoodsList: [],\n\t\t\tteam_page: 1,\n\t\t\tteam_page_size: 20,\n\t\t\tbargain_page: 1,\n\t\t\tbargain_page_size: 20,\n\t\t\tbe_team_page: 1,\n\t\t\tbe_team_page_size: 20,\n\t\t\tbargainList: [],\n\t\t\tteamList: [],\n\t\t\tbeTeamList: [],\n\t\t\tsliderBarFixed: false,\n\t\t\t// 领券成功弹窗\n\t\t\tshowCouponsSuccess: false,\n\t\t\tshowPhoneModal: false,\n\t\t\tgetRemind: false,\n\t\t\tcheckShowBottom: false,\n\t\t\tshowBottomLoading: false,\n\t\t\thomeSituation: {},\n\t\t\tshowRedEnvel: false,\n\t\t\tshowRedEnvelType: 1,\n\t\t\tconfirmData: {},\n\t\t\tentryData: \"\",\n\t\t\trecommendList: [],\n\t\t\theight: \"\",\n\t\t\tisAuthorization: \"\",\n\t\t\tsigncheckStatus: \"\",\n\t\t\tshowCloseImg: false,\n\t\t\tpopupCouponsList: \"\",\n\t\t\tto_top: false,\n\t\t\tanimationData: \"\",\n\t\t\tshowModalStatus: false,\n\t\t\tproductid: 0,\n\t\t\tshowfwModalStatus: false,\n\t\t\tshowShareModalStatus: false,\n\t\t\tshowBonusModal: false,\n\t\t\tbrandID: \"\",\n\t\t\tskuSvipCurrent: \"\",\n\t\t\tskuCurrent: \"\",\n\t\t\tsku_price: \"\",\n\t\t\tmin_sku_price: \"\",\n\t\t\tsku_svip_price: \"\",\n\t\t\tmin_sku_svip_price: \"\",\n\t\t\tcurrentStock: \"\",\n\t\t\thasDefaultSKU: \"\",\n\t\t\tsumbitName: \"\",\n\t\t\tindexModel2: \"\",\n\t\t\tloadingShow: false,\n\t\t\tshowPage: true,\n\t\t\tcity: {}\n\t\t};\n\t},\n\n\tcomponents: {\n\t\tcountDown,\n\t\tgoodList,\n\t\tsubject,\n\t\tconfiguremodel,\n\t\tno_warehouse,\n\t\tpickupgoods,\n\t\tloadingbottom,\n\t},\n\tprops: {},\n\tonLoad: function(options) {\n\t\t//这里解决app端打开页面不加载数据\n\n\n\n\n\n\t\t\n\t\tconsole.log('onLoad');\n\t\tlet than = this\n\t\tif (this.showPage) {\n\t\t\tthis.getNewFactory()\n\t\t}\n\n\t\tuni.$on('update', (data) => {\n\t\t\t// console.log(data);\n\t\t\tthan.showPage = data.showPage\n\t\t})\n\n\t\tcommon.showLoad(this);\n\t\twx.showShareMenu({\n\t\t\twithShareTicket: true\n\t\t});\n\t\t// 设置reload 为true 才允许加载数据，为了返回当前页，onShow不重新加载数据使用\n\t\t// 加载页面时先设置默认值\n\t\tcommon.setStorageSync('reLoad', true);\n\t\tvar pickupId = common.getStorageSync('getpickup');\n\t\tthis.setData({\n\t\t\tentryData: options\n\t\t}); // 监听checkSessionKey\n\n\t\tevent.on('show', this, function(data) {\n\t\t\tthis.setData({\n\t\t\t\tshowCouponsSuccess: false,\n\t\t\t\tAdClickBtn: true\n\t\t\t});\n\t\t}); // 监听小程序后台后隐藏关注组件\n\n\t\tevent.on('hide', this, function(res) {\n\t\t\tthis.setData({\n\t\t\t\tshowOfficial: false\n\t\t\t});\n\t\t});\n\n\t\tif (!app.checkSessionKey) {\n\t\t\tevent.on('checkSessionKey', this, function(data) {\n\t\t\t\tthis.checkSessionKey = data;\n\t\t\t});\n\t\t}\n\n\t\tthis.getPacketModal();\n\t},\n\n\tonReady() {\n\t\tcommon.hideLoad(this);\n\t},\n\n\tonShow: function(that2) {\n\t\t// common.setStorageSync('isOldUser', 0);\n\t\t// console.log('onShow');\n\t\t//当onShow在别处调用执行时，会出现this的问题\n\n\t\tvar that = that2 || this;\n\n\n\t\t//渲染页面时，执行正在拼团\n\t\t//使用缓存工厂的数据\n\t\tvar pickupId = common.getStorageSync('getpickup');\n\t\tthat.pickup = pickupId\n\n\t\tthat.setInviteShareLogin();\n\n\t\tif (pickupId.pickup_type == 0) {\n\t\t\tthat.signcheck();\n\t\t}\n\t\tif (pickupId && that.pickup.pickup_id != pickupId.pickup_id && that.pickup.pickup_id != undefined) {\n\t\t\tif (pickupId.pickup_type == 0) {\n\t\t\t\tthat.loadData();\n\t\t\t} else {\n\n\t\t\t\tthat.getPickUpAcitivity();\n\t\t\t}\n\n\t\t\tthat.setData({\n\t\t\t\tpickup: pickupId\n\t\t\t});\n\t\t}\n\t\t// 定位检测\n\n\n\n\t\tif (common.getStorageSync('reLoad')) {\n\t\t\tcommon.setStorageSync('reLoad', false);\n\t\t} else {\n\t\t\tif (pickupId.pickup_type == 0) {\n\t\t\t\tthat.getHomeSituation();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthat.setData({\n\t\t\tpickup: common.getStorageSync('getpickup'),\n\t\t\tgood_list: [],\n\t\t\tpage: 1\n\t\t});\n\t\t// 外部携带的参数\n\t\tvar options = that.entryData;\n\n\t\tif (options && options.tissue == 'true') {\n\t\t\tthis.setData({\n\t\t\t\tshowTissue: true\n\t\t\t});\n\t\t}\n\t\t// 判断是否第一次进入 且是从外部进入，如二维码扫码 && app.firstlaunchApp\n\t\t// options && options.entryType && options.entryType == 'external'\n\t\tif (options && (options.atitude || options.pickup_id) && !pickupId) {\n\n\t\t\tif (options.atitude) {\n\t\t\t\tthat.getExternal(options.atitude, 1).then(function() {\n\t\t\t\t\t// 关闭开关，让app知道已经不是第一次进入当前页\n\t\t\t\t\tapp.firstlaunchApp = false; // 清空data内携带参数\n\n\t\t\t\t\tthat.entryData = {};\n\t\t\t\t\tvar city = common.getStorageSync('city');\n\t\t\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tpickup: pickup,\n\t\t\t\t\t\tcity: city,\n\t\t\t\t\t\tisAuthorization: true\n\t\t\t\t\t};\n\t\t\t\t\tdata.showPage = true;\n\t\t\t\t\tthat.setData(data);\n\t\t\t\t\tthat.loadData(city); // 外部已带经纬度定位，无需再调用定位接口，所以将缓存定位改为真，让页面可以显示\n\n\t\t\t\t\tcommon.setStorageSync('authSetting', {\n\t\t\t\t\t\t'scope.userLocation': true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthat.getExternal(options.pickup_id, 2).then(function() {\n\t\t\t\t\t// 关闭开关，让app知道已经不是第一次进入当前页\n\t\t\t\t\tapp.firstlaunchApp = false; // 清空data内携带参数\n\n\t\t\t\t\tthat.entryData = {};\n\t\t\t\t\tvar city = common.getStorageSync('city');\n\t\t\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tpickup: pickup,\n\t\t\t\t\t\tcity: city,\n\t\t\t\t\t\tisAuthorization: true\n\t\t\t\t\t};\n\t\t\t\t\tdata.showPage = true;\n\t\t\t\t\tthat.setData(data);\n\t\t\t\t\tthat.loadData(city); // 外部已带经纬度定位，无需再调用定位接口，所以将缓存定位改为真，让页面可以显示\n\n\t\t\t\t\tcommon.setStorageSync('authSetting', {\n\t\t\t\t\t\t'scope.userLocation': true\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tthat.local(function(city) {\n\t\t\t// console.log('pickupIdpickupId', pickupId)\n\t\t\tvar data = {\n\t\t\t\tcity: city,\n\t\t\t\tisAuthorization: common.getStorageSync('authSetting')['scope.userLocation']\n\t\t\t};\n\t\t\t// console.log('data', data)\n\t\t\tthat.setData(data);\n\t\t\t// 关闭开关，让app知道已经不是第一次进入当前页\n\t\t\t// console.log('app.firstlaunchApp', app.firstlaunchApp)\n\t\t\tapp.firstlaunchApp = false;\n\t\t\t// 判断是否有开启定位和仓库\n\t\t\tif (city.warehouse_id != -1 && pickupId.pickup_id) {\n\t\t\t\tthat.showAddTips();\n\t\t\t\tdata.showPage = true;\n\t\t\t\tthat.setData(data);\n\n\t\t\t} else {\n\t\t\t\tdata.showPage = false;\n\t\t\t\tthat.setData(data);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthat.setData({\n\t\t\t\tpage: 1,\n\t\t\t\tshopList: [],\n\t\t\t\trecommendList: [],\n\t\t\t\tgood_list: []\n\t\t\t});\n\n\t\t\tif (pickupId.pickup_type == 0) {\n\t\t\t\tthat.loadData(city);\n\t\t\t\tthat.getAdvertisement();\n\t\t\t} else {\n\t\t\t\t// console.log('getPickUpAcitivity();')\n\t\t\t\tthat.getPickUpAcitivity(city);\n\t\t\t\tthat.getAdvertisement();\n\t\t\t}\n\n\t\t\tthat.getIndexShareInfo();\n\t\t\tthat.getShopPickUp();\n\t\t});\n\t\t//获取屏幕宽度，根据比例设置轮播的高度\n\t\twx.getSystemInfo({\n\t\t\tsuccess: function(res) {\n\t\t\t\tthat.setData({\n\t\t\t\t\theight: res.windowWidth / 1.70454545\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t// 获取手机号去登录注册\n\t// getPhone: function(e) {\n\t//   var url = e.currentTarget.dataset.url;\n\t//   var that = this;\n\t//   common.checkLogin(e, function() {\n\t//     // 登录成功，修改app与user页面的checkSessionKey状态\n\t//     app.checkSessionKey = true;\n\t//     that.data.checkSessionKey = true;\n\t//     // 登录成功，跳转\n\t//     wx.navigateTo({\n\t//       url: url\n\t//     })\n\t//   })\n\t// },\n\t// bar 跳转\n\t// 上拉加载\n\t//滑到最底部执行事件\n\tonReachBottom: function() {\n\t\tconsole.log('滑到最底部执行事件')\n\t\tvar pickupId = common.getStorageSync('getpickup');\n\n\t\tif (pickupId.pickup_type == 0) {\n\t\t\tif (this.refresh) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tpage: this.page + 1\n\t\t\t\t});\n\t\t\t\tthis.getIndexProducts(); // this.getActivitygoodslist()\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.teamNum == 1) {\n\t\t\t\tif (this.bargainList.length > 0 && this.bargainList.length % this.bargain_page_size == 0) {\n\t\t\t\t\tthis.bargain_page = this.bargainList.length / this.bargain_page_size + 1;\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowBottomLoading: true\n\t\t\t\t\t});\n\t\t\t\t\tthis.getBargainActivity();\n\t\t\t\t}\n\t\t\t} else if (this.teamNum == 0) {\n\t\t\t\tif (this.teamList.length > 0 && this.teamList.length % this.team_page_size == 0) {\n\t\t\t\t\tthis.team_page = this.teamList.length / this.team_page_size + 1;\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowBottomLoading: true\n\t\t\t\t\t});\n\t\t\t\t\tthis.getTeamList();\n\t\t\t\t}\n\t\t\t} else if (this.teamNum == 2) {\n\t\t\t\tif (this.beTeamList.length > 0 && this.beTeamList.length % this.be_team_page_size == 0) {\n\t\t\t\t\tthis.be_team_page = this.beTeamList.length / this.be_team_page_size + 1;\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowBottomLoading: true\n\t\t\t\t\t});\n\t\t\t\t\tthis.getBeTeamList();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t// 下拉刷新\n\tonPullDownRefresh: function() {\n\n\t\tthis.setData({\n\t\t\tpage: 1,\n\t\t\tshopList: [],\n\t\t\trecommendList: [],\n\t\t\tgood_list: [],\n\t\t\tshowAdver: false,\n\t\t\tshowCouponsSuccess: false\n\t\t});\n\t\tcommon.setStorageSync('reLoad', true); // this.onShow();\n\n\t\tif (this.pickup.pickup_type == 0) {\n\t\t\tthis.loadData();\n\t\t} else {\n\t\t\tthis.getPickUpAcitivity();\n\t\t}\n\t},\n\t//前往更多\n\t// goMore: function(){\n\t//   wx.navigateTo({\n\t//     url: '../category/category',\n\t//   })\n\t// },\n\tonShareAppMessage: function(res) {\n\t\tvar that = this;\n\t\tvar pickup = common.getStorageSync('getpickup');\n\t\tvar entry_share_info = common.getStorageSync('entry_share_info');\n\n\t\tif (res.target && res.target.dataset.shareinfo) {\n\t\t\tlet shareInfo = res.target.dataset.shareinfo;\n\n\t\t\tif (shareInfo && shareInfo.fromButton == 'notice') {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: entry_share_info.urge_share_text,\n\t\t\t\t\tpath: '/pages/index/index?pickup_id=' + pickup.pickup_id + '&user_id=' + entry_share_info.user_id,\n\t\t\t\t\timageUrl: entry_share_info.urge_share_img\n\t\t\t\t};\n\t\t\t} else if (shareInfo && shareInfo.fromButton == 'envelopes') {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: entry_share_info.invite_share_text,\n\t\t\t\t\tpath: '/pages/index/index?pickup_id=' + pickup.pickup_id + '&user_id=' + entry_share_info.user_id,\n\t\t\t\t\timageUrl: entry_share_info.invite_share_img\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: that.share_data.share_title,\n\t\t\t\t\tpath: '/pages/index/index?pickup_id=' + pickup.pickup_id,\n\t\t\t\t\timageUrl: that.share_data.share_img\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttitle: that.share_data.share_title,\n\t\t\t\tpath: '/pages/index/index?pickup_id=' + pickup.pickup_id,\n\t\t\t\timageUrl: that.share_data.share_img\n\t\t\t};\n\t\t}\n\t},\n\tcreated: function() {\n\n\t},\n\tmethods: {\n\t\t//跳到工厂页面\n\t\tnavPick2() {\n\t\t\tvar city = common.getStorageSync('city');\n\t\t\tconsole.log(city);\n\t\t\tuni.navigateTo({\n\t\t\t\t// url:`/pickup2/pickup2?cityName=${pickup.cityName}`\n\t\t\t\turl: `/pages/pickup2/pickup2?warehouse_id=${city.warehouse_id}`\n\t\t\t})\n\t\t},\n\t\t// 从外部二维码扫码，带经纬度和外部标识external\n\t\tgetExternal: function(value, type) {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.getpickup;\n\t\t\tconsole.log('获取提货点');\n\t\t\tif (type == 1) {\n\t\t\t\tvar data = {\n\t\t\t\t\tatitude: value\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tvar data = {\n\t\t\t\t\tpickup_id: value\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t// 获取提货点\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tconsole.log('获取提货点', res);\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tif (type == 1) {\n\t\t\t\t\t\t\tvar res = res.data.result.cities;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar res = res.data.result.cities.pick_up;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcommon.setStorage({\n\t\t\t\t\t\t\tkey: 'city',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t'pickup_id': res.pickup_id,\n\t\t\t\t\t\t\t\t'warehouse_id': res.warehouse_id,\n\t\t\t\t\t\t\t\t'cityName': res.city_name,\n\t\t\t\t\t\t\t\t'is_pick_up': 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcommon.setStorage({\n\t\t\t\t\t\t\tkey: 'getpickup',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t'pickup_id': res.pickup_id,\n\t\t\t\t\t\t\t\t'pickup_type': res.pickup_type,\n\t\t\t\t\t\t\t\t'cityName': res.pickup_name,\n\t\t\t\t\t\t\t\t'pickup_address': res.pickup_address,\n\t\t\t\t\t\t\t\t'pickup_contact': res.pickup_contact,\n\t\t\t\t\t\t\t\t'pickup_phone': res.pickup_phone\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function(res) {\n\t\t\t\t\t\t\tresolve('获取id成功');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t//关闭首页弹窗\n\t\tcloseTips() {\n\t\t\tthis.setData({\n\t\t\t\tshowTips: false\n\t\t\t});\n\t\t},\n\n\t\t// 显示添加小程序提示\n\t\tshowAddTips() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setData({\n\t\t\t\t\tshowTips: false\n\t\t\t\t});\n\t\t\t}, 10000); // var date=new Date().toLocaleDateString();\n\t\t\t// if(wx.getStorageSync(\"add-tips\")){\n\t\t\t//   var tips=wx.getStorageSync(\"add-tips\");\n\t\t\t//   if(date===tips){\n\t\t\t//     this.setData({\n\t\t\t//       showTips:false\n\t\t\t//     })\n\t\t\t//   }else{\n\t\t\t//     this.setData({\n\t\t\t//       showTips:true\n\t\t\t//     })\n\t\t\t//     wx.setStorageSync(\"add-tips\", date);\n\t\t\t//   }\n\t\t\t// }else{\n\t\t\t//   wx.setStorageSync(\"add-tips\",date);\n\t\t\t// }\n\t\t},\n\n\t\t//显示加入小程序帮助\n\t\ttoShowTips() {\n\t\t\tthis.setData({\n\t\t\t\tshowMoreTips: true\n\t\t\t});\n\t\t},\n\n\t\t//关闭加入小程序帮助\n\t\tcloseAllTips() {\n\t\t\tthis.setData({\n\t\t\t\tshowMoreTips: false,\n\t\t\t\tshowTips: false\n\t\t\t});\n\t\t},\n\n\t\t// 获取数据\n\t\tloadData: function(city) {\n\t\t\tvar warehouse_id = common.getStorageSync('warehouse_id');\n\n\t\t\tif (city) {\n\t\t\t\tif (city.warehouse_id != warehouse_id) {\n\t\t\t\t\tthis.getAdvertisement();\n\t\t\t\t}\n\n\t\t\t\tcommon.setStorageSync('warehouse_id', city.warehouse_id);\n\t\t\t}\n\n\t\t\tvar that = this;\n\t\t\t// 全部接口回调完成后停止下拉动画\n\t\t\t// that.getScKillList(), that.getDate(), that.getActivitylist(), that.getSubjuctList(), that.getActivitynewperson(),\n\t\t\tPromise.all([that.getpickuplistr(), that.getAd(), that.getBar(), that.getsingleAd(), that.getIndexProducts(), that\n\t\t\t\t.getHomeSituation()\n\t\t\t]).then(function(res) {\n\t\t\t\tif (!res[0]) {\n\t\t\t\t\tcommon.setStorageSync('reLoad', true);\n\t\t\t\t\tthat.$options.onShow[0](that)\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\twx.stopPullDownRefresh();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (wx.createSelectorQuery) {\n\t\t\t\twx.createSelectorQuery().select('#topHeight').boundingClientRect(function(rect) {\n\t\t\t\t\tif (rect && rect.top) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tscrollTop: rect.top // 节点的上边界坐标\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}).exec();\n\t\t\t} else {\n\t\t\t\twx.showModal({\n\t\t\t\t\ttitle: '提示1',\n\t\t\t\t\tcontent: '当前微信版本过低，无法使用该功能，请升级到最新微信版本后重试。'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// 新厂首页获取数据\n\t\tgetNewFactory(city) {\n\t\t\tvar that = this;\n\t\t\tthat.getAdvertisement();\n\t\t\tthat.getNewAd();\n\t\t\tthat.getSubjectAd();\n\t\t\tvar uri = app.getPath.newFactory;\n\t\t\tcommon.ApiGateWayTest(uri, '', true, function(res) {\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success == 1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tnewFactoryList: resData.result.data\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast(resData.msg);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\twx.stopPullDownRefresh();\n\t\t\t});\n\t\t},\n\n\t\t// 获取首页分享数据\n\t\tgetIndexShareInfo() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.indexShareInfo;\n\t\t\tvar data = {\n\t\t\t\ttype: 5\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success == 1) {\n\t\t\t\t\tif (resData.result.data != '' && resData.result.data != null) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshare_data: resData.result.data\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast(resData.msg);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 定位检测\n\t\tlocal: function(callback) {\n\t\t\tvar that = this;\n\t\t\tthat.setData({\n\t\t\t\tisAuthorization: common.getStorageSync('authSetting')['scope.userLocation']\n\t\t\t});\n\t\t\tvar city = common.getStorageSync('city');\n\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t// console.log('pickup', city);\n\t\t\tif (app.firstlaunchApp && pickup.pickup_id == undefined) {\n\t\t\t\t// 进入app后首次打开当前页面   没仓库的情况下 先获取地理定位\n\t\t\t\tif (that.isAuthorization) {\n\t\t\t\t\t// 增加加载，防止未加载完当前定位就点击\n\t\t\t\t\tcommon.showLoad(that);\n\t\t\t\t}\n\t\t\t\t// console.log('请求定位位置');\n\t\t\t\tcommon.getpickup(function(res) {\n\t\t\t\t\tvar city = res.cities;\n\n\t\t\t\t\tif (city.choose_pickup && city.choose_pickup.length > 1) {\n\t\t\t\t\t\tconsole.log('if');\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tchoosePickupShow: true,\n\t\t\t\t\t\t\tchoosePickupList: city.choose_pickup\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcallback && typeof callback === \"function\" && callback(city);\n\t\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// console.log(that);\n\t\t\t\t\t\tcommon.setStorageSync('reLoad', true);\n\t\t\t\t\t\tthat.$options.onShow[0](that)\n\t\t\t\t\t\tcallback && typeof callback === \"function\" && callback(city);\n\t\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// 有自提点的情况下，直接 取自提点 不重新请求\n\t\t\t\t// 第二次进入当前页（从选择定位页面进入），直接用仓库地址请求数据\n\t\t\t\tcallback && typeof callback === \"function\" && callback(city);\n\t\t\t}\n\t\t},\n\t\t// 打开定位回调\n\t\topenSet: function(e) {\n\t\t\tvar that = this;\n\t\t\tthat.setData({\n\t\t\t\tisAuthorization: e.detail.isAuthorization\n\t\t\t});\n\t\t\tcommon.setStorageSync('reLoad', true);\n\t\t\tapp.dataBase.isRefresh = true;\n\t\t\tthat.$options.onShow[0](that)\n\t\t},\n\t\t//跳转分类页\n\t\tgoCategory: function() {\n\t\t\twx.switchTab({\n\t\t\t\turl: '/pages/category/category'\n\t\t\t});\n\t\t},\n\t\t// 获取是否签到\n\t\tsigncheck: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.signcheck;\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, {}, true, function(res) {\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tsigncheckStatus: data.status\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve('success signcheck');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tto_sign: function() {\n\t\t\t// 判断是否登录或者老用户\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\twx.navigateTo({\n\t\t\t\t\turl: '/pages/register/register?isGetCoupon=1'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t// app.aldstat.sendEvent(\"on_index_floatSign\", {\n\t\t\t// \t\"提货点\": pickup.cityName\n\t\t\t// });\n\n\t\t\tif (this.signcheckStatus == 0) {\n\t\t\t\twx.navigateTo({\n\t\t\t\t\turl: \"/pages/sign/sign?entryType=external\"\n\t\t\t\t});\n\t\t\t} else if (this.signcheckStatus == 1) {\n\t\t\t\twx.navigateTo({\n\t\t\t\t\turl: \"/packageB/tools/turntable\"\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 获取轮播图\n\t\tgetAd: function() {\n\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.adlist;\n\t\t\tvar data = {\n\t\t\t\tpid: 1\n\t\t\t};\n\t\t\t// console.log(uri, data);\n\t\t\treturn new Promise(function(resolve, reject) {\n\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\t// console.log(res);\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\n\t\t\t\t\t\tif (data.length > 1) {\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tindicatorDots: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tindicatorDots: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tadList: data,\n\t\t\t\t\t\t\tindexAdcurrent: 0,\n\t\t\t\t\t\t\t// share_title: data.share_title,\n\t\t\t\t\t\t\tindicatorDots: data.length > 1 ? true : false // keyWord: data.keyword\n\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log('adList', that.adList)\n\t\t\t\t\t\tresolve('successAd');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// 新版本获取轮播图\n\t\tgetNewAd: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.adlist;\n\t\t\tvar data = {\n\t\t\t\tpid: 6\n\t\t\t};\n\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\t// console.log('66666666', res);\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\n\t\t\t\t\t\tif (data.length > 1) {\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tindicatorDots: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tindicatorDots: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tadList: data,\n\t\t\t\t\t\t\tindexAdcurrent: 0,\n\t\t\t\t\t\t\t// share_title: data.share_title,\n\t\t\t\t\t\t\tindicatorDots: data.length > 1 ? true : false // keyWord: data.keyword\n\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve('successAd');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// 跳转指定\t\n\t\tgoWebView: function(e) {\n\t\t\t// console.log(e.currentTarget.dataset.item.media_type);\n\t\t\tvar item = e.currentTarget.dataset.item;\n\t\t\tvar type = e.currentTarget.dataset.type;\n\t\t\tconsole.log('type', type);\n\t\t\tif (type == 1) {\n\t\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t} else if (type == 2) {\n\t\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t\t// console.log(pickup);\n\t\t\t} else if (type == 3) {\n\t\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t} else if (type == 4) {\n\t\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t}\n\n\t\t\tif (item.media_type != 9) {\n\t\t\t\tcommon.goAdWebView(e);\n\t\t\t\tthis.adclose(item.ad_id, 0);\n\t\t\t\tthis.setData({\n\t\t\t\t\tshowAdver: false\n\t\t\t\t});\n\t\t\t} else if (item.media_type == 9) {\n\t\t\t\t// if (item.take_type == 2) {\n\t\t\t\t//   // 点击领取弹窗优惠券\n\t\t\t\t//   // 判断是否登录或者老用户\n\t\t\t\t//   var isOldUser = common.getStorageSync('isOldUser');\n\t\t\t\t//   if (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\t//     wx.navigateTo({\n\t\t\t\t//       url: '/pages/register/register?isGetCoupon=1'\n\t\t\t\t//     })\n\t\t\t\t//   }\n\t\t\t\t//   if (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\t//     event.on('isGetCoupon', this, function (data) {\n\t\t\t\t//       this.getCoupon(item.ad_link, item.ad_id, 2)\n\t\t\t\t//     })\n\t\t\t\t//   } else {\n\t\t\t\t//     this.getCoupon(item.ad_link, item.ad_id, 2)\n\t\t\t\t//   }\n\t\t\t\t// }\n\t\t\t\t// 首页优惠券领券\n\t\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\t\tcommon.goRegister();\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.getCoupons(item.ad_id);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t//  限时抢购\n\t\t// 时间\n\t\tgetDate: function() {\n\t\t\tvar that = this;\n\t\t\tthis.timer = setInterval(function() {\n\t\t\t\t// 精确到秒\n\t\t\t\tvar timestamp = Math.floor(new Date().getTime() / 1000); // 限时秒杀判断刷新\n\t\t\t\t// var scKill_idx = that.data.scKill_idx;\n\t\t\t\t// var btn3 = that.data.scKillList[scKill_idx].progress.start_time/1000 - timestamp;\n\t\t\t\t// var btn4 = that.data.scKillList[scKill_idx].progress.end_time/1000 - timestamp;\n\t\t\t\t// if (btn3 == -3 || btn4 == -3){\n\t\t\t\t//   wx.showLoading({\n\t\t\t\t//     title: '更新中',\n\t\t\t\t//     icon: 'none'\n\t\t\t\t//   })\n\t\t\t\t//   that.setData({\n\t\t\t\t//     page: 1,\n\t\t\t\t//     scKill_list: []\n\t\t\t\t//   })\n\t\t\t\t//   that.getScKillList();\n\t\t\t\t// }\n\t\t\t\t// 限量抢购判断刷新\n\n\t\t\t\tvar actived_idx = that.actived_idx;\n\t\t\t\tvar btn1 = that.activitylist[actived_idx].progress.start_time / 1000 - timestamp;\n\t\t\t\tvar btn2 = that.activitylist[actived_idx].progress.end_time / 1000 - timestamp;\n\n\t\t\t\tif (btn1 == -3 || btn2 == -3) {\n\t\t\t\t\tcommon.showLoad(that);\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tpage: 1,\n\t\t\t\t\t\tgood_list: [],\n\t\t\t\t\t\ttimer_btn: true\n\t\t\t\t\t});\n\t\t\t\t\tthat.getActivitylist();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t},\n\t\t// 限时秒杀\n\t\t// scKillactived: function (e) {\n\t\t//   var that = this;\n\t\t//   var d = e.currentTarget.dataset;\n\t\t//   // 防止点击过快，重复加载数据\n\t\t//   if (!that.data.ac_load_btn) {\n\t\t//     return false;\n\t\t//   }\n\t\t//   that.setData({\n\t\t//     scKill_id: d.sckill_id,\n\t\t//     scKill_idx: d.sckill_idx,\n\t\t//     page: 1,\n\t\t//     scKill_list: []\n\t\t//   })\n\t\t//   that.getSckillgoodslist();\n\t\t// },\n\t\t// getScKillList:function(){\n\t\t//   var that = this;\n\t\t//   var uri = app.getPath.scKill;\n\t\t//   return new Promise(function (resolve, reject) {\n\t\t//     common.ApiGateWayTest(uri, {}, true, function (res) {\n\t\t//       var res = res.data;\n\t\t//       if (res.success == 1) {\n\t\t//         // 先置默认值\n\t\t//         var activity_id = 0;\n\t\t//         var actived_idx = 0;\n\t\t//         var lists = res.result.lists;\n\t\t//         // 如果没有数据\n\t\t//         if (lists.length == 0) {\n\t\t//           // 全清空\n\t\t//           that.setData({\n\t\t//             scKillList: [],\n\t\t//             scKill_id,\n\t\t//             scKill_idx,\n\t\t//           })\n\t\t//           return false;\n\t\t//         }\n\t\t//         that.getDate();\n\t\t//         var btn = true;\n\t\t//         for (var i = 0; i < lists.length; i++) {\n\t\t//           var state = lists[i].progress.state;\n\t\t//           // 判断正在抢购中\n\t\t//           if (state == 1) {\n\t\t//             activity_id = lists[i].activity_id;\n\t\t//             actived_idx = i;\n\t\t//             btn = false;\n\t\t//             break;\n\t\t//           }\n\t\t//         }\n\t\t//         // 没有判断距离最近的即将开始\n\t\t//         if (btn) {\n\t\t//           for (var i = 0; i < lists.length; i++) {\n\t\t//             var state = lists[i].progress.state;\n\t\t//             if (state == 2) {\n\t\t//               activity_id = lists[i].activity_id;\n\t\t//               actived_idx = i;\n\t\t//               btn = false;\n\t\t//               break;\n\t\t//             }\n\t\t//           }\n\t\t//         }\n\t\t//         // 再无则取中间项\n\t\t//         if (btn) {\n\t\t//           activity_id = lists[2].activity_id;\n\t\t//           actived_idx = 2;\n\t\t//         }\n\t\t//         that.setData({\n\t\t//           scKillList: lists,\n\t\t//           scKill_id: activity_id,\n\t\t//           scKill_idx:actived_idx\n\t\t//         })\n\t\t//         that.getSckillgoodslist();\n\t\t//         resolve('限时秒杀成功')\n\t\t//       }\n\t\t//     })\n\t\t//   })\n\t\t// },\n\t\t// getSckillgoodslist(callback){\n\t\t//   var that = this;\n\t\t//   wx.showLoading({\n\t\t//     title: '更新中',\n\t\t//     icon: 'none'\n\t\t//   })\n\t\t//   // 关闭开关\n\t\t//   that.data.ac_load_btn = false;\n\t\t//   var uri = app.getPath.activitygoodslist;\n\t\t//   var data = {\n\t\t//     page: 1,\n\t\t//     page_size: 2,\n\t\t//     activity_id: this.data.scKill_id\n\t\t//   }\n\t\t//   common.ApiGateWayTest(uri, data, true, function (res) {\n\t\t//     if (res.statusCode == 500) {\n\t\t//       wx.hideLoading();\n\t\t//       return false;\n\t\t//     }\n\t\t//     var res = res.data;\n\t\t//      // 循环活动列表，得到当前选中的状态\n\t\t//     var nowState = that.data.scKillList[that.data.scKill_idx];//当前选中的index\n\t\t//     for (let i in that.data.scKillList) {\n\t\t//       if (that.data.scKillList[i].activity_id == that.data.scKill_id) {\n\t\t//         // 当前选中的活动的状态，\n\t\t//         var nowState = that.data.scKillList[i].progress.state;\n\t\t//       }\n\t\t//     }\n\t\t//     if (res.success == 1) {\n\t\t//       var lists = res.result.lists;\n\t\t//       // 给所有的商品列表项添加状态\n\t\t//       for (var i = 0; i < lists.length; i++) {\n\t\t//         lists[i].state = nowState;\n\t\t//       }\n\t\t//       var good_list = lists;\n\t\t//       // if (good_list.length > 0) {\n\t\t//       //   var isGoodListBool = false;\n\t\t//       // } else {\n\t\t//       //   var isGoodListBool = true;\n\t\t//       // }\n\t\t//       that.setData({\n\t\t//         scKill_list: good_list,\n\t\t//         // total: res.result.total,\n\t\t//         // isGoodListBool\n\t\t//       })\n\t\t//       // 打开开关\n\t\t//       that.data.ac_load_btn = true;\n\t\t//       wx.hideLoading();\n\t\t//     }\n\t\t//   })\n\t\t// },\n\t\t// 限量抢购判断选中\n\t\tactived: function(e) {\n\t\t\tvar that = this;\n\t\t\tvar d = e.currentTarget.dataset;\n\n\t\t\tif (!that.ac_load_btn) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthat.setData({\n\t\t\t\tactivity_id: d.activity_id,\n\t\t\t\tactived_idx: d.actived_idx,\n\t\t\t\tpage: 1,\n\t\t\t\tgood_list: []\n\t\t\t});\n\t\t\tthat.getActivitygoodslist();\n\t\t},\n\n\t\t// 获取限量抢购上面部分信息\n\t\tgetActivitylist() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.activitylist;\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, {}, true, function(res) {\n\t\t\t\t\tvar res = res.data;\n\n\t\t\t\t\tif (res.success == 1) {\n\t\t\t\t\t\t// 先置默认值\n\t\t\t\t\t\tvar activity_id = 0;\n\t\t\t\t\t\tvar actived_idx = 0;\n\t\t\t\t\t\tvar lists = res.result.lists; // 如果没有数据\n\n\t\t\t\t\t\tif (lists.length == 0) {\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tactivitylist: [],\n\t\t\t\t\t\t\t\tactivity_id,\n\t\t\t\t\t\t\t\tactived_idx,\n\t\t\t\t\t\t\t\tflashSale_title: ''\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.getDate();\n\t\t\t\t\t\tvar flashSale_title = '';\n\t\t\t\t\t\tvar btn = true;\n\n\t\t\t\t\t\tfor (var i = 0; i < lists.length; i++) {\n\t\t\t\t\t\t\tvar state = lists[i].progress.state; // 判断正在抢购中\n\n\t\t\t\t\t\t\tif (state == 1) {\n\t\t\t\t\t\t\t\tactivity_id = lists[i].activity_id;\n\t\t\t\t\t\t\t\tactived_idx = i; // flashSale_title = lists[i].time + '限量抢购';\n\n\t\t\t\t\t\t\t\tbtn = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} // 没有判断距离最近的即将开始\n\n\n\t\t\t\t\t\tif (btn) {\n\t\t\t\t\t\t\tfor (var i = 0; i < lists.length; i++) {\n\t\t\t\t\t\t\t\tvar state = lists[i].progress.state;\n\n\t\t\t\t\t\t\t\tif (state == 2) {\n\t\t\t\t\t\t\t\t\tactivity_id = lists[i].activity_id;\n\t\t\t\t\t\t\t\t\tactived_idx = i; // flashSale_title = lists[i].time + '限量抢购';\n\n\t\t\t\t\t\t\t\t\tbtn = false;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} // 再无则取中间项\n\n\n\t\t\t\t\t\tif (btn) {\n\t\t\t\t\t\t\tactivity_id = lists[2].activity_id;\n\t\t\t\t\t\t\tactived_idx = 2; // flashSale_title = lists[2].time + '限量抢购';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tactivitylist: lists,\n\t\t\t\t\t\t\tactivity_id: activity_id,\n\t\t\t\t\t\t\tactived_idx,\n\t\t\t\t\t\t\tflashSale_title: '下单无门槛，全场免邮费'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.getActivitygoodslist();\n\t\t\t\t\t\tresolve('getActivitylist success');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t// 获取限量抢购商品列表信息\n\t\tgetActivitygoodslist(callback) {\n\t\t\tvar that = this;\n\t\t\tcommon.showLoad(that); // 关闭开关\n\n\t\t\tthat.ac_load_btn = false;\n\t\t\tvar uri = app.getPath.activitygoodslist;\n\t\t\tvar data = {\n\t\t\t\tpage: this.page,\n\t\t\t\tpage_size: this.page_size,\n\t\t\t\tactivity_id: this.activity_id\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res.statusCode == 500) {\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar res = res.data;\n\t\t\t\tvar nowState = that.activitylist[that.actived_idx];\n\n\t\t\t\tfor (let i in that.activitylist) {\n\t\t\t\t\tif (that.activitylist[i].activity_id == that.activity_id) {\n\t\t\t\t\t\tvar nowState = that.activitylist[i].progress.state;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (res.success == 1) {\n\t\t\t\t\tvar lists = res.result.lists; // 给所有的商品列表项添加状态\n\n\t\t\t\t\tfor (var i = 0; i < lists.length; i++) {\n\t\t\t\t\t\tlists[i].state = nowState;\n\t\t\t\t\t} // var good_list = [...that.data.good_list, ...lists];\n\n\n\t\t\t\t\tvar good_list = that.good_list ? that.good_list.concat(lists) : lists;\n\n\t\t\t\t\tif (good_list.length > 0) {\n\t\t\t\t\t\tvar isGoodListBool = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar isGoodListBool = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tgood_list: good_list,\n\t\t\t\t\t\ttotal: res.result.total,\n\t\t\t\t\t\tisGoodListBool\n\t\t\t\t\t});\n\n\t\t\t\t\tif (that.good_list.length < that.total) {\n\t\t\t\t\t\tthat.refreshFun(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.refreshFun(false);\n\t\t\t\t\t} // 打开开关\n\n\n\t\t\t\t\tthat.ac_load_btn = true;\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 广告图片\n\t\tgetsingleAd: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.adlist;\n\t\t\tvar data = {\n\t\t\t\tpid: 4\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\tvar data = res.data.result;\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tsingleAd: data,\n\t\t\t\t\t\tsingleAdcurrent: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 领取弹窗优惠券-新人\n\t\tgetCoupon: function(coupon_id, ad_id, take_type) {\n\t\t\tvar that = this; // 防止多次点击\n\n\t\t\tif (!this.AdClickBtn) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis.AdClickBtn = false;\n\t\t\t}\n\n\t\t\tvar uri = app.getPath.addCoupon;\n\t\t\tvar data = {\n\t\t\t\tcoupon_id\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\tvar result = res.data.result; // common.toast(result.state_desc);\n\n\t\t\t\t\tthat.adclose(ad_id, 1);\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowCouponList: true\n\t\t\t\t\t});\n\n\t\t\t\t\tif (take_type == 2) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowCloseImg: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 防点击开关打开\n\t\t\t\t\tthat.AdClickBtn = true;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 首页领券\n\t\tgetCoupons(ad_id) {\n\t\t\tvar that = this; // 防止多次点击\n\n\t\t\tif (!this.AdClickBtn) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tthis.AdClickBtn = false;\n\t\t\t}\n\n\t\t\tvar uri = app.getPath.addAdCoupon;\n\t\t\tvar data = {\n\t\t\t\tad_id: ad_id\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success == 1 && resData.result.state == 0) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tpopupCouponsList: resData.result.couponInfo,\n\t\t\t\t\t\tshowAdver: false,\n\t\t\t\t\t\tshowCouponsSuccess: true\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowAdver: false\n\t\t\t\t\t});\n\t\t\t\t\tthat.AdClickBtn = true;\n\t\t\t\t\tcommon.toast(resData.result.state_desc);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tadclose: function(ad_id, is_close) {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.adclose;\n\t\t\tvar data = {\n\t\t\t\tad_id,\n\t\t\t\tis_close\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\treturn;\n\t\t\t});\n\t\t},\n\t\t// 弹窗广告\n\t\tgetAdvertisement: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.adlist;\n\t\t\tvar data = {\n\t\t\t\tpid: 5\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\tvar data = res.data.result;\n\n\t\t\t\t\tif (typeof data == 'object' && data.constructor == Array && data[0].ad_code && data[0].ad_code != '') {\n\t\t\t\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t\t\t\t// app.aldstat.sendEvent(\"exposure_index_popup\", {\n\t\t\t\t\t\t// \t\"提货点\": pickup.cityName\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tadvertisementAd: data,\n\t\t\t\t\t\t\tshowAdver: true,\n\t\t\t\t\t\t\tshowCouponsSuccess: false\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (data[0].media_type == 9 && data[0].ad_code == '') {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tadvertisementAd: data,\n\t\t\t\t\t\t\tshowAdver: false\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.getCoupons(data[0].ad_id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowAdver: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tadvertisementOut(e) {\n\t\t\tvar that = this;\n\t\t\tvar ad_id = e.detail.target.dataset.ad_id;\n\n\t\t\tif (app.checkSessionKey) {\n\t\t\t\tcommon.formIdUpdate(e);\n\n\t\t\t\tif (ad_id && ad_id > 0) {\n\t\t\t\t\tthat.adclose(ad_id, 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat.setData({\n\t\t\t\tshowAdver: false,\n\t\t\t\tshowCouponsSuccess: false,\n\t\t\t\tAdClickBtn: true\n\t\t\t});\n\t\t},\n\n\t\t// 获取bar列表\n\t\tgetBar: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.barList;\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, '', true, function(res) {\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\n\t\t\t\t\t\tfor (var i = 0; i < data.barList.length; i++) {\n\t\t\t\t\t\t\t// \t类型（1.签到 2.领券中心 3.专题 4.活动页 5.限时抢购 6.门店支付 7.通用活动 8.砍价活动）\n\t\t\t\t\t\t\tswitch (data.barList[i].type) {\n\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/pages/sign/sign?entryType=external';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/pages/couponCenter/couponCenter?entryType=external';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tif (data.barList[i].position > 0) {\n\t\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/pages/index/configureModelPage/configureModelPage?position=' + data.barList[i].position;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/pages/projectPage/projectPage?entryType=external&type=3&id=' + data.barList[i].id;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/pages/activity/activity?entryType=external&activity_id=' + data.barList[i].id; // data.barList[i].url = '/packageA/select/select?id='+66;\n\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/pages/flashSale/flashSale';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '../../packageB/topay/topay';\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 7:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/packageA/select/select?entryType=external&id=' + data.barList[i].id;\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '/packageA/bargain/bargain?entryType=external&activity_bargain_id=' + data.barList[\n\t\t\t\t\t\t\t\t\t\ti].id;\n\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\tdata.barList[i].url = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tbarList: data.barList,\n\t\t\t\t\t\t\tservice_title: data.service_title\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve('barSuccess');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast('网络错误');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgoBar: function(e) {\n\t\t\tlet url = e.currentTarget.dataset.url;\n\t\t\tlet index = e.currentTarget.dataset.index;\n\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\tconsole.log(url);\n\t\t\tif (app.checkSessionKey) {\n\t\t\t\tcommon.formIdUpdate(e);\n\t\t\t}\n\n\t\t\t// app.aldstat.sendEvent(\"on_index_tabbar_\" + (Number(index) + 1), {\n\t\t\t// \t\"提货点\": pickup.cityName\n\t\t\t// });\n\t\t\twx.navigateTo({\n\t\t\t\turl: url\n\t\t\t});\n\t\t},\n\t\t// 获取新人活动列表\n\t\tgetActivitynewperson: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.activitynewperson;\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, '', true, function(res) {\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tacticity_new_person: data.acticity_new_person\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve('barSuccess');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// 获取抢购接口\n\t\tgetActivityindex: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.activityindex;\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, '', true, function(res) {\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tacticity_buy: data.acticity_buy\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve('barSuccess');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast('网络错误');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// 首页专题列表\n\t\t// getSubjuctList:function(){\n\t\t//     var that = this;\n\t\t//     var uri = app.getPath.subjuctList;\n\t\t//     return new Promise(function (resolve, reject) {\n\t\t//         common.ApiGateWayTest(uri, '', true, function (res) {\n\t\t//             if (res && res.data && res.data.success == 1) {\n\t\t//                 var data = res.data.result.subjectList;\n\t\t//                 that.setData({subjuctList:data})\n\t\t//               resolve('subjuctListSuccess');\n\t\t//             } else {\n\t\t//                 common.toast('网络错误');\n\t\t//             }\n\t\t//         })\n\t\t//     })\n\t\t// },\n\t\t// 获取精选推荐\n\t\tgetIndexProducts: function(page) {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.goodsRecommend;\n\t\t\tvar data = {\n\t\t\t\tpage: this.page,\n\t\t\t\tpage_size: this.page_size\n\t\t\t};\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tif (res && res.data) {\n\t\t\t\t\t\tvar data = res.data;\n\n\t\t\t\t\t\tif (data.success == 1) {\n\t\t\t\t\t\t\tvar list = data.result.products; // var imglist = data.result.products;\n\t\t\t\t\t\t\t// var list = [];\n\t\t\t\t\t\t\t// var dataList = [];\n\t\t\t\t\t\t\t// for(var i in imglist){\n\t\t\t\t\t\t\t//   list.push(imglist[i]);\n\t\t\t\t\t\t\t//   if((Number(i)+1)%2 == 0){\n\t\t\t\t\t\t\t//     dataList.push(list);\n\t\t\t\t\t\t\t//     list = [];\n\t\t\t\t\t\t\t//   }\n\t\t\t\t\t\t\t//   if(i == imglist.length-1 && list.length > 0){\n\t\t\t\t\t\t\t//     dataList.push(list);\n\t\t\t\t\t\t\t//   }\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t// that.setData({\n\t\t\t\t\t\t\t//   shopList: that.data.shopList.concat(dataList)\n\t\t\t\t\t\t\t// })\n\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tshopList: that.shopList.concat(list)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t//把请求过来的值传给子组件,每一次下拉这个值都会改变that.shopList\n\t\t\t\t\t\t\t// uni.$emit('shopList', that.shopList)\n\t\t\t\t\t\t\t// console.log(that.shopList)\n\t\t\t\t\t\t\tif (data.result.products.length < that.page_size) {\n\t\t\t\t\t\t\t\tthat.refreshFun(false);\n\t\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\t\tshowBottomLoading: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.refreshFun(true);\n\t\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\t\tshowBottomLoading: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (data.success == 0) {\n\t\t\t\t\t\t\tthat.refreshFun(false);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresolve('productsSuccess');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast('网络错误');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// 是否允许上拉加载\n\t\trefreshFun: function(data) {\n\t\t\tthis.setData({\n\t\t\t\trefresh: data\n\t\t\t});\n\t\t},\n\t\t// 去搜索页面\n\t\tgoSearch: function() {\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../search/search?keyWord=' + this.keyWord\n\t\t\t});\n\t\t},\n\t\ttap_to_top: function() {\n\t\t\twx.pageScrollTo({\n\t\t\t\tscrollTop: 0,\n\t\t\t\tduration: 300\n\t\t\t});\n\t\t},\n\t\t// 滚动判断\n\t\tonPageScroll: function(e) {\n\t\t\tvar that = this;\n\t\t\tconst query = wx.createSelectorQuery();\n\t\t\tquery.select('#slider-bar-team').boundingClientRect(res => {\n\t\t\t\tif (res && res.top) {\n\t\t\t\t\tif (res.top < that.navBarHeight && !that.sliderBarFixed) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tsliderBarFixed: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.top > that.navBarHeight && that.sliderBarFixed) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tsliderBarFixed: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}).exec();\n\n\t\t\tif (e.scrollTop > 150 && !that.to_top) {\n\t\t\t\tthat.setData({\n\t\t\t\t\tto_top: true\n\t\t\t\t});\n\t\t\t} else if (e.scrollTop < 150 && that.to_top) {\n\t\t\t\tthat.setData({\n\t\t\t\t\tto_top: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!this.takeoutAnimation) {\n\t\t\t\tthis.setData({\n\t\t\t\t\ttakeoutAnimation: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.endScroll();\n\t\t\t} // if (e.scrollTop > that.data.scrollTop) {\n\t\t\t//   this.setData({\n\t\t\t//     showSearchBG: true\n\t\t\t//   })\n\t\t\t// } else {\n\t\t\t//   this.setData({\n\t\t\t//     showSearchBG: false\n\t\t\t//   })\n\t\t\t// }\n\n\t\t},\n\t\tendScroll: function() {\n\t\t\tclearTimeout(this.scroll);\n\t\t\tthis.scroll = setTimeout(function() {\n\t\t\t\tif (this.takeoutAnimation) {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\ttakeoutAnimation: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this), 500);\n\t\t},\n\n\t\t//\n\t\t// 跳转商品页\n\t\tgoToProduct(e) {\n\t\t\tvar goodsid = e.currentTarget.dataset.goodsId;\n\t\t\tvar goodsName = e.currentTarget.dataset.name;\n\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\t// app.aldstat.sendEvent(\"on_index_rushToBuy\", {\n\t\t\t// \t\"提货点\": pickup.cityName,\n\t\t\t// \t\"名称\": goodsName,\n\t\t\t// \t\"提货点&名称\": pickup.cityName + \"_\" + goodsName\n\t\t\t// });\n\n\t\t\tif (app.checkSessionKey) {\n\t\t\t\tcommon.formIdUpdate(e);\n\t\t\t}\n\n\t\t\twx.navigateTo({\n\t\t\t\turl: '/pages/product/product?entryType=external&productId=' + goodsid\n\t\t\t});\n\t\t},\n\n\t\t// SKU弹窗\n\t\tsetModalStatus: function(type) {\n\t\t\tif (this.showSKUstatus == 0) {\n\t\t\t\tthis.showSKUstatus = 1;\n\t\t\t} else {\n\t\t\t\tthis.showSKUstatus = 0;\n\t\t\t}\n\n\t\t\tvar animation = wx.createAnimation({\n\t\t\t\tduration: 300,\n\t\t\t\ttimingFunction: \"linear\",\n\t\t\t\tdelay: 0\n\t\t\t});\n\t\t\tanimation.translateY(300).opacity(1).step();\n\t\t\tthis.setData({\n\t\t\t\tanimationData: animation.export()\n\t\t\t});\n\n\t\t\tif (this.showSKUstatus == 1) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tshowModalStatus: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tanimation.translateY(0).step();\n\t\t\t\tthis.setData({\n\t\t\t\t\tanimationData: animation\n\t\t\t\t});\n\n\t\t\t\tif (this.showSKUstatus == 0) {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowModalStatus: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this), 200);\n\t\t},\n\t\t//添加到购物车\n\t\taddShopCart: function(e) {\n\t\t\t// 未登录跳转\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar that = this;\n\n\t\t\tif (this.productid == e.target.dataset.productid) {\n\t\t\t\taddCart(e);\n\t\t\t} else {\n\t\t\t\tthis.loadProductDetail(e).then(function() {\n\t\t\t\t\taddCart(e);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction addCart(e) {\n\t\t\t\tif (!that.checkCanPurchase()) return;\n\t\t\t\tvar product = that.itemData;\n\t\t\t\tvar type = e.currentTarget.dataset.type;\n\t\t\t\tthat.setData({\n\t\t\t\t\tbuy_now: 0\n\t\t\t\t}); // type == 'addcart' &&\n\n\t\t\t\tif (that.currentAttrs.length == product.properties.length) {\n\t\t\t\t\t// 验证库存\n\t\t\t\t\tvar product_id = '';\n\n\t\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\t\t\tstock = stock.split('_');\n\t\t\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstock = stock.join('_');\n\t\t\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\t\t\tif (attrs == stock) {\n\t\t\t\t\t\t\tproduct_id = product.stock[i].key;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar invurl = app.getPath.addCart;\n\n\t\t\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\t\t\tinvurl = app.getPath.addCart;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar invdata = {\n\t\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\t\tamount: that.buynum\n\t\t\t\t\t};\n\t\t\t\t\t// app.aldstat.sendEvent(\"加入购物车\", {\n\t\t\t\t\t// \t\"商品名称\": that.itemData.report.goods_name,\n\t\t\t\t\t// \t\"用户名\": that.itemData.report.nick_name\n\t\t\t\t\t// });\n\t\t\t\t\tcommon.formIdUpdate(e);\n\t\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\t\tif (ret.data.success != 0) {\n\t\t\t\t\t\t\tthat.currentAttrs = [];\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tcartAmount: ret.data.result.cart_num,\n\t\t\t\t\t\t\t\tproductid: 0\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcommon.toast(ret.data.msg);\n\n\t\t\t\t\t\t\tif (type == 'bottomcart') {\n\t\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\t\tshowModalStatus: false,\n\t\t\t\t\t\t\t\t\tshowSKUstatus: 0\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcommon.toast(ret.data.msg);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// type != 'addcart' ||\n\t\t\t\t\tif (that.showSKUstatus == 0) {\n\t\t\t\t\t\tthat.setModalStatus(type);\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowfwModalStatus: false,\n\t\t\t\t\t\t\tshowShareModalStatus: false,\n\t\t\t\t\t\t\tshowBonusModal: false\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast('请选择商品款式');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 立即购买\n\t\tnowPurchase: function(e) {\n\t\t\tvar that = this; // 跳转登录\n\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (that.productid == e.target.dataset.productid) {\n\t\t\t\tnowPurchaseSub(e);\n\t\t\t} else {\n\t\t\t\tthat.loadProductDetail(e).then(function() {\n\t\t\t\t\tnowPurchaseSub(e);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction nowPurchaseSub(e) {\n\t\t\t\tif (!that.checkCanPurchase()) return;\n\t\t\t\tvar product = that.itemData;\n\t\t\t\tthat.setData({\n\t\t\t\t\tbuy_now: 1\n\t\t\t\t});\n\n\t\t\t\tif (that.currentAttrs.length == product.properties.length) {\n\t\t\t\t\t// 验证库存\n\t\t\t\t\tvar product_id = '';\n\n\t\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\t\t\tstock = stock.split('_');\n\t\t\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstock = stock.join('_');\n\t\t\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\t\t\tif (attrs == stock) {\n\t\t\t\t\t\t\tproduct_id = product.stock[i].key;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tvar invurl = app.getPath.skuEnough;\n\n\t\t\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\t\t\tinvurl = app.getPath.skuEnough;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar invdata = {\n\t\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\t\tamount: that.buynum\n\t\t\t\t\t};\n\t\t\t\t\t// app.aldstat.sendEvent(\"立即购买\", {\n\t\t\t\t\t// \t\"商品名称\": that.itemData.report.goods_name,\n\t\t\t\t\t// \t\"用户名\": that.itemData.report.nick_name\n\t\t\t\t\t// });\n\t\t\t\t\tcommon.formIdUpdate(e);\n\t\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\t\tif (ret.data.result.is_enough != 1) {\n\t\t\t\t\t\t\tcommon.toast(ret.data.result.msg);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.currentAttrs = []; // showSKUstatus 0关闭  1展开  重置为关闭\n\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tshowModalStatus: false,\n\t\t\t\t\t\t\t\tshowSKUstatus: 0,\n\t\t\t\t\t\t\t\tcartAmount: ret.data.result.cart_num,\n\t\t\t\t\t\t\t\tproductid: 0\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\twx.navigateTo({\n\t\t\t\t\t\t\t\turl: '/pages/confirm/confirm'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (that.showSKUstatus == 0) {\n\t\t\t\t\t\tthat.setModalStatus();\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowfwModalStatus: false,\n\t\t\t\t\t\t\tshowShareModalStatus: false,\n\t\t\t\t\t\t\tshowBonusModal: false\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast('请选择商品款式');\n\t\t\t\t\t}\n\t\t\t\t} // 立即购买的缓存\n\n\n\t\t\t\tcommon.setStorage({\n\t\t\t\t\tkey: \"nowPay\",\n\t\t\t\t\tdata: that.confirmData\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 商品详情数据获取\n\t\tloadProductDetail: function(e) {\n\t\t\tvar productid = e.target.dataset.productid;\n\t\t\tthis.setData({\n\t\t\t\tproductid: e.target.dataset.productid\n\t\t\t});\n\t\t\tvar that = this;\n\t\t\tcommon.showLoad(that);\n\t\t\tvar uri = app.getPath.goodsInfo;\n\t\t\tvar skuAmounturi = app.getPath.getSkuAmount;\n\t\t\tvar data = {\n\t\t\t\tgoods_id: productid\n\t\t\t};\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\tvar productlist = res.data.result; // productlist.min_buy_amount = productlist.min_buy_amount ? productlist.min_buy_amount : 1;\n\n\t\t\t\t\t\tvar content = productlist.goods_content;\n\t\t\t\t\t\tvar introContent = productlist.detail_explain;\n\t\t\t\t\t\tvar islike = productlist.is_liked;\n\t\t\t\t\t\tproductlist.current_price = productlist.shop_price;\n\t\t\t\t\t\tproductlist.price = productlist.market_price; // WxParse.wxParse('content', 'html', content, that, 0);\n\t\t\t\t\t\t// WxParse.wxParse('introContent', 'html', introContent, that, 0);\n\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\titemData: productlist,\n\t\t\t\t\t\t\tbannerItem: productlist.gallery,\n\t\t\t\t\t\t\tindicatorDots: productlist.gallery.length > 1 ? true : false,\n\t\t\t\t\t\t\tbuynum: productlist.min_buy_amount,\n\t\t\t\t\t\t\t// isLike: islike,\n\t\t\t\t\t\t\tbrandID: productlist.cat_id,\n\t\t\t\t\t\t\tskuSvipCurrent: productlist.shop_price,\n\t\t\t\t\t\t\tskuCurrent: productlist.market_price\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthat.setDefaultSKU(productlist); // that.loadipRecommend();\n\t\t\t\t\t\t// that.getGoodsRecommend();\n\n\t\t\t\t\t\tthat.isPriceEqualFun();\n\t\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\t} else if (res.statusCode == 500) {\n\t\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t\tcommon.toast(\"网络错误\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\t\tcommon.toast(\"获取购物车数量失败\");\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve('获取商详信息');\n\t\t\t\t});\n\t\t\t\tcommon.ApiGateWayTest(skuAmounturi, '', true, function(res) {\n\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcartAmount: res.data.result.cart_num\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t//设置默认SKU\n\t\tsetDefaultSKU: function(product) {\n\t\t\t// product 请求到的数据\n\t\t\tvar defaultAttrIds = [];\n\t\t\tvar defaultAttrStock = null;\n\t\t\tvar maybeStock = [];\n\t\t\tvar effectiveStock = []; // 得到SKU组合的原始数组\n\n\t\t\tfor (var i = 0; i < product.properties.length; ++i) {\n\t\t\t\tvar property = product.properties[i];\n\n\t\t\t\tif (!property.is_multiselect) {\n\t\t\t\t\tmaybeStock[i] = [];\n\n\t\t\t\t\tfor (var j = 0; j < property.attrs.length; j++) {\n\t\t\t\t\t\tmaybeStock[i].push(property.attrs[j].id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // 得到多个笛卡尔积组合\n\n\n\t\t\tmaybeStock = common.multiCartesian(maybeStock);\n\n\t\t\tif (maybeStock.length && maybeStock[0] instanceof Array) {\n\t\t\t\tfor (var i = 0; i < maybeStock.length; i++) {\n\t\t\t\t\tmaybeStock[i].sort(function(a, b) {\n\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} //验证是否可以购买\n\n\n\t\t\tthis.setData({\n\t\t\t\tcanPurchase: this.checkCanPurchase()\n\t\t\t});\n\t\t\tvar min_sku_price = 9999999999;\n\t\t\tvar min_sku_svip_price = 9999999999;\n\n\t\t\tfor (var i = 0; i < product.stock.length; ++i) {\n\t\t\t\tvar _goods_attr = product.stock[i].key.split('_');\n\n\t\t\t\tvar _min_sku_price = product.stock[i].market_price,\n\t\t\t\t\t_min_sku_svip_price = product.stock[i].price;\n\t\t\t\tvar hasDefaultFlag = false;\n\n\t\t\t\tif (min_sku_svip_price > _min_sku_svip_price) {\n\t\t\t\t\tvar ids = [];\n\n\t\t\t\t\tif (product.is_goods_number > 0 && product.is_on_sale && product.stock[i].is_enough) {\n\t\t\t\t\t\t//商品能购买，并且该sku有库存 则更新最低价\n\t\t\t\t\t\tfor (var ind = 0, len = _goods_attr.length; ind < len; ind++) {\n\t\t\t\t\t\t\tids.push(parseInt(_goods_attr[ind]));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdefaultAttrIds = ids;\n\t\t\t\t\t\tdefaultAttrStock = [{\n\t\t\t\t\t\t\tattrs: defaultAttrIds,\n\t\t\t\t\t\t\tstock: product.stock[i]\n\t\t\t\t\t\t}];\n\t\t\t\t\t\thasDefaultFlag = true;\n\t\t\t\t\t\tmin_sku_svip_price = _min_sku_svip_price;\n\t\t\t\t\t\tmin_sku_price = _min_sku_price;\n\t\t\t\t\t} else if (!product.is_goods_number > 0 || !product.is_on_sale) {\n\t\t\t\t\t\t//商品不能购买，则一定更新最低价，否则就是9999999999\n\t\t\t\t\t\tfor (var ind = 0, len = _goods_attr.length; ind < len; ind++) {\n\t\t\t\t\t\t\tids.push(parseInt(_goods_attr[ind]));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdefaultAttrIds = ids;\n\t\t\t\t\t\tdefaultAttrStock = [{\n\t\t\t\t\t\t\tattrs: defaultAttrIds,\n\t\t\t\t\t\t\tstock: product.stock[i]\n\t\t\t\t\t\t}];\n\t\t\t\t\t\thasDefaultFlag = true;\n\t\t\t\t\t\tmin_sku_svip_price = _min_sku_svip_price;\n\t\t\t\t\t\tmin_sku_price = _min_sku_price;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_goods_attr.sort(function(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t});\n\n\t\t\t\t_goods_attr = _goods_attr.join('_');\n\n\t\t\t\tfor (var j = 0; j < maybeStock.length; j++) {\n\t\t\t\t\tvar _thisStock = '';\n\n\t\t\t\t\tif (maybeStock[j] instanceof Array) {\n\t\t\t\t\t\t_thisStock = maybeStock[j].join('_');\n\t\t\t\t\t} else if (maybeStock[j] instanceof Object) {\n\t\t\t\t\t\t_thisStock = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_thisStock = maybeStock[j];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_goods_attr == _thisStock) {\n\t\t\t\t\t\tif (product.stock[i].is_enough == true) {\n\t\t\t\t\t\t\teffectiveStock.push({\n\t\t\t\t\t\t\t\tattrs: maybeStock[j],\n\t\t\t\t\t\t\t\tstock: product.stock[i]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar skuSvipCurrent = this.itemData.current_price;\n\t\t\tvar skuCurrent = this.itemData.price;\n\t\t\tthis.setData({\n\t\t\t\tsku_price: min_sku_price,\n\t\t\t\tmin_sku_price: min_sku_price,\n\t\t\t\tsku_svip_price: min_sku_svip_price,\n\t\t\t\tmin_sku_svip_price: min_sku_svip_price,\n\t\t\t\tskuSvipCurrent: parseFloat(skuSvipCurrent).toFixed(2),\n\t\t\t\tskuCurrent: skuCurrent,\n\t\t\t\tcurrentStock: defaultAttrStock\n\t\t\t}); //先通过设置默认sku，来设置默认显示价格，设置完之后，把默认sku去掉，不影响原来逻辑\n\n\t\t\tthis.currentAttrs = defaultAttrIds;\n\t\t\tthis.setData({\n\t\t\t\thasDefaultSKU: this.currentStock ? true : false\n\t\t\t});\n\t\t\tthis.set_choosed_sku();\n\t\t\tdefaultAttrIds = [];\n\t\t\tdefaultAttrStock = null;\n\t\t\tthis.setData({\n\t\t\t\tcurrentStock: null,\n\t\t\t\thasDefaultSKU: false\n\t\t\t});\n\t\t\tthis.currentAttrs = [];\n\n\t\t\tif (effectiveStock.length == 1) {\n\t\t\t\tdefaultAttrIds = effectiveStock[0].attrs instanceof Array ? effectiveStock[0].attrs : [effectiveStock[0].attrs];\n\t\t\t\tdefaultAttrStock = effectiveStock[0].stock;\n\t\t\t}\n\n\t\t\tif (effectiveStock.length > 1) {\n\t\t\t\tfor (var i in product.properties) {\n\t\t\t\t\tvar attrs = product.properties[i].attrs;\n\n\t\t\t\t\tfor (var j in attrs) {\n\t\t\t\t\t\tvar isin_count = 0;\n\n\t\t\t\t\t\tfor (var k in effectiveStock) {\n\t\t\t\t\t\t\tvar isin = new RegExp(attrs[j].id).test(effectiveStock[k].attrs);\n\n\t\t\t\t\t\t\tif (isin) {\n\t\t\t\t\t\t\t\tisin_count++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isin_count == effectiveStock.length) {\n\t\t\t\t\t\t\tdefaultAttrIds.push(attrs[j].id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\tcurrentStock: defaultAttrStock\n\t\t\t});\n\t\t\tthis.currentAttrs = defaultAttrIds;\n\t\t\tthis.setData({\n\t\t\t\thasDefaultSKU: this.currentStock ? true : false\n\t\t\t});\n\t\t\tthis.set_choosed_sku();\n\t\t},\n\t\t//设置choosed_sku\n\t\tset_choosed_sku: function() {\n\t\t\tvar that = this;\n\t\t\tvar product = that.itemData;\n\n\t\t\tif (that.currentAttrs.length < product.properties.length) {\n\t\t\t\tthat.sku_price = that.min_sku_price;\n\t\t\t\tthat.sku_svip_price = that.min_sku_svip_price;\n\t\t\t\tthat.setData({\n\t\t\t\t\tchoosed_sku: '选择：商品规格',\n\t\t\t\t\tskuImages: product.header_img,\n\t\t\t\t\tskuSvipCurrent: that.itemData.current_price,\n\t\t\t\t\tskuCurrent: that.itemData.price\n\t\t\t\t});\n\t\t\t\tthat.setAttrsClass();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar choosed_sku = '';\n\t\t\tvar sku_price = 0;\n\t\t\tvar sku_svip_price = 0;\n\t\t\tvar skuSvipCurrent = that.itemData.current_price;\n\t\t\tvar skuCurrent = that.itemData.price;\n\t\t\tthat.setData({\n\t\t\t\tchoosed_sku: choosed_sku,\n\t\t\t\tsku_price: sku_price,\n\t\t\t\tsku_svip_price: sku_svip_price,\n\t\t\t\tskuSvipCurrent: skuSvipCurrent,\n\t\t\t\tskuCurrent: skuCurrent\n\t\t\t});\n\n\t\t\tfor (var i in product.properties) {\n\t\t\t\tvar attrs = product.properties[i].attrs;\n\n\t\t\t\tfor (var j in attrs) {\n\t\t\t\t\tfor (var k in that.currentAttrs) {\n\t\t\t\t\t\tif (that.currentAttrs[k] == attrs[j].id) {\n\t\t\t\t\t\t\tchoosed_sku += attrs[j].item + ' '; //\t\t\t\t\tsku_price += attrs[j].attr_price;\n\t\t\t\t\t\t\t//\t\t\t\t\tsku_svip_price += attrs[j].attr_svip_price;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (choosed_sku != '') {\n\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\t\tstock = stock.split('_');\n\t\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t});\n\t\t\t\t\tstock = stock.join('_');\n\t\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\t\tif (attrs == stock) {\n\t\t\t\t\t\tthat.skuImages = product.stock[i].header_img;\n\t\t\t\t\t\tsku_price = product.stock[i].market_price;\n\t\t\t\t\t\tsku_svip_price = product.stock[i].shop_price;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthat.confirmData = [{\n\t\t\t\t\tgoods_name: product.goods_name,\n\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\tsku_key: attrs,\n\t\t\t\t\tamount: that.buynum,\n\t\t\t\t\tshop_price: sku_svip_price,\n\t\t\t\t\tmarket_price: sku_price,\n\t\t\t\t\tsku_key_name: \"规格:\" + choosed_sku,\n\t\t\t\t\tsku_img: that.skuImages\n\t\t\t\t}];\n\t\t\t\tchoosed_sku = '已选：' + choosed_sku;\n\t\t\t\tvar skuSvipCurrent = sku_svip_price;\n\t\t\t\tvar skuCurrent = sku_price;\n\t\t\t\tthat.setData({\n\t\t\t\t\tchoosed_sku: choosed_sku,\n\t\t\t\t\tsku_price: sku_price,\n\t\t\t\t\tsku_svip_price: sku_svip_price,\n\t\t\t\t\tskuSvipCurrent: skuSvipCurrent,\n\t\t\t\t\tskuCurrent: skuCurrent,\n\t\t\t\t\tskuImages: that.skuImages\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthat.setAttrsClass();\n\t\t},\n\t\t//SKU选择\n\t\tattrValueselest: function(e) {\n\t\t\tvar that = this;\n\t\t\tvar product = this.itemData;\n\t\t\tif (!product) return;\n\t\t\tvar property = e.currentTarget.dataset.property;\n\t\t\tvar attr = e.currentTarget.dataset.attr;\n\n\t\t\tif (attr.is_multiselect) {\n\t\t\t\tvar attrs = [].concat(this.optionalAttrs);\n\t\t\t\tvar index = attrs.indexOf(attr.id);\n\n\t\t\t\tif (-1 == index) {\n\t\t\t\t\tattrs.push(attr.id);\n\t\t\t\t} else {\n\t\t\t\t\tattrs.splice(index, 1);\n\t\t\t\t}\n\n\t\t\t\tthis.setData({\n\t\t\t\t\toptionalAttrs: attrs\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar inStock = false;\n\n\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\tif (product.stock[i].is_enough != true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (product.stock[i].key.indexOf(String(attr.id)) >= 0) {\n\t\t\t\t\t\tinStock = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!inStock) {\n\t\t\t\t\tcommon.toast('库存不足');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar stock = null;\n\t\t\t\tvar attrs = [].concat(this.currentAttrs);\n\t\t\t\tvar index = attrs.indexOf(attr.id);\n\n\t\t\t\tif (-1 == index) {\n\t\t\t\t\tattrs.push(attr.id);\n\t\t\t\t} else {\n\t\t\t\t\tattrs.splice(index, 1);\n\t\t\t\t}\n\n\t\t\t\tfor (var i in property.attrs) {\n\t\t\t\t\tif (property.attrs[i].id != attr.id) {\n\t\t\t\t\t\tvar index = attrs.indexOf(property.attrs[i].id);\n\n\t\t\t\t\t\tif (-1 != index) {\n\t\t\t\t\t\t\tattrs.splice(index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tattrs = attrs.filter(function(attr, index, self) {\n\t\t\t\t\treturn self.indexOf(attr) === index;\n\t\t\t\t});\n\t\t\t\tattrs.sort(function(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t});\n\n\t\t\t\tif (attrs.length) {\n\t\t\t\t\tvar key = attrs.join('_');\n\n\t\t\t\t\tfor (var i = 0; i < product.stock.length; ++i) {\n\t\t\t\t\t\tvar _goods_attr = product.stock[i].key.split('_');\n\n\t\t\t\t\t\t_goods_attr.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_goods_attr = _goods_attr.join('_');\n\n\t\t\t\t\t\tif (_goods_attr == key) {\n\t\t\t\t\t\t\tstock = product.stock[i];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (stock && stock.is_enough) {\n\t\t\t\t\tthis.currentStock = stock, this.currentAttrs = attrs, this.setData({\n\t\t\t\t\t\tbuynum: product.min_buy_amount\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (attrs.length < product.properties.length) {\n\t\t\t\t\t\tthis.currentStock = null, this.currentAttrs = attrs, this.setData({\n\t\t\t\t\t\t\tbuynum: product.min_buy_amount\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast('库存不足');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setData({\n\t\t\t\t\tcanPurchase: this.checkCanPurchase()\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.set_choosed_sku();\n\t\t},\n\t\t//设置每一个attr的class\n\t\tsetAttrsClass: function() {\n\t\t\tvar product = this.itemData;\n\t\t\tvar property = product.properties;\n\n\t\t\tfor (var i in property) {\n\t\t\t\tvar attrs = property[i].attrs;\n\n\t\t\t\tfor (var j in attrs) {\n\t\t\t\t\tvar attr = attrs[j];\n\n\t\t\t\t\tif (!product) {\n\t\t\t\t\t\tattr.class = 'disable';\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (product.is_goods_number == 0) {\n\t\t\t\t\t\tattr.class = 'disable';\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar attrArr = [];\n\n\t\t\t\t\tif (attr.is_multiselect) {\n\t\t\t\t\t\tattr.class = this.optionalAttrs.indexOf(attr.id) == -1 ? '' : 'active';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tattr.class = this.currentAttrs.indexOf(attr.id) == -1 ? '' : 'active';\n\t\t\t\t\t\tvar inStock = false;\n\n\t\t\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\t\t\tif (product.stock[i].is_enough != true) {\n\t\t\t\t\t\t\t\tvar currentAyyrsJn = this.currentAttrs.join(\"_\");\n\n\t\t\t\t\t\t\t\tif (product.stock[i].key.indexOf(String(currentAyyrsJn)) >= 0 && this.currentAttrs.length > 0) {\n\t\t\t\t\t\t\t\t\tvar stockDisplyKey = product.stock[i].key.split(\"_\");\n\n\t\t\t\t\t\t\t\t\tfor (var j in stockDisplyKey) {\n\t\t\t\t\t\t\t\t\t\tif (stockDisplyKey[j] != this.currentAttrs) {\n\t\t\t\t\t\t\t\t\t\t\tfor (var k in product.properties) {\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var s in product.properties[k].attrs) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (product.properties[k].attrs[s].id == stockDisplyKey[j]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.properties[k].attrs[s].class = 'disable';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (product.stock[i].key.indexOf(String(attr.id)) >= 0) {\n\t\t\t\t\t\t\t\tinStock = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!inStock) {\n\t\t\t\t\t\t\tattr.class += 'disable';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\titemData: product\n\t\t\t});\n\t\t},\n\t\t//验证是否可以购买\n\t\tcheckCanPurchase: function() {\n\t\t\tvar product = this.itemData;\n\t\t\tvar required = false;\n\n\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tsumbitName: product.pre_info.pre_time\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!product || product.is_enough == 0) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tsumbitName: '抱歉，商品已售罄'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (product.is_on_sale == 0) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tsumbitName: '抱歉，商品已下架'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.currentAttrs.length >= product.properties.length) {\n\t\t\t\tfor (var i in product.properties) {\n\t\t\t\t\tif (!product.properties[i].is_multiselect) {\n\t\t\t\t\t\trequired = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (required) {\n\t\t\t\t\tif (!this.currentAttrs || !this.currentAttrs.length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.currentStock) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\tsumbitName: '立即购买'\n\t\t\t});\n\t\t\treturn true;\n\t\t},\n\t\t// SKU价格和非VIP价格是否相同\n\t\tisPriceEqualFun: function() {\n\t\t\tvar that = this;\n\n\t\t\tif (that.itemData.price && that.itemData.current_price) {\n\t\t\t\tvar price = that.itemData.price + that.sku_price,\n\t\t\t\t\tsvip_price = that.itemData.current_price + that.sku_svip_price;\n\n\t\t\t\tif (price == svip_price) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tisPriceEqual: true\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tisPriceEqual: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthat.setData({\n\t\t\t\t\tisPriceEqual: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 加减\n\t\tchangeNum: function(e) {\n\t\t\tvar that = this;\n\t\t\tvar product = that.itemData;\n\t\t\tvar invurl = app.getPath.skuEnough;\n\n\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\tinvurl = app.getPath.skuEnough;\n\t\t\t}\n\n\t\t\tvar product_id = '';\n\n\t\t\tfor (var i in product.stock) {\n\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\tstock = stock.split('_');\n\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t});\n\t\t\t\tstock = stock.join('_');\n\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\tif (attrs == stock) {\n\t\t\t\t\tproduct_id = product.stock[i].key;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (that.currentAttrs.length == product.properties.length) {\n\t\t\t\t// alpha-beta 0  减\n\t\t\t\tif (e.currentTarget.dataset.alphaBeta == 0) {\n\t\t\t\t\tif (!that.checkCanPurchase()) return; // Lin start\n\n\t\t\t\t\tif (that.buynum <= that.itemData.min_buy_amount) {\n\t\t\t\t\t\tcommon.toast('不能小于最小购买数量');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} // Lin end\n\n\n\t\t\t\t\tif (that.buynum <= 1) { // buynum: 1\n\t\t\t\t\t} else if (that.buynum === 2) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tbuynum: that.buynum - 1,\n\t\t\t\t\t\t\tundel: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tbuynum: that.buynum - 1\n\t\t\t\t\t\t});\n\t\t\t\t\t} // 验证库存\n\n\n\t\t\t\t\tif (that.buynum != 1) {\n\t\t\t\t\t\tvar invdata = {\n\t\t\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\t\t\tamount: that.buynum\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\t\t\tif (ret.data.result.is_enough != 1) {\n\t\t\t\t\t\t\t\tcommon.toast(ret.data.result.msg);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// alpha-beta 1  加      max_buy_amount==0不限制数量\n\t\t\t\t\t// Lin start\n\t\t\t\t\tif (that.itemData.max_buy_amount != 0 && that.buynum >= that.itemData.max_buy_amount) {\n\t\t\t\t\t\tcommon.toast('不能在多啦~');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} // Lin end\n\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tbuynum: that.buynum + 1,\n\t\t\t\t\t\tundel: false\n\t\t\t\t\t});\n\n\t\t\t\t\tif (that.buynum > 1) {\n\t\t\t\t\t\tvar invdata = {\n\t\t\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\t\t\tamount: that.buynum\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\t\t\tif (ret.data.result.is_enough != 1) {\n\t\t\t\t\t\t\t\tcommon.toast(ret.data.result.msg);\n\t\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\t\tbuynum: that.buynum - 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthat.set_choosed_sku();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthat.confirmData.num = that.buynum;\n\t\t\t} else {\n\t\t\t\tif (that.showSKUstatus == 0) {\n\t\t\t\t\tthat.setModalStatus();\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast('请选择商品款式');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat.set_choosed_sku();\n\t\t},\n\n\t\tgzhBindload(e) {\n\t\t\tif (e.detail.status != 0) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tshowOfficial: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tgetConfigureIndexModel2: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.indexmodel;\n\t\t\tvar data = {\n\t\t\t\tposition: 3\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tindexModel2: res.data.result.lists\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetConfigureIndexModel: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.indexmodel;\n\t\t\tvar data = {\n\t\t\t\tposition: 1\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tindexModel: res.data.result.lists\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//获取首页团购\n\t\tgetPickUpAcitivity(city) {\n\t\t\tvar that = this;\n\t\t\tPromise.all([that.getpickuplistr()]).then(function(res) {\n\t\t\t\tif (!res[0]) {\n\t\t\t\t\tcommon.setStorageSync('reLoad', true);\n\t\t\t\t\tthat.$options.onShow[0](that)\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tthat.getNewAd();\n\t\t\t\t\tthat.getSubjectAd();\n\t\t\t\t\tthat.bargain_page = 1;\n\t\t\t\t\tthat.bargain_page_size = 20;\n\t\t\t\t\tthat.team_page = 1;\n\t\t\t\t\tthat.team_page_size = 20;\n\t\t\t\t\tthat.be_team_page = 1;\n\t\t\t\t\tthat.be_team_page_size = 20;\n\t\t\t\t\tthat.teamList = [];\n\t\t\t\t\tthat.beTeamList = [];\n\t\t\t\t\tthat.bargainList = [];\n\t\t\t\t\tthat.teamGoodsList = [];\n\t\t\t\t\tthat.getAllActivity();\n\t\t\t\t\twx.stopPullDownRefresh();\n\t\t\t\t}\n\t\t\t}); // common.ApiGateWayTest(url,\"\",true,function (res) {\n\t\t\t//       var res=res.data\n\t\t\t//     if(res.success==1){\n\t\t\t//       let pickUpArr = res.result.data;\n\t\t\t//       that.setData({\n\t\t\t//         pickUpActivity: pickUpArr\n\t\t\t//       })\n\t\t\t//       if (that.data.teamNum == 0) {\n\t\t\t//         that.setData({\n\t\t\t//           teamGoodsList: pickUpArr.team_in_progress.goods_list\n\t\t\t//         })\n\t\t\t//       } else if (that.data.teamNum == 1) {\n\t\t\t//         that.setData({\n\t\t\t//           teamGoodsList: pickUpArr.bargain_in_progress.goods_list\n\t\t\t//         })\n\t\t\t//       } else if (that.data.teamNum == 2) {\n\t\t\t//         that.setData({\n\t\t\t//           teamGoodsList: pickUpArr.be_team.goods_list\n\t\t\t//         })\n\t\t\t//       }\n\t\t\t//   } else {\n\t\t\t//     common.toast(res.msg);\n\t\t\t//     return\n\t\t\t//   }\n\t\t\t//   wx.stopPullDownRefresh()\n\t\t\t// })\n\t\t},\n\n\t\tgetAllActivity() {\n\t\t\tlet that = this;\n\n\t\t\tif (that.teamNum == 0) {\n\t\t\t\tconsole.log('获取首页拼团信息');\n\t\t\t\tthat.getTeamList();\n\t\t\t} else if (that.teamNum == 1) {\n\t\t\t\tthat.getBargainActivity();\n\t\t\t} else if (that.teamNum == 2) {\n\t\t\t\tthat.getBeTeamList();\n\t\t\t}\n\t\t},\n\n\t\t// 选择提货点(重叠提货点)\n\t\tchoosePickupChange(e) {\n\t\t\tthis.setData({\n\t\t\t\tchooseSelectIndex: e.currentTarget.dataset.index\n\t\t\t});\n\t\t},\n\n\t\t// 设置提货点(重叠提货点)\n\t\tchoosePickupSubmit() {\n\t\t\tthis.setData({\n\t\t\t\tchoosePickupShow: false\n\t\t\t});\n\t\t\tcommon.setStorageSync('getpickup', this.choosePickupList[this.chooseSelectIndex ? this.chooseSelectIndex : 0]);\n\t\t\tcommon.setStorageSync('reLoad', true);\n\t\t\tthis.$options.onShow[0](this)\n\t\t},\n\n\t\t// 前往领取纸巾\n\t\tgoTissue(e) {\n\t\t\tcommon.formIdUpdate(e);\n\t\t\tvar url =\n\t\t\t\t'https://share.lltjs.com/app/index.php?i=2&c=entry&from=account&account=a450f613484aea3458ac7a7eba952d720d671557&xid=&do=entry&m=llt_afan';\n\t\t\tapp.dataBase.pageUrl = url;\n\t\t\tcommon.goWebview();\n\t\t\tthis.setData({\n\t\t\t\tshowTissue: false\n\t\t\t});\n\t\t},\n\n\t\t// 跳转店铺\n\t\tgoTakeoutShop() {\n\t\t\tvar that = this;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '/packageA/takeout-shop/takeout-shop?entryType=external&shop_id=' + that.shop_id\n\t\t\t});\n\t\t},\n\n\t\t// 获取店铺id\n\t\tgetShopPickUp() {\n\t\t\tvar that = this;\n\t\t\tvar url = app.getPath.getShopPickUp;\n\t\t\tcommon.ApiGateWayTest(url, '', true, function(res) {\n\t\t\t\tvar res = res.data;\n\n\t\t\t\tif (res.success == 1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshop_id: res.result.shop_id\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 首页弹窗领红包\n\t\tgetPacket() {\n\t\t\tthis.setData({\n\t\t\t\tshowPacketAd: false,\n\t\t\t\tshowPacketCoupon: true\n\t\t\t});\n\t\t},\n\n\t\t// 关闭弹窗红包广告\n\t\thide_packet_ad() {\n\t\t\tthis.setData({\n\t\t\t\tshowPacketAd: false\n\t\t\t});\n\t\t},\n\n\t\thide_packet_coupon() {\n\t\t\tthis.setData({\n\t\t\t\tshowPacketCoupon: false\n\t\t\t});\n\t\t},\n\n\t\t// 获取首页专题广告\n\t\tgetSubjectAd() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.adlist;\n\t\t\tvar data = {\n\t\t\t\tpid: 9\n\t\t\t};\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tsubjectAdList: data\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve('successAd');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t// 获取首页弹窗广告\n\t\tgetPacketModal() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.adlist;\n\t\t\tvar data = {\n\t\t\t\tpid: 10\n\t\t\t};\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar data = res.data.result;\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tpacketModal: data\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve('successAd');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t// 切换活动tab\n\t\tchange_team_tab(e) {\n\t\t\tlet that = this;\n\t\t\tlet num = e.currentTarget.dataset.num;\n\t\t\tif (num == that.teamNum) return;\n\t\t\tcommon.showLoad(that);\n\t\t\tthis.setData({\n\t\t\t\tteamNum: num\n\t\t\t});\n\t\t\tthis.bargain_page = 1;\n\t\t\tthis.bargain_page_size = 20;\n\t\t\tthis.team_page = 1;\n\t\t\tthis.team_page_size = 20;\n\t\t\tthis.be_team_page = 1;\n\t\t\tthis.be_team_page_size = 20;\n\t\t\tthis.teamList = [];\n\t\t\tthis.beTeamList = [];\n\t\t\tthis.bargainList = [];\n\t\t\tthis.teamGoodsList = [];\n\t\t\tthis.setData({\n\t\t\t\tcheckShowBottom: false,\n\t\t\t\tshowBottomLoading: false\n\t\t\t});\n\n\t\t\tif (that.sliderBarFixed) {\n\t\t\t\tif (common.compareVersion('2.3.1') >= 0) {\n\t\t\t\t\twx.pageScrollTo({\n\t\t\t\t\t\tselector: '#slider-bar-team'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twx.pageScrollTo({\n\t\t\t\t\t\tscrollTop: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat.getAllActivity();\n\t\t},\n\n\t\t//获取首页拼团信息\n\t\tgetTeamList() {\n\t\t\tconsole.log('获取首页拼团信息');\n\t\t\tlet that = this;\n\t\t\tlet url = app.getPath.getTeamActivity;\n\t\t\tlet data = {\n\t\t\t\tpage: that.team_page,\n\t\t\t\tpage_size: that.team_page_size,\n\t\t\t\ttype: 1\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tconsole.log('获取首页拼团信息', res);\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success === 1) {\n\t\t\t\t\tif (resData.result.data.length < that.team_page_size) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcheckShowBottom: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tlet teamList = that.teamList;\n\t\t\t\t\tthat.teamList = teamList.length > 0 ? [...teamList, ...resData.result.data] : resData.result.data;\n\t\t\t\t\tthat.teamList = that.teamList.map(item => {\n\t\t\t\t\t\titem.shop_price = parseFloat(item.shop_price);\n\t\t\t\t\t\titem.market_price = parseFloat(item.market_price);\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t});\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowBottomLoading: false,\n\t\t\t\t\t\tteamGoodsList: that.teamList\n\t\t\t\t\t});\n\t\t\t\t\tconsole.log('teamGoodsList', that.teamGoodsList);\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 获取首页砍价信息\n\t\tgetBargainActivity() {\n\n\t\t\tlet that = this;\n\t\t\tlet url = app.getPath.getBargainActivity;\n\t\t\tlet data = {\n\t\t\t\tpage: that.bargain_page,\n\t\t\t\tpage_size: that.bargain_page_size\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success === 1) {\n\t\t\t\t\tif (resData.result.data.length < that.bargain_page_size) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcheckShowBottom: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tlet bargainList = that.bargainList;\n\t\t\t\t\tthat.bargainList = bargainList.length > 0 ? [...bargainList, ...resData.result.data] : resData.result.data;\n\t\t\t\t\tthat.bargainList = that.bargainList.map(item => {\n\t\t\t\t\t\titem.shop_price = parseFloat(item.shop_price);\n\t\t\t\t\t\titem.market_price = parseFloat(item.market_price);\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t});\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowBottomLoading: false,\n\t\t\t\t\t\tteamGoodsList: that.bargainList\n\t\t\t\t\t});\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\n\t\t//获取首页即将拼团信息\n\t\tgetBeTeamList() {\n\t\t\tlet that = this;\n\t\t\tlet url = app.getPath.getTeamActivity;\n\t\t\tlet data = {\n\t\t\t\tpage: that.be_team_page,\n\t\t\t\tpage_size: that.be_team_page_size,\n\t\t\t\ttype: 2\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success === 1) {\n\t\t\t\t\tif (resData.result.data.length < that.team_page_size) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcheckShowBottom: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tlet beTeamList = that.beTeamList;\n\t\t\t\t\tthat.beTeamList = beTeamList.length > 0 ? [...beTeamList, ...resData.result.data] : resData.result.data;\n\t\t\t\t\tthat.beTeamList = that.beTeamList.map(item => {\n\t\t\t\t\t\titem.shop_price = parseFloat(item.shop_price);\n\t\t\t\t\t\titem.market_price = parseFloat(item.market_price);\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t});\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowBottomLoading: false,\n\t\t\t\t\t\tteamGoodsList: that.beTeamList\n\t\t\t\t\t});\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 新厂首页轮播改变触发\n\t\tnewSwiperChange(e) {\n\t\t\tthis.setData({\n\t\t\t\tindexAdcurrent: e.detail.current\n\t\t\t});\n\t\t},\n\n\t\t// 红包-获取左侧提示信息\n\t\tgetHomeSituation() {\n\t\t\tvar that = this;\n\t\t\tvar url = app.getPath.sureHomeSituation;\n\t\t\tcommon.ApiGateWayTest(url, '', true, function(res) {\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success == 1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\thomeSituation: resData.result\n\t\t\t\t\t});\n\t\t\t\t\tvar entry_share_info = {\n\t\t\t\t\t\tuser_id: resData.result.user_id,\n\t\t\t\t\t\tinvite_share_img: resData.result.invite_share_img,\n\t\t\t\t\t\tinvite_share_text: resData.result.invite_share_text,\n\t\t\t\t\t\turge_share_img: resData.result.urge_share_img,\n\t\t\t\t\t\turge_share_text: resData.result.urge_share_text,\n\t\t\t\t\t\trule_img: resData.result.rule_img\n\t\t\t\t\t};\n\t\t\t\t\tcommon.setStorageSync('entry_share_info', entry_share_info);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 红包-左侧点击跳转（领红包）\n\t\tgetEnvelopes(e) {\n\t\t\tvar item = e.currentTarget.dataset.item;\n\t\t\tvar that = this;\n\t\t\tvar pickupId = common.getStorageSync('getpickup');\n\t\t\t// app.aldstat.sendEvent(\"index_urging_report\", {\n\t\t\t// \t\"提货点\": pickupId.cityName\n\t\t\t// });\n\n\t\t\tif (item.status == 2 || item.status == 3) {\n\t\t\t\twx.navigateTo({\n\t\t\t\t\turl: '/packageB/invitation-share/invitation-share?type=2'\n\t\t\t\t});\n\t\t\t} else if (item.status == 4) {\n\t\t\t\twx.navigateTo({\n\t\t\t\t\turl: '/packageB/invitation-share/invitation-share?type=1'\n\t\t\t\t});\n\t\t\t} else if (item.status == 1) {\n\t\t\t\tthat.setData({\n\t\t\t\t\tshowRedEnvel: true,\n\t\t\t\t\tshowRedEnvelType: item.status\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// 关闭手机号授权弹窗\n\t\tclosePhoneModal() {\n\t\t\tthis.setData({\n\t\t\t\tshowPhoneModal: false\n\t\t\t});\n\t\t},\n\n\t\t// 显示获取手机号授权弹窗\n\t\ttoShowPhoneModal() {\n\t\t\tthis.setData({\n\t\t\t\tshowPhoneModal: true\n\t\t\t});\n\t\t},\n\n\t\t// 红包-邀请分享进入\n\t\tsetInviteShareLogin() {\n\t\t\tvar that = this;\n\t\t\tvar url = app.getPath.inviteShareLogin;\n\t\t\tvar shareTicket_info = common.getStorageSync('shareTicket_info');\n\n\t\t\tif (shareTicket_info && shareTicket_info != '') {\n\t\t\t\twx.getShareInfo({\n\t\t\t\t\tshareTicket: shareTicket_info.shareTicket,\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\tuser_id: shareTicket_info.query.user_id,\n\t\t\t\t\t\t\twx_scene: shareTicket_info.scene,\n\t\t\t\t\t\t\tencrypted_data: JSON.stringify(res)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\t\t\t\tvar resData = res.data;\n\n\t\t\t\t\t\t\tif (resData.result.success) {\n\t\t\t\t\t\t\t\tcommon.setStorageSync('shareTicket_info', '');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\tuser_id: shareTicket_info.query.user_id,\n\t\t\t\t\t\t\twx_scene: shareTicket_info.scene,\n\t\t\t\t\t\t\tencrypted_data: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\t\t\t\tvar resData = res.data;\n\n\t\t\t\t\t\t\tif (resData.result.success) {\n\t\t\t\t\t\t\t\tcommon.setStorageSync('shareTicket_info', '');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t// 获取手机号授权\n\t\tgetPhone: function(e) {\n\t\t\tvar that = this;\n\n\t\t\tif (!(e.detail.encryptedData && e.detail.iv)) {\n\t\t\t\treturn false;\n\t\t\t} // 新用户注册\n\t\t\t// 获取手机号\n\n\n\t\t\tvar mobileUri = app.getPath.getWXMobile; // 重新获取code获取手机号\n\n\t\t\twx.login({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tvar Mobiledata = {\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\n\t\t\t\t\t\tiv: e.detail.iv,\n\t\t\t\t\t\tcode: res.code\n\t\t\t\t\t};\n\t\t\t\t\tcommon.ApiGateWayTest(mobileUri, Mobiledata, true, function(resData) {\n\t\t\t\t\t\tif (resData.data.success == 1) {\n\t\t\t\t\t\t\tcommon.toast('绑定成功');\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tgetRemind: true,\n\t\t\t\t\t\t\t\tshowPhoneModal: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\t\t// 重新获取提货点信息\n\t\tgetpickuplistr: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.pickupInfo;\n\t\t\tvar pickupId = common.getStorageSync('getpickup');\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, '', true, function(res) {\n\t\t\t\t\tvar resData = res.data;\n\n\t\t\t\t\tif (resData.success == 1) {\n\t\t\t\t\t\tif (resData.result.pickup_type != pickupId.pickup_type) {\n\t\t\t\t\t\t\tcommon.setStorageSync('getpickup', resData.result);\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetData: function(obj) {\n\t\t\tlet that = this;\n\t\t\tlet keys = [];\n\t\t\tlet val, data;\n\t\t\tObject.keys(obj).forEach(function(key) {\n\t\t\t\tkeys = key.split('.');\n\t\t\t\tval = obj[key];\n\t\t\t\tdata = that.$data;\n\t\t\t\tkeys.forEach(function(key2, index) {\n\t\t\t\t\tthat[key] = obj[key];\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n};\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}