{"version":3,"sources":["webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue?ac0f","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue?45fa","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue?85d5","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue?3136","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue?8b3c","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue?63af"],"names":["app","getApp","globalData","common","require","data","iconURL","dataBase","minusStatuses","total","totalPrice","totalShare","edit_mode","selectedAmount","selectedGoods","isSelectedAll","optionalSelect","groups","sendMsg","refresh","page","recommend_good_list","checkSessionKey","sumPrice","isAuthorization","hasInvalid","showPage","components","goodlist","no_warehouse","props","onShow","that","pickupId","getStorageSync","loadCartData","console","log","local","city","warehouse_id","setData","onShareAppMessage","e","pickup","entry_share_info","title","from","urge_share_text","path","pickup_id","user_id","imageUrl","urge_share_img","methods","callback","firstlaunchApp","undefined","showLoad","getpickup","res","cities","hideLoad","openSet","detail","setStorageSync","isRefresh","toggleEdit","getCartPrice","clearCart","url","getPath","showModal","confirm","ApiGateWayTest","success","goods","touchAmountSub","formIdUpdate","currentTarget","dataset","index","g_index","edit_amount","amount","is_disable","is_enough","is_on_sale","min_buy_amount","delete","cart_id","toast","deletingGoods","refreshEditModeAmount","changCartNum","list","minusStatus","i","length","getOptional","count","touchAmountAdd","max_buy_amount","order_product","calculateCart","push","goods_id","sku_key","num","JSON","stringify","result","total_price","total_share","url1","cartList","data1","touchSelectAll","touchSelect","target","tips","targetIndex","splice","canSelectLen","optionSelectLen","j","k","setSettledPrice","resetCheckbox","_goods","selected","a","recomputeSVIPPrice","price","_price","shop_price","selectedSVIPPrice","toFixed","svipGoodsPrice","savePrice","computeAllPrice","all_price","all_market_price","_market_price","market_price","allPrice","allMarketPrice","touchDelete","content","confirmText","uploadData","recomputePrice","cancel","delAllInvalidGoods","clearLoseCartUrl","clearLoseCart","touchDel","_this","delCart","cart_ids","product","toString","goodsId","loadcallback","join","touchWinlog","goodsLike","statusCode","load_select","id","activity_id","wx","navigateTo","toNowpay","isOldUser","goRegister","setStorage","key","touchProduct","goHome","switchTab","obj","keys","val","Object","forEach","split","$data","key2"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmF;AAC3B;AACL;AACa;;;AAGhE;AACoJ;AACpJ,gBAAgB,sJAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA8qB,CAAgB,+oBAAG,EAAC,C;;;;;;;;;;;;wFCAlsB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"pages/cart/cart.js","sourcesContent":["import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=ce6980c8&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('ce6980c8', component.options)\n    } else {\n      api.reload('ce6980c8', component.options)\n    }\n    module.hot.accept(\"./cart.vue?vue&type=template&id=ce6980c8&\", function () {\n      api.rerender('ce6980c8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=ce6980c8&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar app = getApp().globalData;\nvar common = require(\"../../utils/common.js\"); // pages/cart/cart.js\nimport goodlist from \"../../components/goodList/goodList\";\nimport no_warehouse from \"../../components/no_warehouse/no_warehouse\";\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ticonURL: app.dataBase.iconURL,\n\t\t\tminusStatuses: ['disabled', 'disabled', 'normal', 'normal', 'disabled'],\n\t\t\ttotal: 0,\n\t\t\ttotalPrice: '0.00',\n\t\t\ttotalShare: '0.00',\n\t\t\tedit_mode: false,\n\t\t\tselectedAmount: 0,\n\t\t\tselectedGoods: [],\n\t\t\tisSelectedAll: false,\n\t\t\toptionalSelect: false,\n\t\t\tgroups: [],\n\t\t\tsendMsg: '不含运费',\n\t\t\t// 上拉加载部分\n\t\t\trefresh: true,\n\t\t\tpage: 1,\n\t\t\trecommend_good_list: [],\n\t\t\tcheckSessionKey: app.checkSessionKey,\n\t\t\tsumPrice: '0.00',\n\t\t\tisAuthorization: \"\",\n\t\t\thasInvalid: \"\",\n\t\t\tshowPage:true\n\t\t};\n\t},\n\n\tcomponents: {\n\t\tgoodlist,\n\t\tno_warehouse\n\t},\n\tprops: {},\n\tonShow: function() {\n\t\tvar that = this;\n\t\tvar pickupId = common.getStorageSync('getpickup');\n\t\tthis.loadCartData();\n\t\tthis.recommend_good_list = [];\n\n\t\tconsole.log(app)\n\t\t// 检测登录\n\t\t// common.getUserSessionKey().then(function () {\n\t\t//   that.setData({\n\t\t//     checkSessionKey:true\n\t\t//   })\n\t\t// }).catch(function () {\n\t\t//   that.setData({\n\t\t//     checkSessionKey: true\n\t\t//   })\n\t\t// })\n\t\t// if (this.data.refresh) {\n\t\t//   this.getRecommendGoodList()\n\t\t// };\n\t\t//  定位检测\n\n\t\tthat.local(function(city) {\n\t\t\tvar data = {\n\t\t\t\tcity: city,\n\t\t\t\tisAuthorization: true // 判断是否有定位和仓库\n\n\t\t\t};\n\n\t\t\tif (that.isAuthorization && city.warehouse_id != -1) {\n\t\t\t\tdata.showPage = true;\n\t\t\t\tthat.setData(data);\n\t\t\t} else {\n\t\t\t\tdata.showPage = false;\n\t\t\t\tthat.setData(data);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t},\n\n\tonShareAppMessage(e) {\n\t\tvar that = this;\n\t\tvar pickup = common.getStorageSync('getpickup');\n\t\tvar entry_share_info = common.getStorageSync('entry_share_info');\n\t\treturn {\n\t\t\ttitle: e.from == 'button' ? entry_share_info.urge_share_text : '',\n\t\t\tpath: '/pages/index/index?pickup_id=' + pickup.pickup_id + '&user_id=' + entry_share_info.user_id,\n\t\t\timageUrl: e.from == 'button' ? entry_share_info.urge_share_img : ''\n\t\t};\n\t},\n\n\tmethods: {\n\t\t// 定位检测\n\t\tlocal: function(callback) {\n\t\t\tvar that = this;\n\t\t\tthat.setData({\n\t\t\t\tisAuthorization: common.getStorageSync('authSetting')['scope.userLocation']\n\t\t\t});\n\t\t\tvar city = common.getStorageSync('city');\n\t\t\tvar pickup = common.getStorageSync('getpickup');\n\n\t\t\tif (app.firstlaunchApp && city.warehouse_id == undefined) {\n\t\t\t\t// 进入app后首次打开当前页面   没自提点的情况下 先获取地理定位\n\t\t\t\tif (that.isAuthorization) {\n\t\t\t\t\t// 增加加载，防止未加载完就点击\n\t\t\t\t\tcommon.showLoad(that);\n\t\t\t\t}\n\n\t\t\t\tcommon.getpickup(function(res) {\n\t\t\t\t\tvar city = res.cities;\n\t\t\t\t\tcallback && typeof callback === \"function\" && callback(city);\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// 有自提点的情况下，直接 取自提点 不重新请求\n\t\t\t\t// 第二次进入当前页（从选择定位页面进入），直接用仓库地址请求数据\n\t\t\t\tcallback && typeof callback === \"function\" && callback(city);\n\t\t\t} // 加载数据，如果未获取自提点将先获取定位再执行\n\t\t\t// if (city.hasOwnProperty('warehouse_id')) {\n\t\t\t//   (callback && typeof (callback) === \"function\") && callback(city);\n\t\t\t// } else {\n\t\t\t//   // 开通定位时，得重新setdata isAuthorization\n\t\t\t//   //获取当前自提点后执行\n\t\t\t//   if (that.data.isAuthorization) {\n\t\t\t//     // 增加加载，防止未加载完就点击\n\t\t\t//     common.showLoad()\n\t\t\t//   }\n\t\t\t//   common.getpickup(function (res) {\n\t\t\t//     (callback && typeof (callback) === \"function\") && callback(res.cities);\n\t\t\t//     common.hideLoad()\n\t\t\t//   })\n\t\t\t// }\n\n\t\t},\n\t\t// 打开定位回调\n\t\topenSet: function(e) {\n\t\t\tvar that = this;\n\t\t\tthat.setData({\n\t\t\t\tisAuthorization: e.detail.isAuthorization\n\t\t\t});\n\t\t\tcommon.setStorageSync('reLoad', true);\n\t\t\tapp.dataBase.isRefresh = true;\n\t\t\tthat.onShow();\n\t\t},\n\t\t//开关编辑模式\n\t\ttoggleEdit: function() {\n\t\t\tthis.setData({\n\t\t\t\tedit_mode: !this.edit_mode\n\t\t\t}); // this.recomputePrice();\n\n\t\t\tthis.getCartPrice();\n\t\t},\n\t\t// 清空购物车\n\t\tclearCart: function() {\n\t\t\tvar that = this;\n\t\t\tvar url = app.getPath.clearCart;\n\t\t\tvar data = {};\n\t\t\tcommon.showModal('确定清空购物车商品吗？', '清空', function(res) {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\t// 清空\n\t\t\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\t\t\tvar res = res.data;\n\n\t\t\t\t\t\tif (res.success == 1) {\n\t\t\t\t\t\t\tvar groups = that.groups;\n\t\t\t\t\t\t\tgroups.goods = [];\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tgroups\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn;\n\t\t},\n\t\t//编辑按钮减\n\t\ttouchAmountSub: function(e) {\n\t\t\tvar that = this;\n\t\t\tcommon.formIdUpdate(e);\n\t\t\tvar goods = e.currentTarget.dataset.goods;\n\t\t\tvar index = e.currentTarget.dataset.index;\n\t\t\tvar g_index = e.currentTarget.dataset.g_index;\n\t\t\tvar edit_amount = goods.amount;\n\n\t\t\tif (goods.is_disable == 1 || goods.is_enough == 0 || goods.is_on_sale == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (edit_amount <= goods.min_buy_amount) {\n\t\t\t\t// common.toast('受不了了，宝贝不能再少了');\n\t\t\t\t// 减到最后一件，弹窗删除\n\t\t\t\tcommon.showModal('是否从购物车删除？', '删除', function(res) {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t// 删除\n\t\t\t\t\t\tthat.delete([goods.cart_id], function(success) {\n\t\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\t\tcommon.toast('删除成功');\n\t\t\t\t\t\t\t\tthat.deletingGoods = null; // that.recomputePrice();\n\n\t\t\t\t\t\t\t\tthat.getCartPrice();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\tthat.refreshEditModeAmount();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tedit_amount--;\n\t\t\tvar cart_id = goods.cart_id;\n\t\t\tvar url = app.getPath.changCartNum;\n\t\t\tvar data = {\n\t\t\t\tcart_id: cart_id,\n\t\t\t\tamount: edit_amount\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tif (res && res.data.success == 1) {\n\t\t\t\t\tvar groups = that.groups;\n\t\t\t\t\tgroups.goods[index].list[g_index].amount = edit_amount; // 只有大于一件的时候，才能normal状态，否则disable状态\n\n\t\t\t\t\tvar minusStatus = edit_amount <= 1 ? 'disabled' : 'normal'; // 按钮可用状态\n\n\t\t\t\t\tvar minusStatuses = that.minusStatuses;\n\t\t\t\t\tminusStatuses[index] = minusStatus; // 将数值与状态写回\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tgroups: groups,\n\t\t\t\t\t\tminusStatuses: minusStatuses\n\t\t\t\t\t}); // 合计数量价格\n\n\t\t\t\t\tvar selectedGoods = that.selectedGoods;\n\n\t\t\t\t\tfor (var i = 0; i < selectedGoods.length; ++i) {\n\t\t\t\t\t\tif (selectedGoods[i].cart_id == groups.goods[index].list[g_index].cart_id) {\n\t\t\t\t\t\t\tselectedGoods[i] = groups.goods[index].list[g_index];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tselectedGoods: selectedGoods\n\t\t\t\t\t});\n\t\t\t\t\tthat.getOptional();\n\t\t\t\t}\n\n\t\t\t\tthat.count(); // that.recomputePrice();\n\t\t\t});\n\t\t},\n\t\t//编辑按钮加\n\t\ttouchAmountAdd: function(e) {\n\t\t\tvar that = this;\n\t\t\tcommon.formIdUpdate(e);\n\t\t\tvar goods = e.currentTarget.dataset.goods;\n\t\t\tvar index = e.currentTarget.dataset.index;\n\t\t\tvar g_index = e.currentTarget.dataset.g_index;\n\t\t\tvar edit_amount = goods.amount;\n\n\t\t\tif (goods.is_disable == 1 || goods.is_enough == 0 || goods.is_on_sale == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (edit_amount >= goods.max_buy_amount) {\n\t\t\t\tcommon.toast('不能再多啦~');\n\t\t\t\treturn;\n\t\t\t} // 自增\n\n\n\t\t\tedit_amount++;\n\t\t\tvar cart_id = goods.cart_id;\n\t\t\tvar url = app.getPath.changCartNum;\n\t\t\tvar data = {\n\t\t\t\tcart_id: cart_id,\n\t\t\t\tamount: edit_amount\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tif (res.data.success == 1) {\n\t\t\t\t\tvar groups = that.groups;\n\t\t\t\t\tgroups.goods[index].list[g_index].amount = edit_amount; // 只有大于一件的时候，才能normal状态，否则disable状态\n\n\t\t\t\t\tvar minusStatus = edit_amount <= 1 ? 'disabled' : 'normal'; // 按钮可用状态\n\n\t\t\t\t\tvar minusStatuses = that.minusStatuses;\n\t\t\t\t\tminusStatuses[index] = minusStatus;\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tgroups: groups,\n\t\t\t\t\t\tminusStatuses: minusStatuses\n\t\t\t\t\t}); // 合计数量价格\n\n\t\t\t\t\tvar selectedGoods = that.selectedGoods;\n\n\t\t\t\t\tfor (var i = 0; i < selectedGoods.length; ++i) {\n\t\t\t\t\t\tif (selectedGoods[i].cart_id == groups.goods[index].list[g_index].cart_id) {\n\t\t\t\t\t\t\tselectedGoods[i] = groups.goods[index].list[g_index];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tselectedGoods: selectedGoods\n\t\t\t\t\t});\n\t\t\t\t\tthat.getOptional();\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast('库存已经达到上限了~');\n\t\t\t\t}\n\n\t\t\t\tthat.count(); // that.recomputePrice();\n\t\t\t});\n\t\t},\n\t\t//获取购物车总价\n\t\tgetCartPrice: function() {\n\t\t\tvar that = this; // 将商品转为后台所需json字符串\n\n\t\t\tvar order_product = [];\n\t\t\tvar url = app.getPath.calculateCart;\n\t\t\tvar total = 0;\n\t\t\tvar selectedGoods = this.selectedGoods; // console.log(selectedGoods)\n\n\t\t\tfor (var i in selectedGoods) {\n\t\t\t\torder_product.push({\n\t\t\t\t\tgoods_id: selectedGoods[i].goods_id,\n\t\t\t\t\tsku_key: selectedGoods[i].sku_key,\n\t\t\t\t\tnum: selectedGoods[i].amount\n\t\t\t\t});\n\t\t\t\ttotal += selectedGoods[i].amount;\n\t\t\t}\n\n\t\t\torder_product = JSON.stringify(order_product);\n\t\t\tvar data = {\n\t\t\t\t\"order_product\": order_product\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tvar result = res.data;\n\n\t\t\t\tif (result.success == 1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\ttotalPrice: result.result.total_price,\n\t\t\t\t\t\ttotalShare: result.result.total_share,\n\t\t\t\t\t\tselectedAmount: total\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\ttotalPrice: \"0.00\",\n\t\t\t\t\t\ttotalShare: \"0.00\"\n\t\t\t\t\t});\n\t\t\t\t} // resolve(res);\n\n\t\t\t});\n\t\t},\n\t\t//重新获取活动数据\n\t\tgetOptional: function() {\n\t\t\tvar that = this;\n\t\t\tvar url1 = app.getPath.cartList;\n\t\t\tvar data1 = {};\n\t\t\tcommon.ApiGateWayTest(url1, data1, true, function(res) {\n\t\t\t\tthat.setData({\n\t\t\t\t\tgroups: res.data.result,\n\t\t\t\t\tisSelectedAll: false\n\t\t\t\t});\n\t\t\t\tthat.touchSelectAll();\n\t\t\t});\n\t\t},\n\t\t//选中/取消选中\n\t\ttouchSelect: function(e) {\n\t\t\tvar target = e.currentTarget.dataset.goods;\n\t\t\tvar tips = e.currentTarget.dataset.tips;\n\t\t\tvar g_index = e.currentTarget.dataset.g_index; //库存不足\n\n\t\t\tvar selectedGoods = this.selectedGoods;\n\t\t\tvar targetIndex = -1;\n\n\t\t\tfor (var i = 0; i < selectedGoods.length; ++i) {\n\t\t\t\tvar goods = selectedGoods[i];\n\n\t\t\t\tif (goods.cart_id == target.cart_id) {\n\t\t\t\t\ttargetIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} //在商品有效的情况下才操作选中列表\n\n\n\t\t\tif (-1 == targetIndex) {\n\t\t\t\tselectedGoods.push(target);\n\t\t\t} else {\n\t\t\t\tselectedGoods.splice(targetIndex, 1);\n\t\t\t}\n\n\t\t\tvar groups = this.groups;\n\t\t\tvar canSelectLen = 0;\n\t\t\tvar optionSelectLen = 0;\n\n\t\t\tfor (var j in groups.goods) {\n\t\t\t\tfor (var k in groups.goods[j].list) {\n\t\t\t\t\tcanSelectLen++; // if (groups.goods[j].tips.activity_type == 4) {\n\t\t\t\t\t//   optionSelectLen++\n\t\t\t\t\t// }\n\n\t\t\t\t\tif (!this.edit_mode) {\n\t\t\t\t\t\tif (groups.goods[j].list[k].is_on_sale == 0 || groups.goods[j].list[k].is_enough == 0 || groups.goods[j].list[k]\n\t\t\t\t\t\t\t.is_disable == 1) {\n\t\t\t\t\t\t\tcanSelectLen--; // if (groups.goods[j].tips.activity_type == 4) {\n\t\t\t\t\t\t\t//   optionSelectLen--;\n\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (canSelectLen <= selectedGoods.length) {\n\t\t\t\tthis.isSelectedAll = true;\n\t\t\t} else {\n\t\t\t\tthis.isSelectedAll = false;\n\t\t\t} //任选活动判断勾选\n\t\t\t// if (tips.activity_type == 4) {\n\t\t\t//   if (optionSelectLen <= selectedGoods.length) {\n\t\t\t//     this.data.optionalSelect = true;\n\t\t\t//   } else {\n\t\t\t//     this.data.optionalSelect = false;\n\t\t\t//   }\n\t\t\t//   this.setData({\n\t\t\t//     optionalSelect: this.data.optionalSelect\n\t\t\t//   })\n\t\t\t// }\n\n\n\t\t\tthis.setData({\n\t\t\t\tselectedGoods: selectedGoods,\n\t\t\t\tisSelectedAll: this.isSelectedAll\n\t\t\t});\n\t\t\tthis.getCartPrice();\n\n\t\t\tif (!this.edit_mode) {\n\t\t\t\tthis.setSettledPrice();\n\t\t\t} // this.recomputePrice();\n\n\n\t\t\tthis.resetCheckbox();\n\t\t},\n\t\t//任选活动 勾选、反选下面的商品\n\t\t// optionalSelect(e) {\n\t\t//   var groups = e.currentTarget.dataset.goods;\n\t\t//   var selectedGoods = [];\n\t\t//   var optionalSelect = this.data.optionalSelect ? false : true;\n\t\t//   if (optionalSelect) {\n\t\t//     if (groups.tips.activity_type == 4) {\n\t\t//       for (var j = 0; j < groups.list.length; ++j) {\n\t\t//         if (this.data.edit_mode) {\n\t\t//           var goods = groups.list[j];\n\t\t//           selectedGoods.push(goods);\n\t\t//         } else {\n\t\t//           if (groups.list[j].is_on_sale == 1 && groups.list[j].is_enough == 1 && groups.list[j].is_disable == 0) {\n\t\t//             var goods = groups.list[j];\n\t\t//             selectedGoods.push(goods);\n\t\t//           }\n\t\t//         }\n\t\t//       }\n\t\t//     }\n\t\t//\n\t\t//   }\n\t\t//   if (groups.tips.activity_type == 4) {\n\t\t//     this.setData({\n\t\t//       selectedGoods: selectedGoods,\n\t\t//       optionalSelect: optionalSelect\n\t\t//     });\n\t\t//   }\n\t\t//   if (!this.data.edit_mode) {\n\t\t//     //设置结算价格\n\t\t//     this.setSettledPrice();\n\t\t//   }\n\t\t//   // this.recomputePrice();\n\t\t//   this.getCartPrice();\n\t\t//   this.resetCheckbox();\n\t\t// },\n\t\t//全选/反选\n\t\ttouchSelectAll: function() {\n\t\t\tvar groups = this.groups;\n\t\t\tvar selectedGoods = [];\n\t\t\tvar isSelectedAll = this.isSelectedAll ? false : true;\n\n\t\t\tif (isSelectedAll) {\n\t\t\t\tfor (var j = 0; j < groups.goods.length; ++j) {\n\t\t\t\t\tfor (var k = 0; k < groups.goods[j].list.length; ++k) {\n\t\t\t\t\t\tif (this.edit_mode) {\n\t\t\t\t\t\t\tvar goods = groups.goods[j].list[k];\n\t\t\t\t\t\t\tselectedGoods.push(goods);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (groups.goods[j].list[k].is_on_sale == 1 && groups.goods[j].list[k].is_enough == 1 && groups.goods[j].list[\n\t\t\t\t\t\t\t\t\tk].is_disable == 0) {\n\t\t\t\t\t\t\t\tvar goods = groups.goods[j].list[k];\n\t\t\t\t\t\t\t\tselectedGoods.push(goods);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\tselectedGoods: selectedGoods,\n\t\t\t\tisSelectedAll: isSelectedAll,\n\t\t\t\toptionalSelect: isSelectedAll\n\t\t\t});\n\n\t\t\tif (!this.edit_mode) {\n\t\t\t\t//设置结算价格\n\t\t\t\tthis.setSettledPrice();\n\t\t\t} // this.recomputePrice();\n\n\n\t\t\tthis.getCartPrice();\n\t\t\tthis.resetCheckbox();\n\t\t},\n\t\t//刷新选中框\n\t\tresetCheckbox: function() {\n\t\t\tvar groups = this.groups;\n\n\t\t\tfor (var j in groups.goods) {\n\t\t\t\tfor (var k in groups.goods[j].list) {\n\t\t\t\t\tvar _goods = groups.goods[j].list[k];\n\t\t\t\t\t_goods.selected = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var j in groups.goods) {\n\t\t\t\tfor (var a in groups.goods[j].list) {\n\t\t\t\t\tvar _goods = groups.goods[j].list[a];\n\n\t\t\t\t\tfor (var k in this.selectedGoods) {\n\t\t\t\t\t\tif (this.selectedGoods[k].cart_id === _goods.cart_id) {\n\t\t\t\t\t\t\t_goods.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\tgroups: groups\n\t\t\t});\n\t\t},\n\t\t// 计算选中合计价格/数量\n\t\t// recomputePrice: function () {\n\t\t//   var amount = 0;\n\t\t//   var price = 0;\n\t\t//   var market_price = 0;\n\t\t//   var goods = this.data.selectedGoods;\n\t\t//   var groups = this.data.groups;\n\t\t//   var is_shipping = false;\n\t\t//   for (var i = 0; i < goods.length; ++i) {\n\t\t//     //有效商品才参与计算价格\n\t\t//     if (goods[i].is_on_sale == 1 && goods[i].is_enough == 1 && goods[i].is_disable == 0) {\n\t\t//       amount += goods[i].amount;\n\t\t//       var _price = goods[i].shop_price;\n\t\t//       price += goods[i].amount * _price;\n\t\t//       market_price += goods[i].amount * goods[i].market_price;\n\t\t//     }\n\t\t//     if (goods[i].is_shipping == 1) {\n\t\t//       is_shipping = true;\n\t\t//     }\n\t\t//   }\n\t\t//   this.selectedPrice = price;\n\t\t//   var sendMsg = '不含运费';\n\t\t//   for (var j in groups.goods) {\n\t\t//     for(var a in  groups.goods[j].list){\n\t\t//       var _goods = groups.goods[j].list[a];\n\t\t//       for (var k in this.data.selectedGoods) {\n\t\t//         if (this.data.selectedGoods[k].cart_id === _goods.cart_id && !this.data.edit_mode) {\n\t\t//           this.setData({\n\t\t//             totalPrice: (this.selectedPrice + this.svipGoodsPrice - this.savePrice).toFixed(2)\n\t\t//           })\n\t\t//         }\n\t\t//       }\n\t\t//     }\n\t\t//\n\t\t//   }\n\t\t//   this.setData({\n\t\t//     selectedAmount: amount,\n\t\t//     sendMsg: sendMsg\n\t\t//   })\n\t\t// },\n\t\t//计算选中合计商城价格/数量\n\t\trecomputeSVIPPrice: function() {\n\t\t\tvar price = 0;\n\t\t\tvar goods = this.selectedGoods;\n\n\t\t\tfor (var i = 0; i < goods.length; ++i) {\n\t\t\t\tvar _price = goods[i].shop_price;\n\n\t\t\t\tif (goods[i].is_on_sale == 1 && goods[i].is_enough == 1 && goods[i].is_disable == 0) {\n\t\t\t\t\tprice += goods[i].amount * _price;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.selectedSVIPPrice = price.toFixed(2);\n\t\t},\n\t\t//设置结算价格\n\t\tsetSettledPrice: function() {\n\t\t\tthis.svipGoodsPrice = 0;\n\t\t\tthis.savePrice = 0;\n\t\t},\n\t\t// 数据案例\n\t\tloadCartData: function(callback) {\n\t\t\tvar that = this;\n\t\t\tvar url = app.getPath.cartList;\n\t\t\tvar data = {};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tvar res = res.data;\n\n\t\t\t\tif (res) {\n\t\t\t\t\tvar groups = res.result;\n\t\t\t\t\tvar hasInvalid = false;\n\n\t\t\t\t\tfor (var j in groups.goods) {\n\t\t\t\t\t\tfor (var k in groups.goods[j].list) {\n\t\t\t\t\t\t\t//编辑模式下要更新编辑商品数量\n\t\t\t\t\t\t\tgroups.goods[j].list[k].edit_amount = groups.goods[j].list[k].amount;\n\t\t\t\t\t\t\tgroups.goods[j].list[k].min_buy_amount = groups.goods[j].list[k].min_buy_amount ? groups.goods[j].list[k].min_buy_amount :\n\t\t\t\t\t\t\t\t1;\n\n\t\t\t\t\t\t\tif (groups.goods[j].list[k].is_enough == 0 || groups.goods[j].list[k].is_on_sale == 0 || groups.goods[j].list[\n\t\t\t\t\t\t\t\t\tk].is_disable == 1) {\n\t\t\t\t\t\t\t\thasInvalid = true; //\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tgroups: groups,\n\t\t\t\t\t\thasInvalid: hasInvalid,\n\t\t\t\t\t\tselectedGoods: [],\n\t\t\t\t\t\ttotalPrice: '0.00',\n\t\t\t\t\t\tselectedAmount: 0,\n\t\t\t\t\t\tisSelectedAll: false\n\t\t\t\t\t});\n\t\t\t\t\tthat.count();\n\t\t\t\t\tthat.touchSelectAll();\n\n\t\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//计算购物车所有商品市场价格和商城价格\n\t\tcomputeAllPrice: function() {\n\t\t\tvar groups = this.groups;\n\t\t\tvar all_price = 0;\n\t\t\tvar all_market_price = 0;\n\n\t\t\tfor (var j = 0; j < groups.goods.length; ++j) {\n\t\t\t\tfor (var k = 0; k < groups.goods[j].list.length; ++k) {\n\t\t\t\t\tvar _market_price = groups.goods[j].list[k].market_price;\n\t\t\t\t\tvar _price = groups.goods[j].list[k].shop_price;\n\n\t\t\t\t\tif (groups.goods[j].list[k].is_on_sale == 1 && groups.goods[j].list[k].is_enough == 1 && groups.goods[j].list[k]\n\t\t\t\t\t\t.is_disable == 0) {\n\t\t\t\t\t\tall_price += groups.goods[j].list[k].amount * _price;\n\t\t\t\t\t\tall_market_price += groups.goods[j].list[k].amount * _market_price;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.allPrice = all_price.toFixed(2);\n\t\t\tthis.allMarketPrice = all_market_price.toFixed(2); //设置结算价格\n\n\t\t\tthis.setSettledPrice();\n\t\t},\n\t\t//计算商品数量合计\n\t\tcount: function() {\n\t\t\tvar count = 0;\n\n\t\t\tif (this.groups) {\n\t\t\t\tvar groups = this.groups;\n\n\t\t\t\tfor (var j = 0; j < groups.goods.length; ++j) {\n\t\t\t\t\tfor (var k = 0; k < groups.goods[j].list.length; ++k) {\n\t\t\t\t\t\tcount += groups.goods[j].list[k].amount;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\ttotal: count\n\t\t\t});\n\t\t},\n\t\t//刷新编辑状态的数量\n\t\trefreshEditModeAmount: function() {\n\t\t\tvar groups = this.groups;\n\t\t\tvar goods = groups.goods;\n\n\t\t\tfor (var j in goods) {\n\t\t\t\tfor (var k in goods[j].list) {\n\t\t\t\t\tgoods[j].list[k].edit_amount = goods[j].list[k].amount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\tgroups: groups\n\t\t\t});\n\t\t},\n\t\t//点击删除按钮\n\t\ttouchDelete: function() {\n\t\t\tvar that = this;\n\n\t\t\tif (!that.selectedGoods || !that.selectedGoods.length) {\n\t\t\t\tcommon.toast('还没有选择任何商品哦~');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar content = '是否要删除选中商品';\n\t\t\tvar confirmText = '确定';\n\t\t\tcommon.showModal(content, confirmText, function(res) {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tvar uploadData = [];\n\n\t\t\t\t\tfor (var i in that.selectedGoods) {\n\t\t\t\t\t\tuploadData.push(that.selectedGoods[i].cart_id);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (uploadData.length <= 0) return;\n\t\t\t\t\tthat.delete(uploadData, function(success) {\n\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\tcommon.toast('删除成功');\n\t\t\t\t\t\t\tthat.deletingGoods = null;\n\t\t\t\t\t\t\tthat.recomputePrice();\n\t\t\t\t\t\t\tthat.getCartPrice();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tthat.refreshEditModeAmount();\n\t\t\t\t\t});\n\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\tthat.deletingGoods = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//一键删除所有失效商品\n\t\tdelAllInvalidGoods: function() {\n\t\t\tvar that = this;\n\t\t\tvar content = '确认清空所有失效商品？';\n\t\t\tvar confirmText = '确定';\n\t\t\tvar clearLoseCartUrl = app.getPath.clearLoseCart;\n\t\t\tcommon.showModal(content, confirmText, function(res) {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tvar groups = that.groups;\n\t\t\t\t\tvar selectedGoods = [];\n\n\t\t\t\t\tfor (var j = 0; j < groups.goods.length; ++j) {\n\t\t\t\t\t\tfor (var k = 0; k < groups.goods[j].list.length; ++k) {\n\t\t\t\t\t\t\tif (groups.goods[j].list[k].is_on_sale == 0 || groups.goods[j].list[k].is_enough == 0 || groups.goods[j].list[\n\t\t\t\t\t\t\t\t\tk].is_disable == 1) {\n\t\t\t\t\t\t\t\tvar goods = groups.goods[j].list[k];\n\t\t\t\t\t\t\t\tselectedGoods.push(goods.cart_id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (selectedGoods.length <= 0) return; // 一键清空失效商品API\n\n\t\t\t\t\tcommon.ApiGateWayTest(clearLoseCartUrl, {}, true, function(res) {\n\t\t\t\t\t\tif (res.data.success == 1) {\n\t\t\t\t\t\t\tcommon.toast('删除成功');\n\t\t\t\t\t\t\tthat.deletingGoods = null;\n\t\t\t\t\t\t\tthat.loadCartData();\n\t\t\t\t\t\t}\n\t\t\t\t\t}); // that.delete(selectedGoods, function (success) {\n\t\t\t\t\t//   if (success) {\n\t\t\t\t\t//     common.toast('删除成功');\n\t\t\t\t\t//     that.deletingGoods = null;\n\t\t\t\t\t//     that.recomputePrice();\n\t\t\t\t\t//   }\n\t\t\t\t\t// });\n\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\tthat.deletingGoods = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//删除单个商品\n\t\ttouchDel: function(e) {\n\t\t\tvar _this = this;\n\n\t\t\tcommon.formIdUpdate(e);\n\t\t\tcommon.showModal('确认删除该商品？', '删除', function(res) {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\t// 删除\n\t\t\t\t\tvar url = app.getPath.delCart;\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tcart_ids: e.currentTarget.dataset.product.cart_id.toString()\n\t\t\t\t\t};\n\t\t\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\t\t\tif (res.data && res.data.success == 1) {\n\t\t\t\t\t\t\t_this.loadCartData();\n\n\t\t\t\t\t\t\t_this.count();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//删除购物车商品\n\t\tdelete: function(goodsId, callback, loadcallback) {\n\t\t\tvar _this = this;\n\n\t\t\tvar url = app.getPath.delCart;\n\t\t\tvar data = {\n\t\t\t\tcart_ids: goodsId.join(\",\")\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tif (res.data && res.data.success == 1) {\n\t\t\t\t\t_this.loadCartData(loadcallback);\n\n\t\t\t\t\t_this.count();\n\t\t\t\t}\n\n\t\t\t\ttypeof callback === \"function\" && callback(res.data.success == 1);\n\t\t\t});\n\t\t},\n\t\t//点击收藏按钮\n\t\ttouchWinlog: function() {\n\t\t\tvar that = this;\n\n\t\t\tif (!that.selectedGoods || !that.selectedGoods.length) {\n\t\t\t\tcommon.toast('还没有选择任何商品哦~');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar content = '是否将商品移入收藏？';\n\t\t\tvar confirmText = '确定';\n\t\t\tcommon.showModal(content, confirmText, function(res) {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tvar uploadData = [];\n\t\t\t\t\tvar selectedGoods = [];\n\n\t\t\t\t\tfor (var i in that.selectedGoods) {\n\t\t\t\t\t\tuploadData.push(that.selectedGoods[i].goods_id);\n\t\t\t\t\t\tselectedGoods.push(that.selectedGoods[i].cart_id);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (uploadData.length <= 0 || selectedGoods.length <= 0) return;\n\t\t\t\t\tvar url = app.getPath.goodsLike;\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\tgoods_id: uploadData.join(',')\n\t\t\t\t\t};\n\t\t\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\t\tcommon.toast('收藏成功');\n\t\t\t\t\t\t\tthat.delete(selectedGoods, function(success) {\n\t\t\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\t\t\tthat.loadCartData(that.refreshEditModeAmount);\n\t\t\t\t\t\t\t\t\tthat.count();\n\t\t\t\t\t\t\t\t\tthat.deletingGoods = null;\n\t\t\t\t\t\t\t\t\tthat.recomputePrice();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\tthat.deletingGoods = null;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//跳转活动页\n\t\tload_select: function(e) {\n\t\t\tlet id = e.currentTarget.dataset.activity_id;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../../packageA/select/select?entryType=external&id=' + id\n\t\t\t});\n\t\t},\n\t\t// 去结算\n\t\ttoNowpay: function(e) {\n\t\t\tvar that = this; // 判断是否登录或者老用户\n\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar selectedGoods = that.selectedGoods;\n\t\t\tcommon.formIdUpdate(e);\n\n\t\t\tif (selectedGoods.length > 0) {\n\t\t\t\tcommon.setStorage({\n\t\t\t\t\tkey: \"nowPay\",\n\t\t\t\t\tdata: selectedGoods\n\t\t\t\t});\n\t\t\t\twx.navigateTo({\n\t\t\t\t\turl: '/pages/confirm/confirm'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcommon.toast('请勾选需要结算的商品');\n\t\t\t}\n\t\t},\n\t\ttouchProduct: function(e) {\n\t\t\tvar id = e.currentTarget.dataset.product.goods_id;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../product/product?entryType=external&productId=' + id\n\t\t\t});\n\t\t},\n\t\tgoHome: function(e) {\n\t\t\twx.switchTab({\n\t\t\t\turl: '../index/index'\n\t\t\t});\n\t\t},\n\t\tsetData: function(obj) {\n\t\t\tlet that = this;\n\t\t\tlet keys = [];\n\t\t\tlet val, data;\n\t\t\tObject.keys(obj).forEach(function(key) {\n\t\t\t\tkeys = key.split('.');\n\t\t\t\tval = obj[key];\n\t\t\t\tdata = that.$data;\n\t\t\t\tkeys.forEach(function(key2, index) {\n\t\t\t\t\tthat[key] = obj[key];\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n};\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}