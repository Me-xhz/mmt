{"version":3,"sources":["webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue?5e9b","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue?4f0a","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue?3792","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue?f1f0","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue?ea52","webpack:///C:/Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue?3538"],"names":["app","getApp","globalData","common","require","event","WxParse","data","iconURL","dataBase","bannerApp","iphoneXBottom","winWidth","winHeight","productId","itemData","shop_type","isLike","showSKUstatus","optionalAttrs","skuImages","bannerItem","buynum","indicatorDots","indicatorColor","indicatorActiveColor","autoplay","interval","duration","circular","firstIndex","choosed_sku","cartAmount","currentLocation","showSubbar","scrollTop","scrollBar","showBackTop","undel","unadd","showBonus","brandID","ipRecommend","formateDatas","comment","teamLabel","wordsLimit","limitWords","isPriceEqual","productgift","isshare","giftNum","bounsTxtnumOn","showBonusModal","showSettingModalStatus","isShowbox","canPurchase","date_limite_bool","date_limite_ing","isShowGoHome","isShowSharePic","preurl","showzjModalStatus","rentToggleStatus","aldExposure","stopCartBtn","prom_bool","activity_bool","activity_classfy","h","m","s","d","teamList","team_num","check_remind","check_remind_activity","showPhoneModal","navbarOpacity","showBack","navBarHeight","team_type","team_sku_type","noticeUnload","activity_price_start","activity_price_end","activity_time_start","confirmData","down_date_h","down_date_m","down_date_s","down_date_ms","showCountDown","checkSessionKey","isOldUser","entryData","animationData","showModalStatus","showfwModalStatus","showShareModalStatus","skuSvipCurrent","skuCurrent","promInfoData","swiperImgBl","shippingBonus","sku_price","min_sku_price","sku_svip_price","min_sku_svip_price","currentStock","hasDefaultSKU","sumbitName","scgGoodsList","isShowModeWx","currentAttrs","onLoad","options","that","wx","showShareMenu","withShareTicket","page","getCurrentPages","length","setData","getSystemInfo","success","res","model","search","console","log","on","getStorageSync","codeId","codePickup","scene","decodeURIComponent","split","undefined","toast","getTeamList","entryType","getExternal","then","firstlaunchApp","setStorageSync","loadProductDetail","loadProductgift","sameCategoryGoods","pickupId","atitude","pickup_id","components","navbar","props","onShow","team_id","onUnload","onShareAppMessage","pickup","entry_share_info","target","dataset","shareinfo","shareInfo","fromButton","title","urge_share_text","path","user_id","imageUrl","urge_share_img","invite_share_text","invite_share_img","share_title","goods_id","share_img","onPullDownRefresh","setTimeout","stopPullDownRefresh","methods","getDate","prom_info","start","start_time","end","end_time","now","Date","getTime","countTime","date","setInterval","countTimeMs","leftTime","Math","floor","clearInterval","ms","dataMs","countDown","teamTime","uri","getPath","getpickup","Promise","resolve","reject","ApiGateWayTest","result","cities","pick_up","setStorage","key","warehouse_id","city_name","pickup_name","pickup_address","pickup_contact","pickup_phone","pickup_type","setPreviewImage","e","current","currentTarget","imgUrl","i","push","src","previewImage","urls","setModalStatus","type","animation","createAnimation","timingFunction","delay","translateY","opacity","step","export","bind","setModalBonus","getBonus","goRegister","coupon_id","typeid","addCoupon","formIdUpdate","statusCode","state_desc","setfwModalStatus","translateX","status","showShareModalStatus2","showLoad","goodsInfo","promInfoUri","goodsLabel","skuAmounturi","getSkuAmount","productlist","content","goods_content","introContent","detail_explain","islike","is_liked","current_price","shop_price","price","market_price","team_price","parseFloat","gallery","min_buy_amount","cat_id","is_notice","is_activity_notice","is_team","teamLabel2","setDefaultSKU","isPriceEqualFun","Object","prototype","toString","call","activity_price_array","activity_price","activity_time_start_month","getMonth","activity_time_start_date","activity_time_start_hours","getHours","activity_time_start_min","getMinutes","hideLoad","cart_num","swiperImageLoad","Bonusuri","goodscouponlist","bonusL","bounsTxtnum","name","product","defaultAttrIds","defaultAttrStock","maybeStock","effectiveStock","properties","property","is_multiselect","j","attrs","id","multiCartesian","Array","sort","a","b","checkCanPurchase","stock","_goods_attr","_min_sku_price","_min_sku_svip_price","hasDefaultFlag","ids","is_goods_number","is_on_sale","is_enough","ind","len","parseInt","join","_thisStock","set_choosed_sku","isin_count","k","isin","RegExp","test","header_img","setAttrsClass","sku_svip_team_price","item","goods_name","sku_key","amount","sku_key_name","sku_img","attrValueselest","attr","concat","index","indexOf","splice","inStock","String","filter","self","class","attrArr","currentAyyrsJn","stockDisplyKey","addFavorites","productid","goodsLike","unuri","goodsUnlike","undata","required","pre_info","is_pre","pre_time","svip_price","changeNum","invurl","skuEnough","product_id","alphaBeta","invdata","ret","msg","max_buy_amount","num","isnewpersongoods","addShopCart","_addcart","addCartnew","showModal","confirm","addCart","nowPurchase","setzjModalStatus","next","checkOrderUri","preCheckOrder","orderProduct","JSON","stringify","checkOrderData","order_product","team_order","time_atitude","userAtitude","resData","uni","navigateTo","url","delegation","scgurl","page_size","products","shareTo","clossShare","closeShareWx","closeShareBox","closeShareShowSku","onPageScroll","gotoPagetop","pageScrollTo","productGoSP","productGoPJ","productGoXQ","openSvip","pageUrl","goWebview","gotoHome","switchTab","goBonusPage","initNavHeight","windowWidth","windowHeight","bannerClosed","goToCart","productGoProduct","productGoTheme","brand_id","brand","productGoComment","aldminishare","showToast","icon","request","method","code","complete","fail","closeSharePic","drawPic","productShareimg","codePicImage","drawImageUrl","promise2","getImageInfo","promise3","responseType","secene","application","timestamp","parse","filePath","env","USER_DATA_PATH","getFileSystemManager","writeFile","encoding","Error","all","ctx","createCanvasContext","rect","setFillStyle","fill","beginPath","arc","PI","rec_x","rec_y","rec_r","rec_w","rec_h","moveTo","arcTo","setShadow","draw_x","draw_y","draw_r","draw_w","draw_h","setStrokeStyle","closePath","stroke","drawImage","setTextAlign","setFontSize","fillText","slice","lineTo","draw","TransformationPic","canvasToTempFilePath","x","y","canvasId","fileType","quality","tempFilePath","showCancel","saveSharePic","saveImageToPhotosAlbum","errMsg","openSetting","settingdata","authSetting","cancel","rentToggle","to_activity","activity_id","settingModalStatus","nowtime","loadTeamList","goSetting","change_team","remindTeam","activeChangeMe","fastbuy","notice_activity_id","goCouponList","closePhoneModal","toShowPhoneModal","getPhone","detail","encryptedData","iv","mobileUri","getWXMobile","login","Mobiledata","back","navigateBack","delta","backHome","obj","keys","val","forEach","$data","key2"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAirB,CAAgB,kpBAAG,EAAC,C;;;;;;;;;;;;mICArsB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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AMA,KAriDO;AAsiDR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,WAAO,EAAE,mBAAW;AACnB,WAAKlS,OAAL,CAAa;AACZX,oBAAY,EAAE,CADF,EAAb;AAEI;AACJ,KA7qDO;AA8qDR8S,cAAU,EAAE,sBAAW;AACtB,WAAKnS,OAAL,CAAa;AACZX,oBAAY,EAAE,CADF,EAAb;;AAGA,KAlrDO;AAmrDR;AACA+S,gBAAY,EAAE,wBAAW;AACxB,WAAKpS,OAAL,CAAa;AACZX,oBAAY,EAAE,CADF,EAAb;;AAGA,KAxrDO;AAyrDRgT,iBAAa,EAAE,yBAAW;AACzB,WAAKrS,OAAL,CAAa;AACZrE,iBAAS,EAAE,CADC,EAAb;;AAGA,KA7rDO;AA8rDR2W,qBAAiB,EAAE,6BAAW;AAC7B,WAAKtS,OAAL,CAAa;AACZrE,iBAAS,EAAE,CADC,EAAb;;AAGA,WAAKiL,cAAL;AACA,KAnsDO;AAosDR;AACA2L,gBAAY,EAAE,sBAASpM,CAAT,EAAY;AACzB,UAAI1G,IAAI,GA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","file":"pages/product/product.js","sourcesContent":["import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//获取应用实例\nvar app = getApp().globalData;\nvar common = require(\"../../utils/common.js\");\nvar event = require(\"../../utils/event.js\"); //引入这个插件，使html内容自动转换成wxml内容\n//引入这个插件，使html内容自动转换成wxml内容\nvar WxParse = require(\"../../wxParse/wxParse.js\");\nimport teamList from \"../../components/teamList/teamList\";\nimport navbar from \"../../components/navBar/navBar\";\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ticonURL: app.dataBase.iconURL,\n\t\t\tbannerApp: true,\n\t\t\tiphoneXBottom: '0rpx',\n\t\t\twinWidth: 0,\n\t\t\twinHeight: 0,\n\t\t\tproductId: 0,\n\t\t\titemData: {\n\t\t\t\tshop_type: 0\n\t\t\t},\n\t\t\tisLike: 0,\n\t\t\tshowSKUstatus: 0,\n\t\t\toptionalAttrs: {},\n\t\t\tskuImages: '',\n\t\t\tbannerItem: [],\n\t\t\tbuynum: 1,\n\t\t\t// 产品图片轮播\n\t\t\tindicatorDots: true,\n\t\t\tindicatorColor: \"rgba(0,0,0,.2)\",\n\t\t\tindicatorActiveColor: \"#ffe150\",\n\t\t\tautoplay: false,\n\t\t\tinterval: 5000,\n\t\t\tduration: 300,\n\t\t\tcircular: true,\n\t\t\t// 属性选择\n\t\t\tfirstIndex: -1,\n\t\t\tchoosed_sku: '',\n\t\t\tcartAmount: 0,\n\t\t\t// 滚动判断值 1：商品，2：评价，3详情\n\t\t\tcurrentLocation: 1,\n\t\t\t// 是否显示subbar\n\t\t\tshowSubbar: false,\n\t\t\t// 滚动到的位置\n\t\t\tscrollTop: 0,\n\t\t\tscrollBar: '',\n\t\t\tshowBackTop: false,\n\t\t\t// 弹窗SKU，不能减不能加\n\t\t\tundel: true,\n\t\t\tunadd: false,\n\t\t\t// 领券弹窗\n\t\t\tshowBonus: 0,\n\t\t\t// IP推荐\n\t\t\tbrandID: 0,\n\t\t\tipRecommend: {},\n\t\t\tformateDatas: [],\n\t\t\t// 商品评论\n\t\t\tcomment: {},\n\t\t\t// 拼团次数\n\t\t\tteamLabel: {},\n\t\t\twordsLimit: true,\n\t\t\tlimitWords: \"展开\",\n\t\t\t// SKU的VIP价格和非SVIP是否相同\n\t\t\tisPriceEqual: false,\n\t\t\t// 优惠券分享样式\n\t\t\tproductgift: {},\n\t\t\tisshare: 0,\n\t\t\tgiftNum: '',\n\t\t\tbounsTxtnumOn: false,\n\t\t\t// 优惠券展示\n\t\t\tshowBonusModal: false,\n\t\t\t// 前往设置弹窗\n\t\t\tshowSettingModalStatus: false,\n\t\t\t// isShowModeWx: 1,\n\t\t\tisShowbox: 0,\n\t\t\tcanPurchase: false,\n\t\t\tdate_limite_bool: true,\n\t\t\tdate_limite_ing: true,\n\t\t\t// 是否显示右上角返回首页\n\t\t\tisShowGoHome: false,\n\t\t\t// 分享图片\n\t\t\tisShowSharePic: false,\n\t\t\tpreurl: null,\n\t\t\t// 租机弹窗\n\t\t\tshowzjModalStatus: false,\n\t\t\t// 方案详情切换开关\n\t\t\trentToggleStatus: 0,\n\t\t\taldExposure: true,\n\t\t\tstopCartBtn: false,\n\t\t\tprom_bool: false,\n\t\t\tactivity_bool: false,\n\t\t\tactivity_classfy: \"\",\n\t\t\th: \"00\",\n\t\t\tm: \"00\",\n\t\t\ts: \"00\",\n\t\t\td: \"00\",\n\t\t\tteamList: [],\n\t\t\tteam_num: 0,\n\t\t\tcheck_remind: false,\n\t\t\tcheck_remind_activity: false,\n\t\t\tshowPhoneModal: false,\n\t\t\t// navbar\n\t\t\tnavbarOpacity: 0,\n\t\t\tshowBack: false,\n\t\t\tnavBarHeight: app.navBarHeight,\n\t\t\tteam_type: '',\n\t\t\tteam_sku_type: 0,\n\t\t\tnoticeUnload: false,\n\t\t\t// 抢购价钱\n\t\t\tactivity_price_start: '0',\n\t\t\tactivity_price_end: '0.00',\n\t\t\tactivity_time_start: {},\n\t\t\tconfirmData: {},\n\t\t\tdown_date_h: \"\",\n\t\t\tdown_date_m: \"\",\n\t\t\tdown_date_s: \"\",\n\t\t\tdown_date_ms: \"\",\n\t\t\tshowCountDown: false,\n\t\t\tcheckSessionKey:false ,\n\t\t\tisOldUser: \"\",\n\t\t\tentryData: \"\",\n\t\t\tanimationData: \"\",\n\t\t\tshowModalStatus: false,\n\t\t\tshowfwModalStatus: false,\n\t\t\tshowShareModalStatus: false,\n\t\t\tskuSvipCurrent: \"\",\n\t\t\tskuCurrent: \"\",\n\t\t\tpromInfoData: \"\",\n\t\t\tswiperImgBl: false,\n\t\t\tshippingBonus: \"\",\n\t\t\tsku_price: \"\",\n\t\t\tmin_sku_price: \"\",\n\t\t\tsku_svip_price: \"\",\n\t\t\tmin_sku_svip_price: \"\",\n\t\t\tcurrentStock: \"\",\n\t\t\thasDefaultSKU: \"\",\n\t\t\tsumbitName: \"\",\n\t\t\tscgGoodsList: [],\n\t\t\tisShowModeWx: 0,\n\t\t\tcurrentAttrs: []\n\t\t};\n\t},\n\t// 传值\n\tonLoad: function(options) {\n\t\t// this.checkSessionKey = app.checkSessionKey\n\t\tvar that = this;\n\n\t\twx.showShareMenu({\n\t\t\twithShareTicket: true\n\t\t});\n\n\t\tvar page = getCurrentPages();\n\t\t\n\t\tif (page.length > 1) {\n\t\t\tthat.setData({\n\t\t\t\tshowBack: true\n\t\t\t});\n\t\t}\n\t\n\t\twx.getSystemInfo({\n\t\t\tsuccess: function(res) {\n\t\t\t\tvar model = res.model;\n\t\n\t\t\t\tif (model.search('iPhone X') != -1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tiphoneXBottom: '68rpx'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}); \n\t\tconsole.log('1',app.checkSessionKey)\n\t\t// 监听checkSessionKey\n\t\tevent.on('checkSessionKey', this, function(data) {\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\t\t\tthis.setData({\n\t\t\t\tcheckSessionKey: data,\n\t\t\t\tisOldUser\n\t\t\t});\n\t\t});\n\t\tlet codeId = '';\n\t\tlet codePickup = '';\n\t\n\t\tif (options.scene) {\n\t\t\tlet scene = decodeURIComponent(options.scene);\n\t\t\tcodeId = scene.split(\"&\")[0];\n\t\t\tcodePickup = scene.split('&amp;')[1];\n\t\t}\n\t\n\t\tif (options.productId == undefined && codeId == '') {\n\t\t\tcommon.toast(\"请求参数错误\");\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar that = this;\n\t\n\t\tif (options && options.scene && options.scene != '') {\n\t\t\tthat.setData({\n\t\t\t\tproductId: codeId\n\t\t\t});\n\t\t\tthis.setData({\n\t\t\t\tisShowGoHome: true\n\t\t\t});\n\t\t} else {\n\t\t\tthat.setData({\n\t\t\t\tproductId: options.productId\n\t\t\t});\n\t\t\tthis.getTeamList();\n\t\t} // 从外部分享进入时，显示左上角回到首页  改动带external时为内部进入携带参数，外部进入不带参数\n\t\n\t\tif (options && options.entryType && options.entryType == 'external') {\n\t\t\tthis.setData({\n\t\t\t\tisShowGoHome: false\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setData({\n\t\t\t\tisShowGoHome: true\n\t\t\t});\n\t\t} // 外部带商品店铺\n\t\n\t\n\t\tthis.setData({\n\t\t\tentryData: options\n\t\t});\n\t\tvar options = that.entryData;\n\t\tif (options && options.scene && options.scene != '') {\n\t\t\tthat.getExternal(codePickup).then(function() {\n\t\t\t\t// 关闭开关，让app知道已经不是第一次进入当前页\n\t\t\t\tapp.firstlaunchApp = false; // 清空data内携带参数\n\t\n\t\t\t\tthat.entryData = {}; // 外部已带经纬度定位，无需再调用定位接口，所以将缓存定位改为真，让页面可以显示\n\t\n\t\t\t\tcommon.setStorageSync('authSetting', {\n\t\t\t\t\t'scope.userLocation': true\n\t\t\t\t});\n\t\t\t\tthat.checkSessionKey = true;\n\t\t\t\tthat.loadProductDetail();\n\t\t\t\tthat.loadProductgift();\n\t\t\t\tthat.sameCategoryGoods();\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\n\t\tvar pickupId = common.getStorageSync('getpickup'); // 判断是否第一次进入 且是从外部进入，如二维码扫码 && app.firstlaunchApp\n\t\n\t\tif (options && (options.atitude || options.pickup_id) && !pickupId) {\n\t\t\tthat.getExternal(options.pickup_id).then(function() {\n\t\t\t\t// 关闭开关，让app知道已经不是第一次进入当前页\n\t\t\t\tapp.firstlaunchApp = false; // 清空data内携带参数\n\t\n\t\t\t\tthat.entryData = {}; // 外部已带经纬度定位，无需再调用定位接口，所以将缓存定位改为真，让页面可以显示\n\t\n\t\t\t\tcommon.setStorageSync('authSetting', {\n\t\t\t\t\t'scope.userLocation': true\n\t\t\t\t});\n\t\t\t\tthat.checkSessionKey = true;\n\t\t\t\tthat.loadProductDetail();\n\t\t\t\tthat.loadProductgift();\n\t\t\t\tthat.sameCategoryGoods();\n\t\t\t});\n\t\t} else {\n\t\t\tthat.checkSessionKey = true;\n\t\t\tthat.loadProductDetail();\n\t\t\tthat.loadProductgift();\n\t\t\tthat.sameCategoryGoods();\n\t\t}\n\t},\n\tcomponents: {\n\t\tteamList,\n\t\tnavbar,\n\t},\n\tprops: {},\n\tonShow: function() {\n\t\t\n\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\t\tconsole.log('productlist',app.checkSessionKey)\n\t\tthis.setData({\n\t\t\tcheckSessionKey: app.checkSessionKey,\n\t\t\tisOldUser: isOldUser\n\t\t});\n\n\t\tif (this.itemData.team_id && this.itemData.team_id != undefined) {\n\t\t\tthis.loadProductDetail();\n\t\t\tthis.getTeamList();\n\t\t}\n\t},\n\tonUnload: function() {\n\t\tthis.setData({\n\t\t\tnoticeUnload: true\n\t\t});\n\t},\n\t\n\t// 调用微信分享接口\n\tonShareAppMessage: function(res) {\n\t\tvar that = this;\n\t\tvar pickup = common.getStorageSync('getpickup');\n\t\tvar entry_share_info = common.getStorageSync('entry_share_info');\n\n\t\tif (res.target && res.target.dataset.shareinfo) {\n\t\t\tlet shareInfo = res.target.dataset.shareinfo;\n\n\t\t\tif (shareInfo && shareInfo.fromButton == 'notice') {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: entry_share_info.urge_share_text,\n\t\t\t\t\tpath: '/pages/index/index?pickup_id=' + pickup.pickup_id + '&user_id=' + entry_share_info.user_id,\n\t\t\t\t\timageUrl: entry_share_info.urge_share_img\n\t\t\t\t};\n\t\t\t} else if (shareInfo && shareInfo.fromButton == 'envelopes') {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: entry_share_info.invite_share_text,\n\t\t\t\t\tpath: '/pages/index/index?pickup_id=' + pickup.pickup_id + '&user_id=' + entry_share_info.user_id,\n\t\t\t\t\timageUrl: entry_share_info.invite_share_img\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\ttitle: that.itemData.share_title,\n\t\t\t\t\tpath: '/pages/product/product?productId=' + that.itemData.goods_id + '&pickup_id=' + pickup.pickup_id,\n\t\t\t\t\timageUrl: that.itemData.share_img\n\t\t\t\t};\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttitle: that.itemData.share_title,\n\t\t\t\tpath: '/pages/product/product?productId=' + that.itemData.goods_id + '&pickup_id=' + pickup.pickup_id,\n\t\t\t\timageUrl: that.itemData.share_img\n\t\t\t};\n\t\t}\n\t},\n\t// 跳转播放视频\n\t// setPreviewVideo: function(e){\n\t//   var videoUrl = e.currentTarget.dataset.current;\n\t//   app.dataBase.pageUrl = 'https://mall.surex.cn/h5/index.html?videoUrl=' + videoUrl;\n\t//   common.goWebview('video');\n\t// },\n\t//跳转在线客服\n\t// golinkkf: function () {\n\t//   app.dataBase.pageUrl = 'http://q.url.cn/s/6l3eQOm?_type=wpa&_wv=2';\n\t//   common.goWebview();\n\t// },\n\t// 下拉刷新\n\tonPullDownRefresh: function() {\n\t\tthat.loadProductDetail(); // that.getCommentlist();\n\t\t// that.loadProductCartAmount();\n\n\t\tthat.loadProductgift();\n\t\tsetTimeout(function() {\n\t\t\twx.stopPullDownRefresh();\n\t\t}, 1500);\n\t},\n\tmethods: {\n\t\tgetDate: function(prom_info) {\n\t\t\tvar that = this;\n\t\t\tvar start = prom_info.start_time * 1000;\n\t\t\tvar end = prom_info.end_time * 1000;\n\t\t\tvar now = new Date().getTime(); // && prom_info.prom_label==\"限时抢购\"\n\n\t\t\tif (now >= start && now <= end) {\n\t\t\t\tthat.countTime(now, end);\n\t\t\t\tthat.setData({\n\t\t\t\t\tdate_limite_ing: true\n\t\t\t\t});\n\t\t\t\tthis.date = setInterval(function() {\n\t\t\t\t\tvar now = new Date().getTime();\n\t\t\t\t\tthat.countTime(now, end);\n\t\t\t\t}, 1000);\n\t\t\t\tthat.countTimeMs();\n\t\t\t} else if (start >= now && end >= now) {\n\t\t\t\tthat.countTime(now, start);\n\t\t\t\tthat.setData({\n\t\t\t\t\tdate_limite_ing: false\n\t\t\t\t});\n\t\t\t\tthis.date = setInterval(function() {\n\t\t\t\t\tvar now = new Date().getTime();\n\t\t\t\t\tthat.countTime(now, start);\n\t\t\t\t}, 1000);\n\t\t\t} else {\n\t\t\t\tthat.setData({\n\t\t\t\t\tdate_limite_bool: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tcountTime: function(now, end) {\n\t\t\tvar leftTime = end - now;\n\t\t\tvar d, h, m, s;\n\n\t\t\tif (leftTime >= 0) {\n\t\t\t\td = Math.floor(leftTime / 1000 / 60 / 60 / 24, 10); //计算剩余的天数\n\n\t\t\t\th = Math.floor(leftTime / 1000 / 60 / 60 % 24) + d * 24;\n\t\t\t\tm = Math.floor(leftTime / 1000 / 60 % 60);\n\t\t\t\ts = Math.floor(leftTime / 1000 % 60);\n\t\t\t} else {\n\t\t\t\tclearInterval(this.date);\n\t\t\t\tthis.loadProductDetail();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\th = h > 9 ? h : '0' + h;\n\t\t\tm = m > 9 ? m : '0' + m;\n\t\t\ts = s > 9 ? s : '0' + s;\n\t\t\tthis.setData({\n\t\t\t\tdown_date_h: h,\n\t\t\t\tdown_date_m: m,\n\t\t\t\tdown_date_s: s\n\t\t\t});\n\t\t},\n\n\t\t// 毫秒倒计时\n\t\tcountTimeMs() {\n\t\t\tvar ms = 9;\n\t\t\tthis.dataMs = setInterval(() => {\n\t\t\t\tif (ms > 1) {\n\t\t\t\t\tms--;\n\t\t\t\t} else {\n\t\t\t\t\tms = 9;\n\t\t\t\t}\n\n\t\t\t\tthis.setData({\n\t\t\t\t\tdown_date_ms: ms\n\t\t\t\t});\n\t\t\t}, 100);\n\t\t},\n\n\t\t//倒计时函数\n\t\tcountDown: function(end) {\n\t\t\tvar that = this;\n\t\t\tvar now = new Date().getTime() / 1000;\n\t\t\tvar leftTime = end - now;\n\t\t\tvar d, h, m, s;\n\t\t\tclearInterval(that.teamTime);\n\t\t\tthat.teamTime = setInterval(() => {\n\t\t\t\tleftTime = leftTime - 1;\n\n\t\t\t\tif (leftTime >= 0) {\n\t\t\t\t\td = Math.floor(leftTime / 60 / 60 / 24, 10); //计算剩余的天数\n\n\t\t\t\t\th = Math.floor(leftTime / 60 / 60 % 24);\n\t\t\t\t\tm = Math.floor(leftTime / 60 % 60);\n\t\t\t\t\ts = Math.floor(leftTime % 60);\n\t\t\t\t\td = d > 9 ? d : '0' + d;\n\t\t\t\t\th = h > 9 ? h : '0' + h;\n\t\t\t\t\tm = m > 9 ? m : '0' + m;\n\t\t\t\t\ts = s > 9 ? s : '0' + s;\n\t\t\t\t} else {\n\t\t\t\t\tclearInterval(that.teamTime);\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowCountDown: false\n\t\t\t\t\t});\n\t\t\t\t\tthat.loadProductDetail();\n\t\t\t\t}\n\n\t\t\t\tthis.setData({\n\t\t\t\t\td: d,\n\t\t\t\t\th: h,\n\t\t\t\t\tm: m,\n\t\t\t\t\ts: s\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t},\n\t\t// 从外部二维码扫码，带经纬度和外部标识external\n\t\tgetExternal: function(pickup_id) {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.getpickup;\n\t\t\tvar data = {\n\t\t\t\tpickup_id: pickup_id\n\t\t\t};\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t// 获取提货点\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tif (res && res.data && res.data.success == 1) {\n\t\t\t\t\t\tvar res = res.data.result.cities.pick_up;\n\t\t\t\t\t\tcommon.setStorage({\n\t\t\t\t\t\t\tkey: 'city',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t'pickup_id': res.pickup_id,\n\t\t\t\t\t\t\t\t'warehouse_id': res.warehouse_id,\n\t\t\t\t\t\t\t\t'cityName': res.city_name,\n\t\t\t\t\t\t\t\t'is_pick_up': 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcommon.setStorage({\n\t\t\t\t\t\t\tkey: 'getpickup',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t'pickup_id': res.pickup_id,\n\t\t\t\t\t\t\t\t'cityName': res.pickup_name,\n\t\t\t\t\t\t\t\t'pickup_address': res.pickup_address,\n\t\t\t\t\t\t\t\t'pickup_contact': res.pickup_contact,\n\t\t\t\t\t\t\t\t'pickup_phone': res.pickup_phone,\n\t\t\t\t\t\t\t\t'pickup_type': res.pickup_type\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, function(res) {\n\t\t\t\t\t\t\tresolve('获取id成功');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// 获取手机号去登录注册\n\t\t// getPhone: function (e) {\n\t\t//   var that = this;\n\t\t//   common.checkLogin(e, function () {\n\t\t//     // 登录成功，修改app与user页面的checkSessionKey状态\n\t\t//     app.checkSessionKey = true;\n\t\t//     that.data.checkSessionKey = true;\n\t\t//   })\n\t\t// },\n\t\t// 轮播画廊\n\t\tsetPreviewImage: function(e) {\n\t\t\tvar that = this;\n\t\t\tvar current = e.currentTarget.dataset.current;\n\t\t\tvar imgUrl = [];\n\n\t\t\tfor (var i = 0; that.bannerItem.length > i; i++) {\n\t\t\t\timgUrl.push(that.bannerItem[i].src);\n\t\t\t}\n\n\t\t\twx.previewImage({\n\t\t\t\tcurrent: current,\n\t\t\t\turls: imgUrl\n\t\t\t});\n\t\t},\n\t\t// SKU弹窗\n\t\tsetModalStatus: function(type) {\n\t\t\tvar that = this;\n\t\t\tconsole.log(this.showSKUstatus)\n\t\t\tif (this.showSKUstatus == 0) {\n\t\t\t\tthis.showSKUstatus = 1;\n\t\t\t} else {\n\t\t\t\tthis.showSKUstatus = 0;\n\t\t\t}\n\t\t\t\n\t\t\tvar animation = wx.createAnimation({\n\t\t\t\tduration: 250,\n\t\t\t\ttimingFunction: \"linear\",\n\t\t\t\tdelay: 0\n\t\t\t});\n\t\t\tanimation.translateY(368).opacity(1).step();\n\t\t\tthis.setData({\n\t\t\t\tanimationData: animation.export()\n\t\t\t});\n\n\t\t\tif (this.showSKUstatus == 1) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tshowModalStatus: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (that.iphoneXBottom == \"68rpx\") {\n\t\t\t\t\tanimation.translateY(-34).step();\n\t\t\t\t} else {\n\t\t\t\t\tanimation.translateY(0).step();\n\t\t\t\t}\n\n\t\t\t\tthis.setData({\n\t\t\t\t\tanimationData: animation\n\t\t\t\t});\n\n\t\t\t\tif (this.showSKUstatus == 0) {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowModalStatus: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this), 200);\n\t\t},\n\t\t// 领券弹窗\n\t\tsetModalBonus: function() {\n\t\t\tif (this.showBonusModal == 0) {\n\t\t\t\tthis.showBonusModal = 1;\n\t\t\t} else {\n\t\t\t\tthis.showBonusModal = 0;\n\t\t\t}\n\n\t\t\tvar animation = wx.createAnimation({\n\t\t\t\tduration: 300,\n\t\t\t\ttimingFunction: \"linear\",\n\t\t\t\tdelay: 0\n\t\t\t});\n\t\t\tanimation.translateY(300).opacity(1).step();\n\t\t\tthis.setData({\n\t\t\t\tanimationData: animation.export()\n\t\t\t});\n\n\t\t\tif (this.showBonusModal == 1) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tshowBonusModal: true\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tanimation.translateY(0).step();\n\t\t\t\tthis.setData({\n\t\t\t\t\tanimationData: animation\n\t\t\t\t});\n\n\t\t\t\tif (this.showBonusModal == 0) {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowBonusModal: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this), 200);\n\t\t},\n\t\t// 弹窗里领取优惠券\n\t\tgetBonus: function(e) {\n\t\t\tvar that = this; // 跳转登录\n\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar coupon_id = e.currentTarget.dataset.typeid;\n\t\t\tif (!that.shippingBonus) return;\n\t\t\tvar uri = app.getPath.addCoupon;\n\t\t\tvar data = {\n\t\t\t\tcoupon_id: coupon_id\n\t\t\t};\n\t\t\tcommon.formIdUpdate(e);\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\tif (res.data.result) {\n\t\t\t\t\t\tcommon.toast(res.data.result.state_desc);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthat.loadProductgift();\n\t\t\t});\n\t\t},\n\t\t// 服务弹窗\n\t\tsetfwModalStatus: function(e) {\n\t\t\tvar animation = wx.createAnimation({\n\t\t\t\tduration: 300,\n\t\t\t\ttimingFunction: \"linear\",\n\t\t\t\tdelay: 0\n\t\t\t});\n\t\t\tanimation.translateY(300).opacity(1).step();\n\t\t\tthis.setData({\n\t\t\t\tanimationData: animation.export()\n\t\t\t});\n\t\t\tthis.setData({\n\t\t\t\tshowfwModalStatus: true\n\t\t\t});\n\t\t\tsetTimeout(function() {\n\t\t\t\tanimation.translateY('-150px').translateX('-50%').step();\n\t\t\t\tthis.setData({\n\t\t\t\t\tanimationData: animation\n\t\t\t\t});\n\n\t\t\t\tif (e.currentTarget.dataset.status == 0) {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowfwModalStatus: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this), 200);\n\t\t},\n\t\t// 分享选择弹窗\n\t\tshowShareModalStatus2: function(e) {\n\t\t\tvar animation = wx.createAnimation({\n\t\t\t\tduration: 300,\n\t\t\t\ttimingFunction: \"linear\",\n\t\t\t\tdelay: 0\n\t\t\t});\n\t\t\tanimation.translateY(300).opacity(1).step();\n\t\t\tthis.setData({\n\t\t\t\tanimationData: animation.export()\n\t\t\t});\n\t\t\tthis.setData({\n\t\t\t\tshowShareModalStatus: true\n\t\t\t});\n\t\t\tsetTimeout(function() {\n\t\t\t\tanimation.translateY(0).step();\n\t\t\t\tthis.setData({\n\t\t\t\t\tanimationData: animation\n\t\t\t\t});\n\n\t\t\t\tif (e.currentTarget.dataset.status == 0) {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowShareModalStatus: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this), 200);\n\t\t},\n\t\t// 商品详情数据获取\n\t\tloadProductDetail: function() {\n\t\t\tvar that = this;\n\t\t\tcommon.showLoad(this);\n\t\t\tvar uri = app.getPath.goodsInfo;\n\t\t\tvar promInfoUri = app.getPath.goodsLabel;\n\t\t\tvar skuAmounturi = app.getPath.getSkuAmount;\n\t\t\tvar data = {\n\t\t\t\tgoods_id: that.productId\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\n\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\tvar productlist = res.data.result; // productlist.min_buy_amount = productlist.min_buy_amount ? productlist.min_buy_amount : 1;\n\t\t\t\t\tconsole.log('productlist',productlist);\t\n\t\t\t\t\tvar content = productlist.goods_content;\n\t\t\t\t\tvar introContent = productlist.detail_explain;\n\t\t\t\t\tvar islike = productlist.is_liked;\n\t\t\t\t\tproductlist.current_price = productlist.shop_price;\n\t\t\t\t\tproductlist.price = productlist.market_price;\n\t\t\t\t\tproductlist.team_price = parseFloat(productlist.team_price); // WxParse.wxParse('content', 'html', content, that, 0);\n\t\t\t\t\t// WxParse.wxParse('introContent', 'html', introContent, that, 0);\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\titemData: productlist,\n\t\t\t\t\t\tbannerItem: productlist.gallery,\n\t\t\t\t\t\tindicatorDots: productlist.gallery.length > 1 ? true : false,\n\t\t\t\t\t\tbuynum: productlist.min_buy_amount,\n\t\t\t\t\t\t// isLike: islike,\n\t\t\t\t\t\tbrandID: productlist.cat_id,\n\t\t\t\t\t\tskuSvipCurrent: parseFloat(productlist.shop_price),\n\t\t\t\t\t\tskuCurrent: parseFloat(productlist.market_price)\n\t\t\t\t\t});\n\n\t\t\t\t\tif (productlist.is_notice == 1) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcheck_remind: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (productlist.is_activity_notice == 1) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcheck_remind_activity: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (that.aldExposure == true) {\n\t\t\t\t\t\t// app.aldstat.sendEvent(\"进入商品详情\", {\n\t\t\t\t\t\t//   \"商品名称\": that.itemData.report.goods_name,\n\t\t\t\t\t\t//   \"用户名\": that.itemData.report.nick_name\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tthat.aldExposure = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (productlist.is_team == 1) {\n\t\t\t\t\t\tthat.teamLabel2();\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.setDefaultSKU(productlist); // that.loadipRecommend();\n\t\t\t\t\t// that.getGoodsRecommend();\n\n\t\t\t\t\tthat.isPriceEqualFun(); // 限时抢购倒计时\n\n\t\t\t\t\tcommon.ApiGateWayTest(promInfoUri, data, true, function(res) {\n\t\t\t\t\t\tvar promInfoData = res.data.result.data;\n\n\t\t\t\t\t\tif (Object.prototype.toString.call(promInfoData) === '[object Object]') {\n\t\t\t\t\t\t\tthat.getDate(promInfoData);\n\t\t\t\t\t\t\tvar activity_price_array = promInfoData.activity_price.split('.');\n\t\t\t\t\t\t\tvar activity_time_start_month = new Date(promInfoData.start_time * 1000).getMonth() + 1 < 10 ? '0' + (new Date(\n\t\t\t\t\t\t\t\t\tpromInfoData.start_time * 1000).getMonth() + 1) : new Date(promInfoData.start_time * 1000).getMonth() +\n\t\t\t\t\t\t\t\t1;\n\t\t\t\t\t\t\tvar activity_time_start_date = new Date(promInfoData.start_time * 1000).getDate() < 10 ? \"0\" + new Date(\n\t\t\t\t\t\t\t\tpromInfoData.start_time * 1000).getDate() : new Date(promInfoData.start_time * 1000).getDate();\n\t\t\t\t\t\t\tvar activity_time_start_hours = new Date(promInfoData.start_time * 1000).getHours() < 10 ? \"0\" + new Date(\n\t\t\t\t\t\t\t\tpromInfoData.start_time * 1000).getHours() : new Date(promInfoData.start_time * 1000).getHours();\n\t\t\t\t\t\t\tvar activity_time_start_min = new Date(promInfoData.start_time * 1000).getMinutes() < 10 ? \"0\" + new Date(\n\t\t\t\t\t\t\t\tpromInfoData.start_time * 1000).getMinutes() : new Date(promInfoData.start_time * 1000).getMinutes();\n\t\t\t\t\t\t\tvar activity_time_start = {\n\t\t\t\t\t\t\t\tactivity_time_start_month: activity_time_start_month,\n\t\t\t\t\t\t\t\tactivity_time_start_date: activity_time_start_date,\n\t\t\t\t\t\t\t\tactivity_time_start_hours: activity_time_start_hours,\n\t\t\t\t\t\t\t\tactivity_time_start_min: activity_time_start_min\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tactivity_bool: true,\n\t\t\t\t\t\t\t\tpromInfoData: promInfoData,\n\t\t\t\t\t\t\t\tactivity_price_start: activity_price_array[0],\n\t\t\t\t\t\t\t\tactivity_price_end: activity_price_array[1],\n\t\t\t\t\t\t\t\tactivity_time_start: activity_time_start,\n\t\t\t\t\t\t\t\tactivity_classfy: res.data.result.type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tactivity_bool: false,\n\t\t\t\t\t\t\t\tpromInfoData: promInfoData,\n\t\t\t\t\t\t\t\tactivity_classfy: ''\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t} else {\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\tcommon.toast(\"获取购物车数量失败\");\n\t\t\t\t}\n\t\t\t});\n\t\t\tcommon.ApiGateWayTest(skuAmounturi, '', true, function(res) {\n\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tcartAmount: res.data.result.cart_num\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//获取购物车当前数量\n\t\t// loadProductCartAmount: function () {\n\t\t//   var that = this;\n\t\t//   var url = '/Api/api.cart.MySkuAmount';\n\t\t//   var data = {};\n\t\t//   common.sentHttpRequestToServer(url, data, function (res) {\n\t\t//     console.log(res);\n\t\t//     var SKUAmount = res.data.GetMySkuAmount ? res.data.GetMySkuAmount : 0;\n\t\t//     that.setData({\n\t\t//       cartAmount: SKUAmount\n\t\t//     });\n\t\t//   })\n\t\t// },\n\t\t// 轮播图片加载完成\n\t\tswiperImageLoad: function() {\n\t\t\tvar that = this;\n\t\t\tthat.setData({\n\t\t\t\tswiperImgBl: true\n\t\t\t});\n\t\t},\n\t\t// 加载优惠券\n\t\tloadProductgift: function() {\n\t\t\tvar that = this;\n\t\t\tvar Bonusuri = app.getPath.goodscouponlist;\n\t\t\tvar data = {\n\t\t\t\tgoods_id: that.productId\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(Bonusuri, data, true, function(res) {\n\t\t\t\tvar shippingBonus = res.data.result;\n\t\t\t\tvar bonusL = 0;\n\t\t\t\tvar bounsTxtnum = 0;\n\n\t\t\t\tif (shippingBonus) {\n\t\t\t\t\tbonusL = shippingBonus.length > 3 ? 3 : shippingBonus.length;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0; i < bonusL; i++) {\n\t\t\t\t\tbounsTxtnum = bounsTxtnum + shippingBonus[i].name.length;\n\t\t\t\t}\n\n\t\t\t\tthat.setData({\n\t\t\t\t\tshippingBonus: shippingBonus\n\t\t\t\t});\n\n\t\t\t\tif (bounsTxtnum > 24) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tbounsTxtnumOn: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 加载IP推荐\n\t\t// loadipRecommend: function () {\n\t\t//   var that = this;\n\t\t//   if (that.data.brandID > 0) {\n\t\t//     var ipurl = app.getPath.goodsIpRecList;\n\t\t//     var ipdata = {\n\t\t//       goods_id: that.data.productId,\n\t\t//     };\n\t\t//     common.ApiGateWayTest(ipurl, ipdata, true, function (res) {\n\t\t//       var res = res.data.result;\n\t\t//       that.setData({\n\t\t//         ipRecommend: res,\n\t\t//       });\n\t\t//     })\n\t\t//   }\n\t\t//   else { console.log(\"brandID为0\"); }\n\t\t// },\n\t\t//设置默认SKU\n\t\tsetDefaultSKU: function(product) {\n\t\t\t// product 请求到的数据\n\t\t\tvar defaultAttrIds = [];\n\t\t\tvar defaultAttrStock = null;\n\t\t\tvar maybeStock = [];\n\t\t\tvar effectiveStock = []; // 得到SKU组合的原始数组\n\n\t\t\tfor (var i = 0; i < product.properties.length; ++i) {\n\t\t\t\tvar property = product.properties[i];\n\n\t\t\t\tif (!property.is_multiselect) {\n\t\t\t\t\tmaybeStock[i] = [];\n\n\t\t\t\t\tfor (var j = 0; j < property.attrs.length; j++) {\n\t\t\t\t\t\tmaybeStock[i].push(property.attrs[j].id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // 得到多个笛卡尔积组合\n\n\n\t\t\tmaybeStock = common.multiCartesian(maybeStock);\n\n\t\t\tif (maybeStock.length && maybeStock[0] instanceof Array) {\n\t\t\t\tfor (var i = 0; i < maybeStock.length; i++) {\n\t\t\t\t\tmaybeStock[i].sort(function(a, b) {\n\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} //验证是否可以购买\n\n\n\t\t\tthis.setData({\n\t\t\t\tcanPurchase: this.checkCanPurchase()\n\t\t\t});\n\t\t\tvar min_sku_price = 9999999999;\n\t\t\tvar min_sku_svip_price = 9999999999;\n\n\t\t\tfor (var i = 0; i < product.stock.length; ++i) {\n\t\t\t\tvar _goods_attr = product.stock[i].key.split('_');\n\n\t\t\t\tvar _min_sku_price = product.stock[i].market_price,\n\t\t\t\t\t_min_sku_svip_price = product.stock[i].price;\n\t\t\t\tvar hasDefaultFlag = false;\n\n\t\t\t\tif (min_sku_svip_price > _min_sku_svip_price) {\n\t\t\t\t\tvar ids = [];\n\n\t\t\t\t\tif (product.is_goods_number > 0 && product.is_on_sale && product.stock[i].is_enough) {\n\t\t\t\t\t\t//商品能购买，并且该sku有库存 则更新最低价\n\t\t\t\t\t\tfor (var ind = 0, len = _goods_attr.length; ind < len; ind++) {\n\t\t\t\t\t\t\tids.push(parseInt(_goods_attr[ind]));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdefaultAttrIds = ids;\n\t\t\t\t\t\tdefaultAttrStock = [{\n\t\t\t\t\t\t\tattrs: defaultAttrIds,\n\t\t\t\t\t\t\tstock: product.stock[i]\n\t\t\t\t\t\t}];\n\t\t\t\t\t\thasDefaultFlag = true;\n\t\t\t\t\t\tmin_sku_svip_price = _min_sku_svip_price;\n\t\t\t\t\t\tmin_sku_price = _min_sku_price;\n\t\t\t\t\t} else if (!product.is_goods_number > 0 || !product.is_on_sale) {\n\t\t\t\t\t\t//商品不能购买，则一定更新最低价，否则就是9999999999\n\t\t\t\t\t\tfor (var ind = 0, len = _goods_attr.length; ind < len; ind++) {\n\t\t\t\t\t\t\tids.push(parseInt(_goods_attr[ind]));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdefaultAttrIds = ids;\n\t\t\t\t\t\tdefaultAttrStock = [{\n\t\t\t\t\t\t\tattrs: defaultAttrIds,\n\t\t\t\t\t\t\tstock: product.stock[i]\n\t\t\t\t\t\t}];\n\t\t\t\t\t\thasDefaultFlag = true;\n\t\t\t\t\t\tmin_sku_svip_price = _min_sku_svip_price;\n\t\t\t\t\t\tmin_sku_price = _min_sku_price;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t_goods_attr.sort(function(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t});\n\n\t\t\t\t_goods_attr = _goods_attr.join('_');\n\n\t\t\t\tfor (var j = 0; j < maybeStock.length; j++) {\n\t\t\t\t\tvar _thisStock = '';\n\n\t\t\t\t\tif (maybeStock[j] instanceof Array) {\n\t\t\t\t\t\t_thisStock = maybeStock[j].join('_');\n\t\t\t\t\t} else if (maybeStock[j] instanceof Object) {\n\t\t\t\t\t\t_thisStock = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_thisStock = maybeStock[j];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_goods_attr == _thisStock) {\n\t\t\t\t\t\tif (product.stock[i].is_enough == true) {\n\t\t\t\t\t\t\teffectiveStock.push({\n\t\t\t\t\t\t\t\tattrs: maybeStock[j],\n\t\t\t\t\t\t\t\tstock: product.stock[i]\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar skuSvipCurrent = this.itemData.current_price;\n\t\t\tvar skuCurrent = this.itemData.price;\n\t\t\tthis.setData({\n\t\t\t\tsku_price: min_sku_price,\n\t\t\t\tmin_sku_price: min_sku_price,\n\t\t\t\tsku_svip_price: min_sku_svip_price,\n\t\t\t\tmin_sku_svip_price: min_sku_svip_price,\n\t\t\t\tskuSvipCurrent: parseFloat(skuSvipCurrent),\n\t\t\t\tskuCurrent: parseFloat(skuCurrent),\n\t\t\t\tcurrentStock: defaultAttrStock\n\t\t\t}); //先通过设置默认sku，来设置默认显示价格，设置完之后，把默认sku去掉，不影响原来逻辑\n\n\t\t\tthis.currentAttrs = defaultAttrIds;\n\t\t\tthis.setData({\n\t\t\t\thasDefaultSKU: this.currentStock ? true : false\n\t\t\t});\n\t\t\tthis.set_choosed_sku();\n\t\t\tdefaultAttrIds = [];\n\t\t\tdefaultAttrStock = null;\n\t\t\tthis.setData({\n\t\t\t\tcurrentStock: null,\n\t\t\t\thasDefaultSKU: false\n\t\t\t});\n\t\t\tthis.currentAttrs = [];\n\n\t\t\tif (effectiveStock.length == 1) {\n\t\t\t\tdefaultAttrIds = effectiveStock[0].attrs instanceof Array ? effectiveStock[0].attrs : [effectiveStock[0].attrs];\n\t\t\t\tdefaultAttrStock = effectiveStock[0].stock;\n\t\t\t}\n\n\t\t\tif (effectiveStock.length > 1) {\n\t\t\t\tfor (var i in product.properties) {\n\t\t\t\t\tvar attrs = product.properties[i].attrs;\n\n\t\t\t\t\tfor (var j in attrs) {\n\t\t\t\t\t\tvar isin_count = 0;\n\n\t\t\t\t\t\tfor (var k in effectiveStock) {\n\t\t\t\t\t\t\tvar isin = new RegExp(attrs[j].id).test(effectiveStock[k].attrs);\n\n\t\t\t\t\t\t\tif (isin) {\n\t\t\t\t\t\t\t\tisin_count++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isin_count == effectiveStock.length) {\n\t\t\t\t\t\t\tdefaultAttrIds.push(attrs[j].id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\tcurrentStock: defaultAttrStock\n\t\t\t});\n\t\t\tthis.currentAttrs = defaultAttrIds;\n\t\t\tthis.setData({\n\t\t\t\thasDefaultSKU: this.currentStock ? true : false\n\t\t\t});\n\t\t\tthis.set_choosed_sku();\n\t\t},\n\t\t//设置choosed_sku\n\t\tset_choosed_sku: function() {\n\t\t\tvar that = this;\n\t\t\tvar product = that.itemData;\n\n\t\t\tif (that.currentAttrs.length < product.properties.length) {\n\t\t\t\tthat.sku_price = that.min_sku_price;\n\t\t\t\tthat.sku_svip_price = that.min_sku_svip_price;\n\t\t\t\tthat.setData({\n\t\t\t\t\tchoosed_sku: '选择：商品规格',\n\t\t\t\t\tskuImages: product.header_img,\n\t\t\t\t\tskuSvipCurrent: parseFloat(that.itemData.current_price),\n\t\t\t\t\tskuCurrent: parseFloat(that.itemData.price)\n\t\t\t\t});\n\t\t\t\tthat.setAttrsClass();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar choosed_sku = '';\n\t\t\tvar sku_price = 0;\n\t\t\tvar sku_svip_price = 0;\n\t\t\tvar sku_svip_team_price = 0;\n\t\t\tvar skuSvipCurrent = that.itemData.current_price;\n\t\t\tvar skuCurrent = that.itemData.price;\n\t\t\tthat.setData({\n\t\t\t\tchoosed_sku: choosed_sku,\n\t\t\t\tsku_price: sku_price,\n\t\t\t\tsku_svip_price: sku_svip_price,\n\t\t\t\tskuSvipCurrent: parseFloat(skuSvipCurrent),\n\t\t\t\tskuCurrent: parseFloat(skuCurrent)\n\t\t\t});\n\n\t\t\tfor (var i in product.properties) {\n\t\t\t\tvar attrs = product.properties[i].attrs;\n\n\t\t\t\tfor (var j in attrs) {\n\t\t\t\t\tfor (var k in that.currentAttrs) {\n\t\t\t\t\t\tif (that.currentAttrs[k] == attrs[j].id) {\n\t\t\t\t\t\t\tchoosed_sku += attrs[j].item + ' '; //\t\t\t\t\tsku_price += attrs[j].attr_price;\n\t\t\t\t\t\t\t//\t\t\t\t\tsku_svip_price += attrs[j].attr_svip_price;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (choosed_sku != '') {\n\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\t\tstock = stock.split('_');\n\t\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t});\n\t\t\t\t\tstock = stock.join('_');\n\t\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\t\tif (attrs == stock) {\n\t\t\t\t\t\tthat.skuImages = product.stock[i].header_img;\n\t\t\t\t\t\tsku_price = product.stock[i].market_price;\n\t\t\t\t\t\tsku_svip_price = product.stock[i].shop_price;\n\t\t\t\t\t\tsku_svip_team_price = product.stock[i].team_price;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthat.confirmData = [{\n\t\t\t\t\tgoods_name: product.goods_name,\n\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\tsku_key: attrs,\n\t\t\t\t\tamount: that.buynum,\n\t\t\t\t\tshop_price: sku_svip_price,\n\t\t\t\t\tmarket_price: sku_price,\n\t\t\t\t\tsku_key_name: \"规格:\" + choosed_sku,\n\t\t\t\t\tsku_img: that.skuImages\n\t\t\t\t}];\n\t\t\t\tchoosed_sku = '已选：' + choosed_sku;\n\t\t\t\tvar skuSvipCurrent = that.team_type == 1 ? sku_svip_team_price : sku_svip_price;\n\t\t\t\tvar skuCurrent = sku_price;\n\t\t\t\tthat.setData({\n\t\t\t\t\tchoosed_sku: choosed_sku,\n\t\t\t\t\tsku_price: sku_price,\n\t\t\t\t\tsku_svip_price: sku_svip_price,\n\t\t\t\t\tskuSvipCurrent: parseFloat(skuSvipCurrent),\n\t\t\t\t\tskuCurrent: parseFloat(skuCurrent),\n\t\t\t\t\tskuImages: that.skuImages\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthat.setAttrsClass();\n\t\t},\n\t\t//SKU选择\n\t\tattrValueselest: function(e) {\n\t\t\tvar that = this;\n\t\t\tvar product = this.itemData;\n\t\t\tif (!product) return;\n\t\t\tvar property = e.currentTarget.dataset.property;\n\t\t\tvar attr = e.currentTarget.dataset.attr;\n\n\t\t\tif (attr.is_multiselect) {\n\t\t\t\tvar attrs = [].concat(this.optionalAttrs);\n\t\t\t\tvar index = attrs.indexOf(attr.id);\n\n\t\t\t\tif (-1 == index) {\n\t\t\t\t\tattrs.push(attr.id);\n\t\t\t\t} else {\n\t\t\t\t\tattrs.splice(index, 1);\n\t\t\t\t}\n\n\t\t\t\tthis.setData({\n\t\t\t\t\toptionalAttrs: attrs\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar inStock = false;\n\n\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\tif (product.stock[i].is_enough != true) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (product.stock[i].key.indexOf(String(attr.id)) >= 0) {\n\t\t\t\t\t\tinStock = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!inStock) {\n\t\t\t\t\tcommon.toast('库存不足');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar stock = null;\n\t\t\t\tvar attrs = [].concat(this.currentAttrs);\n\t\t\t\tvar index = attrs.indexOf(attr.id);\n\n\t\t\t\tif (-1 == index) {\n\t\t\t\t\tattrs.push(attr.id);\n\t\t\t\t} else {\n\t\t\t\t\tattrs.splice(index, 1);\n\t\t\t\t}\n\n\t\t\t\tfor (var i in property.attrs) {\n\t\t\t\t\tif (property.attrs[i].id != attr.id) {\n\t\t\t\t\t\tvar index = attrs.indexOf(property.attrs[i].id);\n\n\t\t\t\t\t\tif (-1 != index) {\n\t\t\t\t\t\t\tattrs.splice(index, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tattrs = attrs.filter(function(attr, index, self) {\n\t\t\t\t\treturn self.indexOf(attr) === index;\n\t\t\t\t});\n\t\t\t\tattrs.sort(function(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t});\n\n\t\t\t\tif (attrs.length) {\n\t\t\t\t\tvar key = attrs.join('_');\n\n\t\t\t\t\tfor (var i = 0; i < product.stock.length; ++i) {\n\t\t\t\t\t\tvar _goods_attr = product.stock[i].key.split('_');\n\n\t\t\t\t\t\t_goods_attr.sort(function(a, b) {\n\t\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t_goods_attr = _goods_attr.join('_');\n\n\t\t\t\t\t\tif (_goods_attr == key) {\n\t\t\t\t\t\t\tstock = product.stock[i];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (stock && stock.is_enough) {\n\t\t\t\t\tthis.currentStock = stock, this.currentAttrs = attrs, this.setData({\n\t\t\t\t\t\tbuynum: product.min_buy_amount\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (attrs.length < product.properties.length) {\n\t\t\t\t\t\tthis.currentStock = null, this.currentAttrs = attrs, this.setData({\n\t\t\t\t\t\t\tbuynum: product.min_buy_amount\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast('库存不足');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.setData({\n\t\t\t\t\tcanPurchase: this.checkCanPurchase()\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.set_choosed_sku();\n\t\t},\n\t\t//设置每一个attr的class\n\t\tsetAttrsClass: function() {\n\t\t\tvar product = this.itemData;\n\t\t\tvar property = product.properties;\n\n\t\t\tfor (var i in property) {\n\t\t\t\tvar attrs = property[i].attrs;\n\n\t\t\t\tfor (var j in attrs) {\n\t\t\t\t\tvar attr = attrs[j];\n\n\t\t\t\t\tif (!product) {\n\t\t\t\t\t\tattr.class = 'disable';\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (product.is_goods_number == 0) {\n\t\t\t\t\t\tattr.class = 'disable';\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar attrArr = [];\n\n\t\t\t\t\tif (attr.is_multiselect) {\n\t\t\t\t\t\tattr.class = this.optionalAttrs.indexOf(attr.id) == -1 ? '' : 'active';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tattr.class = this.currentAttrs.indexOf(attr.id) == -1 ? '' : 'active';\n\t\t\t\t\t\tvar inStock = false;\n\n\t\t\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\t\t\tif (product.stock[i].is_enough != true) {\n\t\t\t\t\t\t\t\tvar currentAyyrsJn = this.currentAttrs.join(\"_\");\n\n\t\t\t\t\t\t\t\tif (product.stock[i].key.indexOf(String(currentAyyrsJn)) >= 0 && this.currentAttrs.length > 0) {\n\t\t\t\t\t\t\t\t\tvar stockDisplyKey = product.stock[i].key.split(\"_\");\n\n\t\t\t\t\t\t\t\t\tfor (var j in stockDisplyKey) {\n\t\t\t\t\t\t\t\t\t\tif (stockDisplyKey[j] != this.currentAttrs) {\n\t\t\t\t\t\t\t\t\t\t\tfor (var k in product.properties) {\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var s in product.properties[k].attrs) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (product.properties[k].attrs[s].id == stockDisplyKey[j]) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproduct.properties[k].attrs[s].class = 'disable';\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (product.stock[i].key.indexOf(String(attr.id)) >= 0) {\n\t\t\t\t\t\t\t\tinStock = true;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!inStock) {\n\t\t\t\t\t\t\tattr.class += 'disable';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\titemData: product\n\t\t\t});\n\t\t},\n\t\t// 收藏\n\t\taddFavorites: function(e) {\n\t\t\tvar that = this;\n\t\t\tvar islike = that.isLike;\n\t\t\tvar productid = that.productId;\n\t\t\tvar uri = app.getPath.goodsLike;\n\t\t\tvar unuri = app.getPath.goodsUnlike;\n\t\t\tvar data = {\n\t\t\t\tgoods_id: productid\n\t\t\t};\n\t\t\tvar undata = {\n\t\t\t\tgoods_id: productid\n\t\t\t};\n\n\t\t\tif (!islike) {\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\tvar res = res.data.result;\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tisLike: !islike\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcommon.toast(\"收藏成功\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcommon.ApiGateWayTest(unuri, undata, true, function(res) {\n\t\t\t\t\tif (res.statusCode == 200) {\n\t\t\t\t\t\tvar res = res.data.result;\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tisLike: !islike\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcommon.toast(\"取消收藏\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t//验证是否可以购买\n\t\tcheckCanPurchase: function() {\n\t\t\tvar product = this.itemData;\n\t\t\tvar required = false;\n\n\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tsumbitName: product.pre_info.pre_time\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!product || product.is_enough == 0) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tsumbitName: '抱歉，商品已售罄'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (product.is_on_sale == 0) {\n\t\t\t\tthis.setData({\n\t\t\t\t\tsumbitName: '抱歉，商品已下架'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.currentAttrs.length >= product.properties.length) {\n\t\t\t\tfor (var i in product.properties) {\n\t\t\t\t\tif (!product.properties[i].is_multiselect) {\n\t\t\t\t\t\trequired = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (required) {\n\t\t\t\t\tif (!this.currentAttrs || !this.currentAttrs.length) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.currentStock) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setData({\n\t\t\t\tsumbitName: '立即购买'\n\t\t\t});\n\t\t\treturn true;\n\t\t},\n\t\t// SKU价格和非VIP价格是否相同\n\t\tisPriceEqualFun: function() {\n\t\t\tvar that = this;\n\n\t\t\tif (that.itemData.price && that.itemData.current_price) {\n\t\t\t\tvar price = that.itemData.price + that.sku_price,\n\t\t\t\t\tsvip_price = that.itemData.current_price + that.sku_svip_price;\n\n\t\t\t\tif (price == svip_price) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tisPriceEqual: true\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tisPriceEqual: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthat.setData({\n\t\t\t\t\tisPriceEqual: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 加减\n\t\tchangeNum: function(e) {\n\t\t\tvar that = this;\n\t\t\tcommon.formIdUpdate(e);\n\t\t\tvar product = that.itemData;\n\t\t\tvar invurl = app.getPath.skuEnough;\n\n\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\tinvurl = app.getPath.skuEnough;\n\t\t\t}\n\n\t\t\tvar product_id = '';\n\n\t\t\tfor (var i in product.stock) {\n\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\tstock = stock.split('_');\n\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\treturn a - b;\n\t\t\t\t});\n\t\t\t\tstock = stock.join('_');\n\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\tif (attrs == stock) {\n\t\t\t\t\tproduct_id = product.stock[i].key;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (that.currentAttrs.length == product.properties.length) {\n\t\t\t\t// alpha-beta 0  减\n\t\t\t\tif (e.currentTarget.dataset.alphaBeta == 0) {\n\t\t\t\t\tif (!that.checkCanPurchase()) return; // Lin start\n\n\t\t\t\t\tif (that.buynum <= that.itemData.min_buy_amount) {\n\t\t\t\t\t\tcommon.toast('不能小于最小购买数量');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} // Lin end\n\n\n\t\t\t\t\tif (that.buynum <= 1) { // buynum: 1\n\t\t\t\t\t} else if (that.buynum === 2) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tbuynum: that.buynum - 1,\n\t\t\t\t\t\t\tundel: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tbuynum: that.buynum - 1\n\t\t\t\t\t\t});\n\t\t\t\t\t} // 验证库存\n\n\n\t\t\t\t\tif (that.buynum != 1) {\n\t\t\t\t\t\tvar invdata = {\n\t\t\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\t\t\tamount: that.buynum\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\t\t\tif (ret.data.result.is_enough != 1) {\n\t\t\t\t\t\t\t\tcommon.toast(ret.data.result.msg);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// alpha-beta 1  加      max_buy_amount==0不限制数量\n\t\t\t\t\t// Lin start\n\t\t\t\t\tif (that.itemData.max_buy_amount != 0 && that.buynum >= that.itemData.max_buy_amount) {\n\t\t\t\t\t\tcommon.toast('不能在多啦~');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} // Lin end\n\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tbuynum: that.buynum + 1,\n\t\t\t\t\t\tundel: false\n\t\t\t\t\t});\n\n\t\t\t\t\tif (that.buynum > 1) {\n\t\t\t\t\t\tvar invdata = {\n\t\t\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\t\t\tamount: that.buynum\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\t\t\tif (ret.data.result.is_enough != 1) {\n\t\t\t\t\t\t\t\tcommon.toast(ret.data.result.msg);\n\t\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\t\tbuynum: that.buynum - 1\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthat.set_choosed_sku();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthat.confirmData.num = that.buynum;\n\t\t\t} else {\n\t\t\t\tif (that.showSKUstatus == 0) {\n\t\t\t\t\tthat.setModalStatus();\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast('请选择商品款式');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat.set_choosed_sku();\n\t\t},\n\t\t//\n\t\tgoRegister: function() {\n\t\t\t// 未登录跳转\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t// 是否购物车有新人商品\n\t\tisnewpersongoods: function(goods_id, product_id) {\n\t\t\tvar uri = app.getPath.isnewpersongoods;\n\t\t\tvar data = {\n\t\t\t\tgoods_id: goods_id,\n\t\t\t\tsku_key: product_id\n\t\t\t};\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\t\tvar data = res.data;\n\n\t\t\t\t\tif (data.success == 1) {\n\t\t\t\t\t\tvar result = data.result.result;\n\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t//添加到购物车\n\t\taddShopCart: function(e) {\n\t\t\tconsole.log('点击加入购物车按钮');\n\t\t\t// 未登录跳转\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this.checkCanPurchase()) return;\n\t\t\tvar that = this;\n\t\t\tvar product = this.itemData;\n\t\t\tvar type = e.currentTarget.dataset.type;\n\n\t\t\tif (type == 'addcart' && that.currentAttrs.length == product.properties.length) {\n\t\t\t\t// 验证库存\n\t\t\t\tvar product_id = '';\n\n\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\t\tstock = stock.split('_');\n\t\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t});\n\t\t\t\t\tstock = stock.join('_');\n\t\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\t\tif (attrs == stock) {\n\t\t\t\t\t\tproduct_id = product.stock[i].key;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar invurl = '';\n\t\t\t\tthat.isnewpersongoods(product.goods_id, product_id).then(function(res) {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tinvurl = app.getPath.addCartnew;\n\t\t\t\t\t\tcommon.showModal('是否替换新人商品', '确定', function(res) {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t_addcart();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinvurl = app.getPath.addCart;\n\n\t\t\t\t\t\t_addcart();\n\t\t\t\t\t}\n\t\t\t\t}); // 加入购物车\n\n\t\t\t\tfunction _addcart() {\n\t\t\t\t\t// if (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\t\t//   invurl = app.getPath.addCart;\n\t\t\t\t\t// }\n\t\t\t\t\tvar invdata = {\n\t\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\t\tamount: that.buynum\n\t\t\t\t\t};\n\t\t\t\t\t// app.aldstat.sendEvent(\"加入购物车\", {\n\t\t\t\t\t//   \"商品名称\": that.itemData.report.goods_name,\n\t\t\t\t\t//   \"用户名\": that.itemData.report.nick_name\n\t\t\t\t\t// });\n\t\t\t\t\tcommon.formIdUpdate(e);\n\n\t\t\t\t\tif (that.stopCartBtn == false) {\n\t\t\t\t\t\tthat.stopCartBtn = true;\n\t\t\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\t\t\tif (ret.data.success != 0) {\n\t\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\t\tcartAmount: ret.data.result.cart_num\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tcommon.toast(ret.data.msg);\n\t\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\t\tshowfwModalStatus: false,\n\t\t\t\t\t\t\t\t\tshowShareModalStatus: false,\n\t\t\t\t\t\t\t\t\tshowBonusModal: false,\n\t\t\t\t\t\t\t\t\tshowModalStatus: false\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthat.showSKUstatus = 0;\n\t\t\t\t\t\t\t\tthat.stopCartBtn = false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcommon.toast(ret.data.msg);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (type != 'addcart' || that.showSKUstatus == 0) {\n\t\t\t\t\tthat.setModalStatus(type);\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowfwModalStatus: false,\n\t\t\t\t\t\tshowShareModalStatus: false,\n\t\t\t\t\t\tshowBonusModal: false\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast('请选择商品款式');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 立即购买\n\t\tnowPurchase: function(e) {\n\t\t\tconsole.log('点击立即购买按钮');\n\t\t\t// 未登录跳转\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\t\t\tconsole.log(app.checkSessionKey)\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\tconsole.log('登录')\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this.checkCanPurchase()) return;\n\t\t\tvar that = this;\n\t\t\tvar atitude = ''; //设置sku确认按钮为立即购买\n\n\t\t\tthis.setData({\n\t\t\t\tteam_type: 0\n\t\t\t});\n\n\t\t\tif (that.itemData.shop_type == 1) {\n\t\t\t\tthat.setzjModalStatus(e);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar product = that.itemData;\n\t\t\t// console.log('that.currentAttrs.length',that.currentAttrs.length)\n\t\t\t// console.log('product.properties.length',product.properties.length)\n\t\t\t// console.log('product.max_buy_amount',product.max_buy_amount)\n\t\t\tthat.team_sku_type = 1\n\t\t\tconsole.log('that.team_sku_type',that.team_sku_type)\n\t\t\tif (that.currentAttrs.length == product.properties.length && product.max_buy_amount < 2 || that.team_sku_type == 1 &&\n\t\t\t\tthat.currentAttrs.length == product.properties.length) {\n\t\t\t\t\tconsole.log('点击购买按钮')\n\t\t\t\t// 验证库存\n\t\t\t\tvar product_id = '';\n\n\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\t\tstock = stock.split('_');\n\t\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t});\n\t\t\t\t\tstock = stock.join('_');\n\t\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\t\tif (attrs == stock) {\n\t\t\t\t\t\tproduct_id = product.stock[i].key;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar invurl = app.getPath.skuEnough;\n\n\t\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\t\tinvurl = app.getPath.skuEnough;\n\t\t\t\t}\n\n\t\t\t\tvar invdata = {\n\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\tamount: that.buynum\n\t\t\t\t};\n\t\t\t\t// app.aldstat.sendEvent(\"立即购买\", {\n\t\t\t\t//   \"商品名称\": that.itemData.report.goods_name,\n\t\t\t\t//   \"用户名\": that.itemData.report.nick_name\n\t\t\t\t// });\n\t\t\t\tcommon.formIdUpdate(e);\n\t\t\t\tcommon.showLoad(this);\n\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\tif (ret.data.result.is_enough != 1) {\n\t\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\t\tcommon.toast(ret.data.result.msg);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnext(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (that.showSKUstatus == 0) {\n\t\t\t\t\tthat.setModalStatus();\n\t\t\t\t\tthat.team_sku_type = 1;\n\t\t\t\t\tconsole.log('team_sku_type改变')\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowfwModalStatus: false,\n\t\t\t\t\t\tshowShareModalStatus: false,\n\t\t\t\t\t\tshowBonusModal: false\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast('请选择商品款式0');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction next() {\n\t\t\t\tvar checkOrderUri = app.getPath.preCheckOrder;\n\t\t\t\tvar orderProduct = [{\n\t\t\t\t\tgoods_id: that.confirmData[0].goods_id,\n\t\t\t\t\tsku_key: that.confirmData[0].sku_key,\n\t\t\t\t\tnum: that.confirmData[0].amount\n\t\t\t\t}];\n\t\t\t\torderProduct = JSON.stringify(orderProduct);\n\t\t\t\tvar checkOrderData = {\n\t\t\t\t\torder_product: orderProduct,\n\t\t\t\t\tteam_order: 0,\n\t\t\t\t\ttime_atitude: app.dataBase.userAtitude\n\t\t\t\t};\n\t\t\t\tcommon.ApiGateWayTest(checkOrderUri, checkOrderData, true, function(resData) {\n\t\t\t\t\tcommon.hideLoad(that);\n\n\t\t\t\t\tif (resData.data.success == 1) {\n\t\t\t\t\t\tthat.confirmData[0]['team_order'] = 0;\n\t\t\t\t\t\tthat.confirmData[0]['channel'] = that.itemData.is_team; // 立即购买的缓存\n\n\t\t\t\t\t\tcommon.setStorage({\n\t\t\t\t\t\t\tkey: \"nowPay\",\n\t\t\t\t\t\t\tdata: that.confirmData\n\t\t\t\t\t\t});\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '/pages/confirm/confirm'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast(resData.data.msg);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 一键开团\n\t\tdelegation: function(e) {\n\t\t\t// 未登录跳转\n\t\t\tvar isOldUser = common.getStorageSync('isOldUser');\n\n\t\t\tif (!app.checkSessionKey || isOldUser == 2) {\n\t\t\t\tcommon.goRegister();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this.checkCanPurchase()) return;\n\t\t\tvar that = this;\n\n\t\t\tif (that.itemData.shop_type == 1) {\n\t\t\t\tthat.setzjModalStatus(e);\n\t\t\t\treturn;\n\t\t\t} //设置sku确认按钮为一键开团\n\n\n\t\t\tthis.setData({\n\t\t\t\tteam_type: 1\n\t\t\t});\n\t\t\tvar product = that.itemData;\n\n\t\t\tif (that.currentAttrs.length == product.properties.length && product.max_buy_amount < 2 || that.team_sku_type == 1 &&\n\t\t\t\tthat.currentAttrs.length == product.properties.length) {\n\t\t\t\t// 验证库存\n\t\t\t\tvar product_id = '';\n\n\t\t\t\tfor (var i in product.stock) {\n\t\t\t\t\tvar stock = product.stock[i].key;\n\t\t\t\t\tstock = stock.split('_');\n\t\t\t\t\tstock.sort(function(a, b) {\n\t\t\t\t\t\treturn a - b;\n\t\t\t\t\t});\n\t\t\t\t\tstock = stock.join('_');\n\t\t\t\t\tvar attrs = that.currentAttrs.join('_');\n\n\t\t\t\t\tif (attrs == stock) {\n\t\t\t\t\t\tproduct_id = product.stock[i].key;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar invurl = app.getPath.skuEnough;\n\n\t\t\t\tif (product.pre_info && product.pre_info.is_pre == 1) {\n\t\t\t\t\tinvurl = app.getPath.skuEnough;\n\t\t\t\t}\n\n\t\t\t\tvar invdata = {\n\t\t\t\t\tgoods_id: product.goods_id,\n\t\t\t\t\tsku_key: product_id,\n\t\t\t\t\tamount: that.buynum\n\t\t\t\t};\n\t\t\t\t// app.aldstat.sendEvent(\"立即购买\", {\n\t\t\t\t//   \"商品名称\": that.itemData.report.goods_name,\n\t\t\t\t//   \"用户名\": that.itemData.report.nick_name\n\t\t\t\t// });\n\t\t\t\tcommon.formIdUpdate(e);\n\t\t\t\tcommon.showLoad(this);\n\t\t\t\tcommon.ApiGateWayTest(invurl, invdata, true, function(ret) {\n\t\t\t\t\tif (!ret) return;\n\n\t\t\t\t\tif (ret.data.result.is_enough != 1) {\n\t\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\t\tcommon.toast(ret.data.result.msg);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// showSKUstatus 0关闭  1展开  重置为关闭\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowModalStatus: false,\n\t\t\t\t\t\t\tshowSKUstatus: 0\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnext(e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (that.showSKUstatus == 0) {\n\t\t\t\t\tthat.setModalStatus();\n\t\t\t\t\tthat.team_sku_type = 1;\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tshowfwModalStatus: false,\n\t\t\t\t\t\tshowShareModalStatus: false,\n\t\t\t\t\t\tshowBonusModal: false,\n\t\t\t\t\t\tskuSvipCurrent: product.stock[0].team_price\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast('请选择商品款式');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction next() {\n\t\t\t\tvar checkOrderUri = app.getPath.preCheckOrder;\n\t\t\t\tvar orderProduct = [{\n\t\t\t\t\tgoods_id: that.confirmData[0].goods_id,\n\t\t\t\t\tsku_key: that.confirmData[0].sku_key,\n\t\t\t\t\tnum: that.confirmData[0].amount\n\t\t\t\t}];\n\t\t\t\torderProduct = JSON.stringify(orderProduct);\n\t\t\t\tvar checkOrderData = {\n\t\t\t\t\torder_product: orderProduct,\n\t\t\t\t\tteam_order: 1,\n\t\t\t\t\tteam_id: that.itemData.team_id,\n\t\t\t\t\ttime_atitude: app.dataBase.userAtitude\n\t\t\t\t};\n\t\t\t\tcommon.ApiGateWayTest(checkOrderUri, checkOrderData, true, function(resData) {\n\t\t\t\t\tcommon.hideLoad(that);\n\n\t\t\t\t\tif (resData.data.success == 1) {\n\t\t\t\t\t\tthat.confirmData[0]['team_order'] = 1;\n\t\t\t\t\t\tthat.confirmData[0]['team_id'] = that.itemData.team_id; // 立即购买的缓存\n\n\t\t\t\t\t\tcommon.setStorage({\n\t\t\t\t\t\t\tkey: \"nowPay\",\n\t\t\t\t\t\t\tdata: that.confirmData\n\t\t\t\t\t\t});\n\t\t\t\t\t\twx.navigateTo({\n\t\t\t\t\t\t\turl: '/pages/confirm/confirm'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast(resData.data.msg);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 加载为你推荐\n\t\tsameCategoryGoods: function() {\n\t\t\tvar that = this;\n\t\t\tvar scgurl = app.getPath.sameCategoryGoods;\n\t\t\tvar data = {\n\t\t\t\tgoods_id: that.productId,\n\t\t\t\tpage_size: 10\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(scgurl, data, true, function(res) {\n\t\t\t\tvar res = res.data.result;\n\t\t\t\tthat.setData({\n\t\t\t\t\tscgGoodsList: res.products\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// //获取评论信息\n\t\t// getCommentlist: function () {\n\t\t//   var that = this;\n\t\t//   var url = \"/Api/api.product.commentList\";\n\t\t//   var productID = parseInt(that.data.productId);\n\t\t//   var data = { product: productID };\n\t\t//   common.ApiGateWayTest(url, data, function (res) {\n\t\t//     that.setData({\n\t\t//       comment: res.data,\n\t\t//     });\n\t\t//     that.addCommentClass();\n\t\t//   });\n\t\t// },\n\t\t// // 评论图\n\t\t// setCommentImage: function (e) {\n\t\t//   var that = this;\n\t\t//   var commentList = that.data.comment.comment_info;\n\t\t//   var current = e.currentTarget.dataset.current;\n\t\t//   var imgUrl = [];\n\t\t//   for (var i = 0; commentList.length > i; i++) {\n\t\t//     for (var j = 0; commentList[i].imgInfo.length > j; j++) {\n\t\t//       imgUrl.push(commentList[i].imgInfo[j].img);\n\t\t//     }\n\t\t//   }\n\t\t//   wx.previewImage({\n\t\t//     current: current,\n\t\t//     urls: imgUrl,\n\t\t//   })\n\t\t// },\n\t\t// setAgainImage: function (e) {\n\t\t//   var that = this;\n\t\t//   var commentList = that.data.comment.comment_info;\n\t\t//   var current = e.currentTarget.dataset.current;\n\t\t//   var imgUrl = [];\n\t\t//   for (var i = 0; commentList.length > i; i++) {\n\t\t//     for (var j = 0; commentList[i].again_info.imgInfo.length > j; j++) {\n\t\t//       imgUrl.push(commentList[i].again_info.imgInfo[j].img);\n\t\t//     }\n\t\t//   }\n\t\t//   wx.previewImage({\n\t\t//     current: current,\n\t\t//     urls: imgUrl,\n\t\t//   })\n\t\t// },\n\t\t// // add the last comment a class\n\t\t// addCommentClass: function () {\n\t\t//   var comm = this.data.comment;\n\t\t//   if (comm.comment_info && comm.comment_info.length > 0) {\n\t\t//     var length = comm.comment_info.length;\n\t\t//     var commInfo = comm.comment_info;\n\t\t//     commInfo[length - 1].class = true;\n\t\t//     for (var i = 0; i < length; i++) {\n\t\t//       if (commInfo[i].content.length > 248) {\n\t\t//         commInfo[i].words = true;\n\t\t//         commInfo[i].wordsCut = true;\n\t\t//       }\n\t\t//       else {\n\t\t//         commInfo[i].words = false;\n\t\t//         commInfo[i].wordsCut = false;\n\t\t//       }\n\t\t//     }\n\t\t//   }\n\t\t//   this.setData({\n\t\t//     comment: comm,\n\t\t//   });\n\t\t// },\n\t\t// limitWord: function (e) {\n\t\t//   var iscut = e.currentTarget.dataset.iscut;\n\t\t//   var infoidx = e.currentTarget.dataset.listnum;\n\t\t//   this.data.comment[infoidx].wordsCut = !iscut;\n\t\t//   if (iscut) {\n\t\t//     this.setData({\n\t\t//       comment: this.data.comment,\n\t\t//       limitWords: \"收起\"\n\t\t//     });\n\t\t//   }\n\t\t//   else {\n\t\t//     this.setData({\n\t\t//       comment: this.data.comment,\n\t\t//       limitWords: \"展开\"\n\t\t//     });\n\t\t//   }\n\t\t// },\n\t\t//获取为你推荐\n\t\t// getGoodsRecommend: function () {\n\t\t//   var that = this;\n\t\t//   var url = \"/Api/api.product.goodsRecList\";\n\t\t//   var productID = parseInt(that.data.productId);\n\t\t//   var cateID = parseInt(that.data.itemData.category);\n\t\t//   var data = {\n\t\t//     goods_id: that.data.productId,\n\t\t//     cat_id: cateID,\n\t\t//   };\n\t\t//   common.ApiGateWayTest(url, data, function (res) {\n\t\t//     if (res) {\n\t\t//       var list = [];\n\t\t//       var lists = [];\n\t\t//       var shoplist = res.goodsRecommend;\n\t\t//       for (var i in shoplist) {\n\t\t//         list.push(shoplist[i]);\n\t\t//         if (i % 2 == 1) {\n\t\t//           lists.push(list)\n\t\t//           list = [];\n\t\t//         }\n\t\t//       }\n\t\t//       if (list.length > 0) {\n\t\t//         lists.push(list)\n\t\t//       }\n\t\t//       that.setData({\n\t\t//         shopList: lists,\n\t\t//       });\n\t\t//     }\n\t\t//   });\n\t\t// },\n\t\t// 分享后发送优惠券\n\t\t// sendShareGift: function () {\n\t\t//   var that = this;\n\t\t//   var url = \"/Api/api.cashgift.giveShippingBounsMore\";\n\t\t//   var openid = app.globalData.userInfo && app.globalData.userInfo.openid ? app.globalData.userInfo.openid : 0;\n\t\t//   var data = {\n\t\t//     openid: openid,\n\t\t//   };\n\t\t//   common.ApiGateWayTest(url, data, function (res) {\n\t\t//     that.setData({\n\t\t//       isshare: 1,\n\t\t//       isShowbox: 1,\n\t\t//     });\n\t\t//     console.log(\"优惠券接口调用成功\");\n\t\t//   });\n\t\t// },\n\t\t// 分享后弹窗WX指示图\n\t\tshareTo: function() {\n\t\t\tthis.setData({\n\t\t\t\tisShowModeWx: 1\n\t\t\t}); // this.onShareAppMessage();\n\t\t},\n\t\tclossShare: function() {\n\t\t\tthis.setData({\n\t\t\t\tisShowModeWx: 0\n\t\t\t});\n\t\t},\n\t\t//\n\t\tcloseShareWx: function() {\n\t\t\tthis.setData({\n\t\t\t\tisShowModeWx: 0\n\t\t\t});\n\t\t},\n\t\tcloseShareBox: function() {\n\t\t\tthis.setData({\n\t\t\t\tisShowbox: 0\n\t\t\t});\n\t\t},\n\t\tcloseShareShowSku: function() {\n\t\t\tthis.setData({\n\t\t\t\tisShowbox: 0\n\t\t\t});\n\t\t\tthis.setModalStatus();\n\t\t},\n\t\t//移动超出显示返回顶部按钮\n\t\tonPageScroll: function(e) {\n\t\t\tvar that = this;\n\n\t\t\tif (that.navbarOpacity < 1 && e.scrollTop > 100) {\n\t\t\t\tthat.setData({\n\t\t\t\t\tnavbarOpacity: e.scrollTop / 500\n\t\t\t\t});\n\t\t\t} else if (that.navbarOpacity > 0 && e.scrollTop < 200) {\n\t\t\t\tthat.setData({\n\t\t\t\t\tnavbarOpacity: e.scrollTop / 500\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (e.scrollTop > 300) {\n\t\t\t\tthat.setData({\n\t\t\t\t\tshowBackTop: true\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthat.setData({\n\t\t\t\t\tshowBackTop: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgotoPagetop: function() {\n\t\t\twx.pageScrollTo({\n\t\t\t\tscrollTop: 0\n\t\t\t});\n\t\t},\n\n\t\t/* bar滚动 */\n\t\tproductGoSP: function() {\n\t\t\tthis.setData({\n\t\t\t\tscrollTop: 0\n\t\t\t});\n\t\t},\n\t\tproductGoPJ: function() {\n\t\t\tthis.setData({\n\t\t\t\tscrollBar: \"comment\" //currentLocation: 2,\n\n\t\t\t});\n\t\t\tvar that = this;\n\t\t\tsetTimeout(function() {\n\t\t\t\tthat.setData({\n\t\t\t\t\tcurrentLocation: 2\n\t\t\t\t});\n\t\t\t}, 400);\n\t\t},\n\t\tproductGoXQ: function() {\n\t\t\tthis.setData({\n\t\t\t\tscrollBar: \"content\" //currentLocation: 3,\n\n\t\t\t});\n\t\t\tvar that = this;\n\t\t\tsetTimeout(function() {\n\t\t\t\tthat.setData({\n\t\t\t\t\tcurrentLocation: 3\n\t\t\t\t});\n\t\t\t}, 400);\n\t\t},\n\t\topenSvip: function() {\n\t\t\tapp.dataBase.pageUrl =\n\t\t\t\t'http://mc.vip.qq.com/qqwallet/index?_wv=3&aid=mios.p.a.em_spxqy&ADTAG=vipmall&type=!svip&month=1';\n\t\t\tcommon.goWebview();\n\t\t},\n\t\t// 返回首页\n\t\tgotoHome: function(e) {\n\t\t\tcommon.formIdUpdate(e);\n\t\t\twx.switchTab({\n\t\t\t\turl: '/pages/index/index'\n\t\t\t});\n\t\t},\n\t\tgoBonusPage: function() {\n\t\t\tthis.setData({\n\t\t\t\tisShowbox: 0\n\t\t\t});\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../rituall/rituall'\n\t\t\t});\n\t\t},\n\t\t//获取系统信息\n\t\tinitNavHeight: function() {\n\t\t\tvar that = this;\n\t\t\twx.getSystemInfo({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\twinWidth: res.windowWidth,\n\t\t\t\t\t\twinHeight: res.windowHeight\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tbannerClosed: function() {\n\t\t\tthis.setData({\n\t\t\t\tbannerApp: false\n\t\t\t});\n\t\t},\n\t\t// 跳转购物车\n\t\tgoToCart: function(e) {\n\t\t\tcommon.formIdUpdate(e);\n\t\t\twx.switchTab({\n\t\t\t\turl: '../cart/cart'\n\t\t\t});\n\t\t},\n\t\tproductGoProduct: function(e) {\n\t\t\tvar id = e.currentTarget.dataset.id;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../product/product?productId=' + id\n\t\t\t});\n\t\t},\n\t\tproductGoTheme: function(e) {\n\t\t\tvar brand_id = e.currentTarget.dataset.brand;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../listdetail/listdetail?cat_id=&title=&brand_id=' + brand_id\n\t\t\t});\n\t\t},\n\t\tproductGoComment: function(e) {\n\t\t\tvar productId = e.currentTarget.dataset.productid;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../comment/comment?productId=' + productId\n\t\t\t});\n\t\t},\n\t\taldminishare: function(e) {\n\t\t\tvar that = this;\n\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\tvar url = 'pages/product/product?productId=' + that.itemData.goods_id + '&entryType=external&pickup_id=' + pickup.pickup_id;\n\t\t\tvar data = {};\n\t\t\tdata = e.currentTarget.dataset;\n\t\t\tdata['path'] = url;\n\t\t\twx.showToast({\n\t\t\t\ttitle: '分享生成中...',\n\t\t\t\ticon: 'loading'\n\t\t\t});\n\t\t\twx.request({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: 'https://shareapi.aldwx.com/Main/action/Template/Template/applet_htmlpng',\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif (data.data.code === 200) {\n\t\t\t\t\t\twx.previewImage({\n\t\t\t\t\t\t\turls: [data.data.data]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tthat.clossShare(); // 关闭loading\n\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t},\n\t\t\t\tcomplete: function() {\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t},\n\t\t\t\tfail: function() {\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t// 分享图片\n\t\tcloseSharePic: function() {\n\t\t\tthis.setData({\n\t\t\t\tisShowSharePic: false\n\t\t\t});\n\t\t},\n\t\tdrawPic: function() {\n\t\t\tlet that = this;\n\t\t\tthat.clossShare();\n\t\t\tcommon.showLoad(this); // let AcodePic = null;\n\n\t\t\tvar productShareimg = \"\";\n\t\t\tvar codePicImage = \"\";\n\t\t\tvar drawImageUrl = \"\"; // let promise1 = new Promise(function (resolve, reject) {\n\t\t\t//   /* 获得要在画布上绘制的图片 */\n\t\t\t//   wx.getImageInfo({\n\t\t\t//     src: that.data.iconURL + \"/product-share-card.png\",\n\t\t\t//     success(res) {\n\t\t\t//       drawImageUrl = res.path;\n\t\t\t//       console.log(\"drawImageUrl\", drawImageUrl)\n\t\t\t//       resolve(res);\n\t\t\t//     }\n\t\t\t//   })\n\t\t\t// });\n\n\t\t\tlet promise2 = new Promise(function(resolve, reject) {\n\t\t\t\t/* 获得要在画布上绘制的图片 */\n\t\t\t\t// wx.downloadFile({\n\t\t\t\t//   url: that.data.skuImages, // 仅为示例，并非真实的资源\n\t\t\t\t//   success(res) {\n\t\t\t\t//     // 只要服务器有响应数据，就会把响应内容写入文件并进入 success 回调，业务需要自行判断是否下载到了想要的内容\n\t\t\t\t//     if (res.statusCode === 200) {\n\t\t\t\t//       productShareimg = res.tempFilePath;\n\t\t\t\t//       resolve(res);\n\t\t\t\t//     } else {\n\t\t\t\t//       wx.showToast({\n\t\t\t\t//         title: '网络繁忙，无法生成分享图',\n\t\t\t\t//         icon: 'none'\n\t\t\t\t//       })\n\t\t\t\t//       reject();\n\t\t\t\t//     }\n\t\t\t\t//   },\n\t\t\t\t//   fail(res) {\n\t\t\t\t//     wx.showToast({\n\t\t\t\t//       title: '下载接口没跑通',\n\t\t\t\t//       icon: 'none'\n\t\t\t\t//     })\n\t\t\t\t//     reject();\n\t\t\t\t//   }\n\t\t\t\t// })\n\t\t\t\twx.getImageInfo({\n\t\t\t\t\tsrc: that.skuImages,\n\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tproductShareimg = res.path;\n\t\t\t\t\t\tresolve(res);\n\t\t\t\t\t},\n\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\ttitle: '网络繁忙，无法生成分享图',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\n\t\t\t\t});\n\t\t\t});\n\t\t\tvar pickup = common.getStorageSync('getpickup');\n\t\t\tlet promise3 = new Promise(function(resolve, reject) {\n\t\t\t\twx.request({\n\t\t\t\t\t//正式服\n\t\t\t\t\turl: 'https://wx.shop.haoyousheng.com.cn/v1/goods/getWXACodeUnlimit',\n\t\t\t\t\t//测试服\n\t\t\t\t\t// url: 'https://api-t.st-llshop.surex.cn/v1/goods/getWXACodeUnlimit',\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tresponseType: 'arraybuffer',\n\t\t\t\t\t//这一行非常重要，重中之重\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tsecene: that.productId + '&' + pickup.pickup_id,\n\t\t\t\t\t\tpage: \"pages/product/product\",\n\t\t\t\t\t\tapplication: 'goodBuy'\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t// var base64 = wx.arrayBufferToBase64(res.data);\n\t\t\t\t\t\t// let AcodePic = \"data:image/PNG;base64,\" + base64;\n\t\t\t\t\t\t// console.log(\"二维码获取临时地址\")\n\t\t\t\t\t\t// wx.getImageInfo({\n\t\t\t\t\t\t//   src: base64,\n\t\t\t\t\t\t//   success(res) {\n\t\t\t\t\t\t//     codePicImage = res.path;\n\t\t\t\t\t\t//     console.log(\"codePicImage\", codePicImage)\n\t\t\t\t\t\t//     resolve(res);\n\t\t\t\t\t\t//   }\n\t\t\t\t\t\t// })\n\t\t\t\t\t\tvar timestamp = Date.parse(new Date());\n\t\t\t\t\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${'erweima' + timestamp}.${'jpg'}`;\n\t\t\t\t\t\twx.getFileSystemManager().writeFile({\n\t\t\t\t\t\t\tfilePath,\n\t\t\t\t\t\t\tdata: res.data,\n\t\t\t\t\t\t\tencoding: 'binary',\n\n\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\tcodePicImage = filePath;\n\t\t\t\t\t\t\t\tresolve(filePath);\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\treject(new Error('ERROR_BASE64SRC_WRITE'));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tfail: function(res) {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\t/* 图片获取成功才执行后续代码 */\n\n\t\t\tPromise.all([promise2, promise3]).then(res => {\n\t\t\t\t/* 创建 canvas 画布 */\n\t\t\t\tconst ctx = wx.createCanvasContext('shareImg'); // 填充背景色\n\n\t\t\t\tctx.rect(0, 0, 283, 480);\n\t\t\t\tctx.setFillStyle('#FFFFFF');\n\t\t\t\tctx.fill(); // 背景上画圆\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(142, -39, 185, 0, 2 * Math.PI);\n\t\t\t\tctx.setFillStyle('#ffe150');\n\t\t\t\tctx.fill(); // 圆角矩形加阴影\n\n\t\t\t\tlet rec_x = 35,\n\t\t\t\t\trec_y = 36,\n\t\t\t\t\trec_r = 10,\n\t\t\t\t\trec_w = 220,\n\t\t\t\t\trec_h = 290;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(rec_x + rec_r, rec_y);\n\t\t\t\tctx.arcTo(rec_x + rec_w, rec_y, rec_x + rec_w, rec_y + rec_h, rec_r);\n\t\t\t\tctx.arcTo(rec_x + rec_w, rec_y + rec_h, rec_x, rec_y + rec_h, rec_r);\n\t\t\t\tctx.arcTo(rec_x, rec_y + rec_h, rec_x, rec_y, rec_r);\n\t\t\t\tctx.arcTo(rec_x, rec_y, rec_x + rec_w, rec_y, rec_r);\n\t\t\t\tctx.setFillStyle('#FFFFFF');\n\t\t\t\tctx.setShadow(0, 0, 15, '#DDDDDD');\n\t\t\t\tctx.fill();\n\t\t\t\tctx.setShadow(0, 0, 0, '#ffffff'); // 圆角矩形TAG\n\n\t\t\t\tlet draw_x = 95,\n\t\t\t\t\tdraw_y = 275,\n\t\t\t\t\tdraw_r = 2,\n\t\t\t\t\tdraw_w = 40,\n\t\t\t\t\tdraw_h = 16;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(draw_x + draw_r, draw_y);\n\t\t\t\tctx.arcTo(draw_x + draw_w, draw_y, draw_x + draw_w, draw_y + draw_h, draw_r);\n\t\t\t\tctx.arcTo(draw_x + draw_w, draw_y + draw_h, draw_x, draw_y + draw_h, draw_r);\n\t\t\t\tctx.arcTo(draw_x, draw_y + draw_h, draw_x, draw_y, draw_r);\n\t\t\t\tctx.arcTo(draw_x, draw_y, draw_x + draw_w, draw_y, draw_r);\n\t\t\t\tctx.setStrokeStyle('red');\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\t/* 绘制图像到画布  图片的位置你自己计算好就行 参数的含义看文档 */\n\n\t\t\t\t/* ps: 网络图片的话 就不用加../../路径了 反正我这里路径得加 */\n\t\t\t\t// ctx.setGlobalAlpha(0.1)\n\t\t\t\t// ctx.drawImage(that.data.bannerItem[0].src, -109, -109, 600, 600)\n\t\t\t\t// ctx.setGlobalAlpha(1)\n\t\t\t\t// ctx.drawImage(drawImageUrl, 31, 36, 222, 300);\n\n\t\t\t\tctx.drawImage(productShareimg, 66, 71, 150, 150);\n\t\t\t\tctx.drawImage(codePicImage, 101, 340, 80, 80);\n\t\t\t\t/* 绘制文字 位置自己计算 参数自己看文档 */\n\n\t\t\t\tctx.setTextAlign('center'); //  位置\n\n\t\t\t\tctx.setFillStyle('#555555'); //  颜色\n\n\t\t\t\tctx.setFontSize(14); //  字号\n\n\t\t\t\tif (that.itemData.goods_name.length > 12) {\n\t\t\t\t\tctx.fillText(that.itemData.goods_name.slice(0, 12), 283 / 2, 245); //  内容  不会自己换行 需手动换行\n\n\t\t\t\t\tctx.fillText(that.itemData.goods_name.slice(12, 24), 283 / 2, 265); //  内容\n\t\t\t\t} else {\n\t\t\t\t\tctx.fillText(that.itemData.goods_name, 283 / 2, 245); //  内容  不会自己换行 需手动换行\n\t\t\t\t} // 圆角矩形内容\n\n\n\t\t\t\tctx.setTextAlign('center'); //  位置\n\n\t\t\t\tctx.setFillStyle('red'); //  颜色\n\n\t\t\t\tctx.setFontSize(10); //  字号\n\n\t\t\t\tctx.fillText('抢购价', 115, 287); //  内容\n\t\t\t\t// 价格\n\n\t\t\t\tctx.setTextAlign('center'); //  位置\n\n\t\t\t\tctx.setFillStyle('red'); //  颜色\n\n\t\t\t\tctx.setFontSize(14); //  字号\n\n\t\t\t\tctx.fillText('¥' + that.skuSvipCurrent, 165, 289); //  内容\n\t\t\t\t// 底部提示\n\n\t\t\t\tctx.setTextAlign('center'); //  位置\n\n\t\t\t\tctx.setFillStyle('#555555'); //  颜色\n\n\t\t\t\tctx.setFontSize(11); //  字号\n\n\t\t\t\tctx.fillText('长按图片识别小程序码', 283 / 2, 445); //  内容\n\n\t\t\t\tctx.setTextAlign('center'); //  位置\n\n\t\t\t\tctx.setFillStyle('#AAAAAA'); //  颜色\n\n\t\t\t\tctx.setFontSize(9); //  字号\n\n\t\t\t\tctx.fillText('*实际价格以页面展示为准', 283 / 2, 460); //  内容\n\t\t\t\t// 原价\n\n\t\t\t\tctx.setTextAlign('center'); //  位置\n\n\t\t\t\tctx.setFillStyle('#AAAAAA'); //  颜色\n\n\t\t\t\tctx.setFontSize(12); //  字号\n\n\t\t\t\tctx.fillText('原价 ¥' + that.skuCurrent, 283 / 2, 310); //  内容\n\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(100, 305);\n\t\t\t\tctx.lineTo(183, 305);\n\t\t\t\tctx.setStrokeStyle('#AAAAAA');\n\t\t\t\tctx.stroke();\n\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t/* 绘制 */\n\n\t\t\t\tthat.setData({\n\t\t\t\t\tisShowSharePic: true\n\t\t\t\t});\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.draw(false, () => {\n\t\t\t\t\tthat.TransformationPic();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tTransformationPic: function() {\n\t\t\t// 生成分享图\n\t\t\tlet that = this;\n\t\t\twx.canvasToTempFilePath({\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tcanvasId: 'shareImg',\n\t\t\t\tfileType: \"jpg\",\n\t\t\t\tquality: 1,\n\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log(\"分享图生成成功\");\n\t\t\t\t\t/* 这里 就可以显示之前写的 预览区域了 把生成的图片url给image的src */\n\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tpreurl: res.tempFilePath\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tfail(res) {\n\t\t\t\t\twx.showModal({\n\t\t\t\t\t\ttitle: '消息提示',\n\t\t\t\t\t\tcontent: '生成分享图失败,请重试',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\t\tsaveSharePic: function() {\n\t\t\tlet that = this;\n\t\t\tcommon.showLoad(this);\n\t\t\twx.saveImageToPhotosAlbum({\n\t\t\t\tfilePath: that.preurl,\n\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tisShowSharePic: false,\n\t\t\t\t\t\tpreurl: null\n\t\t\t\t\t});\n\t\t\t\t\twx.showModal({\n\t\t\t\t\t\ttitle: '保存成功',\n\t\t\t\t\t\tcontent: '分享图保存成功',\n\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tfail(res) {\n\t\t\t\t\tcommon.hideLoad(that);\n\n\t\t\t\t\tif (res.errMsg === \"saveImageToPhotosAlbum:fail auth deny\") {\n\t\t\t\t\t\twx.showModal({\n\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\tcontent: '未获取相册授权，是否获取',\n\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\twx.openSetting({\n\t\t\t\t\t\t\t\t\t\tsuccess(settingdata) {\n\t\t\t\t\t\t\t\t\t\t\tif (settingdata.authSetting['scope.writePhotosAlbum']) {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.saveSharePic();\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"拒绝授权将无法保存图片\",\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\t\t\t\twx.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: \"拒绝授权将无法保存图片\",\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\t\tsetzjModalStatus: function(e) {\n\t\t\tconsole.log(e);\n\t\t\tvar animation = wx.createAnimation({\n\t\t\t\tduration: 250,\n\t\t\t\ttimingFunction: \"linear\",\n\t\t\t\tdelay: 0\n\t\t\t});\n\t\t\tanimation.translateY(368).opacity(1).step();\n\t\t\tthis.setData({\n\t\t\t\tanimationData: animation.export()\n\t\t\t});\n\t\t\tthis.setData({\n\t\t\t\tshowzjModalStatus: true\n\t\t\t});\n\t\t\tsetTimeout(function() {\n\t\t\t\tanimation.translateY('-150px').translateX('-50%').step();\n\t\t\t\tthis.setData({\n\t\t\t\t\tanimationData: animation\n\t\t\t\t});\n\n\t\t\t\tif (e.currentTarget.dataset.status == 0) {\n\t\t\t\t\tthis.setData({\n\t\t\t\t\t\tshowzjModalStatus: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this), 200);\n\t\t},\n\t\t// 切换租机 方案详情\n\t\trentToggle: function(e) {\n\t\t\tlet status = e.currentTarget.dataset.status;\n\n\t\t\tif (status != this.rentToggleStatus) {\n\t\t\t\tconsole.log(status);\n\t\t\t\tthis.setData({\n\t\t\t\t\trentToggleStatus: status\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 跳转任选活动\n\t\tto_activity: function(e) {\n\t\t\tlet id = e.currentTarget.dataset.activity_id;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../../packageA/select/select?entryType=external&id=' + id\n\t\t\t});\n\t\t},\n\t\t// 取消设置弹窗\n\t\tsettingModalStatus: function() {\n\t\t\tthis.setData({\n\t\t\t\tshowSettingModalStatus: false\n\t\t\t});\n\t\t},\n\t\t// 拼团次数\n\t\tteamLabel2: function() {\n\t\t\tvar that = this;\n\t\t\tvar uri = app.getPath.teamLabel;\n\t\t\tvar data = {\n\t\t\t\tteam_id: that.itemData.team_id\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(uri, data, true, function(res) {\n\t\t\t\tif (res.data.success == 1) {\n\t\t\t\t\tthat.setData({\n\t\t\t\t\t\tteamLabel: res.data.result.data\n\t\t\t\t\t});\n\t\t\t\t\tvar nowtime = new Date().getTime() / 1000;\n\n\t\t\t\t\tif (that.teamLabel.start_time > nowtime || that.teamLabel.end_time > nowtime) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowCountDown: true\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (that.teamLabel.status === 2) {\n\t\t\t\t\t\t\tthat.countDown(that.teamLabel.start_time);\n\t\t\t\t\t\t} else if (that.teamLabel.status === 1) {\n\t\t\t\t\t\t\tthat.countDown(that.teamLabel.end_time);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//获取拼团列表\n\t\tgetTeamList() {\n\t\t\tvar that = this;\n\t\t\tvar url = app.getPath.teamList;\n\t\t\tvar data = {\n\t\t\t\tgoods_id: this.productId\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tvar res = res.data;\n\n\t\t\t\tif (res.success == 1) {\n\t\t\t\t\tif (res.result.data.length > 2) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tteamList: res.result.data.concat(res.result.data),\n\t\t\t\t\t\t\tteam_num: res.result.data.length\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconsole.log(that.teamList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tteamList: res.result.data,\n\t\t\t\t\t\t\tteam_num: res.result.data.length\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//跳转拼团列表\n\t\tloadTeamList() {\n\t\t\tvar that = this;\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../../packageA/team-list/team-list?entryType=external&goods_id=' + that.productId\n\t\t\t});\n\t\t},\n\n\t\t// 前往设置\n\t\tgoSetting: function() {\n\t\t\tvar that = this;\n\t\t\twx.openSetting({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tif (res.authSetting[\"scope.userLocation\"] == true) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowSettingModalStatus: false\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\t\t},\n\n\t\t// 切换提醒未提醒\n\t\tchange_team() {\n\t\t\tlet that = this;\n\t\t\tcommon.showLoad(this);\n\t\t\tlet url = app.getPath.remindTeam;\n\t\t\tlet data = {\n\t\t\t\tteam_id: that.itemData.team_id,\n\t\t\t\tis_notice: that.check_remind ? '0' : '1'\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tvar res = res.data;\n\n\t\t\t\tif (res.success == 1) {\n\t\t\t\t\tif (res.result.status == 1) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcheck_remind: !that.check_remind\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcommon.toast(res.result.msg);\n\t\t\t\t\t} else if (res.result.status == 0) {\n\t\t\t\t\t\tcommon.toast(res.result.msg);\n\t\t\t\t\t} else if (res.result.status == 2) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowPhoneModal: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tcommon.hideLoad(that);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 抢购提醒\n\t\tactiveChangeMe(e) {\n\t\t\tvar that = this;\n\t\t\tcommon.formIdUpdate(e);\n\t\t\tlet url = app.getPath.fastbuy;\n\t\t\tlet data = {\n\t\t\t\tnotice_activity_id: that.itemData.notice_activity_id\n\t\t\t};\n\t\t\tcommon.ApiGateWayTest(url, data, true, function(res) {\n\t\t\t\tvar resData = res.data;\n\n\t\t\t\tif (resData.success == 1) {\n\t\t\t\t\tif (resData.result.status == 1) {\n\t\t\t\t\t\tcommon.toast(resData.result.msg);\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tcheck_remind_activity: !that.check_remind_activity\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (resData.result.status == 2) {\n\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\tshowPhoneModal: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcommon.toast(resData.result.msg);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcommon.toast(resData.msg);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//  跳转领券中心\n\t\tgoCouponList() {\n\t\t\tconsole.log(6666)\n\t\t\twx.navigateTo({\n\t\t\t\turl: '../couponCenter/couponCenter?entryType=external'\n\t\t\t});\n\t\t},\n\n\t\t// 关闭手机号授权弹窗\n\t\tclosePhoneModal() {\n\t\t\tthis.setData({\n\t\t\t\tshowPhoneModal: false\n\t\t\t});\n\t\t},\n\n\t\t// 显示获取手机号授权弹窗\n\t\ttoShowPhoneModal() {\n\t\t\tthis.setData({\n\t\t\t\tshowPhoneModal: true\n\t\t\t});\n\t\t},\n\n\t\t// 获取手机号授权\n\t\tgetPhone: function(e) {\n\t\t\tvar that = this;\n\n\t\t\tif (!(e.detail.encryptedData && e.detail.iv)) {\n\t\t\t\treturn false;\n\t\t\t} // 新用户注册\n\t\t\t// 获取手机号\n\n\n\t\t\tvar mobileUri = app.getPath.getWXMobile; // 重新获取code获取手机号\n\n\t\t\twx.login({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tvar Mobiledata = {\n\t\t\t\t\t\tencryptedData: e.detail.encryptedData,\n\t\t\t\t\t\tiv: e.detail.iv,\n\t\t\t\t\t\tcode: res.code\n\t\t\t\t\t};\n\t\t\t\t\tcommon.ApiGateWayTest(mobileUri, Mobiledata, true, function(resData) {\n\t\t\t\t\t\tif (resData.data.success == 1) {\n\t\t\t\t\t\t\tcommon.toast('绑定成功');\n\t\t\t\t\t\t\tthat.setData({\n\t\t\t\t\t\t\t\tshowPhoneModal: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t},\n\t\tback: function() {\n\t\t\twx.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t});\n\t\t},\n\t\tbackHome: function() {\n\t\t\twx.switchTab({\n\t\t\t\turl: '/pages/index/index'\n\t\t\t});\n\t\t},\n\t\tsetData: function(obj) {\n\t\t\tlet that = this;\n\t\t\tlet keys = [];\n\t\t\tlet val, data;\n\t\t\tObject.keys(obj).forEach(function(key) {\n\t\t\t\tkeys = key.split('.');\n\t\t\t\tval = obj[key];\n\t\t\t\tdata = that.$data;\n\t\t\t\tkeys.forEach(function(key2, index) {\n\t\t\t\t\tthat[key] = obj[key];\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n};\n","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./product.vue?vue&type=template&id=6c6a2208&\"\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6c6a2208', component.options)\n    } else {\n      api.reload('6c6a2208', component.options)\n    }\n    module.hot.accept(\"./product.vue?vue&type=template&id=6c6a2208&\", function () {\n      api.rerender('6c6a2208', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/xhz/Desktop/project/mmt 10.12 - 16.00/pages/product/product.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product.vue?vue&type=template&id=6c6a2208&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.team_type == 0 ? \"nowPurchase\" : \"delegation\"\n    }\n  }\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}